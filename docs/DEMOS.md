# Демки

## Зачем

Демки служат исключительно для демонстрационных целей. Их задача — помочь читателю лучше понять объясняемые в статье понятия.

Код демки не предназначен читателю, так как содержит много сопутствующего кода, который не относится к теме напрямую. Если код демки можно читать без подготовки, то он может вставляться текстом в статью.

## Как работает

Каждая демка —— это отдельная страница сайта и может быть открыта по ссылке. Она встраивается в текст статьи с помощью `iframe`.

Демки хранятся в папке `src/demos` и группируются по статьям. Обычно демка состоит из файла шаблона (`njk`), файлов стилей и JavaScript. Например, демка для статьи `span` будет лежать в `src/demos/span/demo.njk` или `src/demos/span/index.njk`

При сборке из шаблона генерируется страница, доступная по ссылке. В нашем примере это будут ссылки `/demos/span/demo` и `demos/span/` (☝️ обрати внимание, как генерируется ссылка для index.njk )

## Как вставить демку в статью

Воспользуйся шорткодом `demo` в тексте статьи:

```
текст ...

{% demo "/span/show", "Демонстрация работы span", 500 %}

еще текст ...

```

У шорткода один обязательный параметр и два дополнительных:

- ссылка на демку относительно папки `demos`. Если шаблон назывался `index.njk` то он не попадет в ссылку (см.пример выше)
- title чтобы было все пучком с accessibility
- высота демки в пикселях (значение по умолчанию 400). Высота демки будет динамически установлена после загрузки страницы, но чтобы избежать скачков на странице, это значение должно быть как можно ближе к реальному.

☝️ Рекомендуем всегда указывать все три параметра.

### Почему мы используем `iframe` для вставки демок

`iframe` позволяет держать код демки изолированным от статьи и друг от друга. Таким образом мы избавляемся от ситуаций, когда демки используют одинаковые `id` или JavaScript код, который влияет на другие объекты страницы
