---
title: "GitLab CI/CD"
description: "–ß—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ GitHub Actions, –Ω–æ –¥–ª—è GitLab. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞."
authors:
  - vitalybaev
editors:
  - tachisis
related:
  - js/how-to-test-and-why
  - tools/package-managers
  - tools/code-review
tags:
  - article
---

<aside>

üìö –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –º—ã –≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã CI/CD (Continuous Integration –∏ Continuous Delivery). –ü–æ–¥ —ç—Ç–∏–º–∏ —Ç–µ—Ä–º–∏–Ω–∞–º–∏ –ø–æ–Ω–∏–º–∞–µ—Ç—Å—è –∏—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è –∫–æ–¥–∞: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞ –∫–æ–¥–∞, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, —Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ü–æ–¥—Ä–æ–±–Ω–æ –æ–± —ç—Ç–æ–º –≥–æ–≤–æ—Ä–∏—Ç—Å—è –≤ —Å—Ç–∞—Ç—å–µ ¬´[–ß—Ç–æ —Ç–∞–∫–æ–µ CI/CD](/tools/ci-cd/)¬ª.

</aside>

## –û GitLab

[GitLab](https://gitlab.com) ‚Äî –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è. –í—ã –º–æ–∂–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å [Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏](/tools/version-control/), —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–¥–∞—á–∞–º–∏, –æ–±—Å—É–∂–¥–∞—Ç—å –ø—Ä–∞–≤–∫–∏ —Å –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥–æ–π, –ø–∏—Å–∞—Ç—å wiki-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ, –≤—ã–ø—É—Å–∫–∞—Ç—å —Ä–µ–ª–∏–∑—ã –∏ –¥–∞–∂–µ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã ‚Äî –∏ –≤—Å—ë —ç—Ç–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

## –ö—Ä–∞—Ç–∫–æ

GitLab CI ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ GitLab –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä—É—Ç–∏–Ω–Ω—ã—Ö –∑–∞–¥–∞—á, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏—Ö –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è. –°–ø–µ–∫—Ç—Ä —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á –æ–≥—Ä–æ–º–µ–Ω –∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –ø—Ä–æ–µ–∫—Ç–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É, –Ω–æ –æ—Å–Ω–æ–≤–Ω—ã–µ ‚Äî —ç—Ç–æ [—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](/js/how-to-test-and-why/), [—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑](/tools/static-analysis/), [–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞](/js/code-style/) –∏ –¥–µ–ø–ª–æ–π (–≤—ã–ø—É—Å–∫) –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. GitLab CI ‚Äî –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç –¥—Ä—É–≥–æ–≥–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, [GitHub Actions](/tools/github-actions/). –≠—Ç–∏ –¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞ –≤–æ –º–Ω–æ–≥–æ–º –ø–æ—Ö–æ–∂–∏, –Ω–æ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ª–∏—á–∏—è.

## –ü—Ä–∏–º–µ—Ä

–î–æ–ø—É—Å—Ç–∏–º, –º—ã –¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å –≤ –∫–æ–º–∞–Ω–¥–µ –æ–± –æ—Å–æ–±—ã—Ö –ø—Ä–∞–≤–∏–ª–∞—Ö –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∫–æ–¥–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ [EditorConfig](https://editorconfig.org/), —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –µ–≥–æ –∫–∞–∫ –¥–µ–≤-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∏ —Å–¥–µ–ª–∞–ª–∏ –µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `npm run editorconfig`. –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º, –Ω–æ –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —ç—Ç–æ –∑–∞–±—É–¥—É—Ç —Å–¥–µ–ª–∞—Ç—å, –∏ –∫–æ–¥, –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–π –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ–ø–∞–¥—ë—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –ó–¥–µ—Å—å –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ –ø–æ–º–æ—â—å GitLab CI/CD ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª _.gitlab-ci.yml_ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º:

```yaml
EditorConfig:
  image: node:lts
  script:
    - npm ci
    - npm run editorconfig
```

–ò —Ç–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥, –æ–Ω –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º, –∞ –æ—à–∏–±–∫–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ GitLab.

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

–û—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é –≤ GitLab CI/CD —è–≤–ª—è–µ—Ç—Å—è **–ø–∞–π–ø–ª–∞–π–Ω** (pipeline) ‚Äî –∫–æ–Ω–≤–µ–π–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑:

- **–¥–∂–æ–±–æ–≤** (jobs), –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö _—á—Ç–æ_ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å;
- **—ç—Ç–∞–ø–æ–≤** (stages), —É–∫–∞–∑—ã–≤–∞—é—â–∏—Ö _–∫–æ–≥–¥–∞ –∏–ª–∏ –≤ –∫–∞–∫–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏_ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–∂–æ–±—ã.

–î–∂–æ–±—ã –≤ –æ–¥–Ω–æ–º —ç—Ç–∞–ø–µ –æ–±—ã—á–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ. –ï—Å–ª–∏ –≤—Å–µ –¥–∂–æ–±—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å —É—Å–ø–µ—à–Ω–æ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ï—Å–ª–∏ –ª—é–±–æ–π –∏–∑ –¥–∂–æ–±–æ–≤ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –æ—à–∏–±–∫–æ–π, —Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –∏ –≤–µ—Å—å –ø–∞–π–ø–ª–∞–π–Ω (–æ–±—ã—á–Ω–æ) —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã–º.

### –°–æ–∑–¥–∞—ë–º `.gitlab-ci.yml`

GitLab CI –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ [YAML](/tools/yaml/), –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî _.gitlab-ci.yml_.

–î–∂–æ–±—ã —á–∞—Å—Ç–æ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–∑ —Å—Ä–µ–¥—ã, –≤ –∫–æ—Ç–æ—Ä–æ–π –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—è, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ —Ç. –¥. –ß—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∏—Ö –∫–∞–∂–¥—ã–π —Ä–∞–∑, –Ω—É–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å –∏—Ö –≤ —Å–µ–∫—Ü–∏–∏ `default`. –ï—Å–ª–∏ –∫–∞–∫–æ–º—É-—Ç–æ –¥–∂–æ–±—É –Ω—É–∂–Ω—ã –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏—Ö –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –¥–∂–æ–±–∞, –∏ –æ–Ω–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—à—É—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

–í –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å Docker-–æ–±—Ä–∞–∑ (–ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Å—Ç–∞—Ç—å–µ ¬´[–ß—Ç–æ —Ç–∞–∫–æ–µ Docker](/tools/docker/)¬ª), –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∂–æ–±—ã. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –Ω–∞–º –ø–æ–¥–æ–π–¥—ë—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ [Node.js](/tools/nodejs/) `node:lts` ‚Äî —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–∞—à–∏ –∫–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã Linux —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ Node.js, npm –∏ –¥–∞–∂–µ Yarn. –ü—Ä–æ –±—É–∫–≤—ã _lts_ –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ –ø—Ä–æ [–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Node.js](/tools/nodejs/#osobennosti-versionirovaniya).

```yaml
default:
  image: node:lts
```

### –ó–∞–¥–∞—ë–º –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å CI/CD –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–æ–µ–∫—Ç–∞—Ö —á–∞—â–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å –∏—Ö –≤ —Å–µ–∫—Ü–∏–∏ `before_script` ‚Äî —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –∫–∞–∂–¥–æ–º –¥–∂–æ–±–µ –ø–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º –¥–µ–π—Å—Ç–≤–∏–µ–º.

```yaml
default:
  image: node:lts
  before_script:
    - npm -v
    - npm install
```

### –£–∫–∞–∑—ã–≤–∞–µ–º —ç—Ç–∞–ø—ã

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã —Å –ø–æ–º–æ—â—å—é EditorConfig –∏ [Stylelint](/tools/static-analysis/#linter-dlya-css), –∞ –ø–æ—Ç–æ–º, –µ—Å–ª–∏ –æ–Ω–∏ –æ–±–µ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã. –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –¥–≤–∞ —ç—Ç–∞–ø–∞: —Å—Ç–∏–ª—å –∫–æ–¥–∞ –∏ —Ç–µ—Å—Ç—ã. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —ç—Ç–∞–ø—ã –º–æ–∂–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `stages`:

```yaml
stages:
  - –°—Ç–∏–ª—å –∫–æ–¥–∞
  - –¢–µ—Å—Ç—ã
```

### –û–ø–∏—Å—ã–≤–∞–µ–º –¥–∂–æ–±—ã –∏ –∑–∞–¥–∞—ë–º –∫–æ–º–∞–Ω–¥—É

–¢–µ–ø–µ—Ä—å —É–∫–∞–∂–µ–º –≤—Å–µ —Ç—Ä–∏ –¥–∂–æ–±–∞. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –≤–Ω–∞—á–∞–ª–µ —É–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∂–æ–±–∞, —É–∫–∞–∑—ã–≤–∞–µ–º –µ–≥–æ —ç—Ç–∞–ø –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `stage` –∏ –ø–µ—Ä–µ–¥–∞—ë–º —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –≤ `script`. –í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–∞–∂–¥—ã–π –¥–∂–æ–± –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ –æ–¥–Ω–æ–º—É npm-—Å–∫—Ä–∏–ø—Ç—É.

```yaml
default:
  image: node:lts
  before_script:
    - npm -v
    - npm ci

stages:
  - –°—Ç–∏–ª—å –∫–æ–¥–∞
  - –¢–µ—Å—Ç—ã

EditorConfig:
  stage: –°—Ç–∏–ª—å –∫–æ–¥–∞
  script:
    - npm run editorconfig

Stylelint:
  stage: –°—Ç–∏–ª—å –∫–æ–¥–∞
  script:
    - npm run stylelint

–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã:
  stage: –¢–µ—Å—Ç—ã
  script:
    - npm run test
```

–ê –≤–æ—Ç —Å—Ö–µ–º–∞—Ç–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤—ã—à–µ:

![–°—Ö–µ–º–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞](images/pipeline-example.png)
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∏–ª—å –∫–æ–¥–∞ –∏, –µ—Å–ª–∏ –æ–Ω –≤–µ—Ä–Ω—ã–π, –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã.

<aside>

‚ÑπÔ∏è –î–∂–æ–±—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ ‚Äî –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å –¥–≤–∞ –¥–∂–æ–±–∞ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º, —Ç–æ –∏–∑ –Ω–∏—Ö –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π ‚Äî –æ–Ω –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –¥–∂–æ–±—ã —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º!

</aside>

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é

–ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –∑–∞–ø—É—Å–∫–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –¥–∂–æ–± –≤—Ä—É—á–Ω—É—é, —Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `when: manual`:

```yaml
job:
  script: npm run deploy
  when: manual
```

### –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ –ª—é–±–æ–≥–æ –¥–∂–æ–±–∞ –≤–µ—Å—å –ø–∞–π–ø–ª–∞–π–Ω –æ—Ç–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã–π, –∏ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–∂–æ–±—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è. –û–¥–Ω–∞–∫–æ –±—ã–≤–∞—é—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —ç—Ç–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è —Ö–æ—á–µ—Ç—Å—è –∏–∑–±–µ–∂–∞—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –¥–∂–æ–± —Å —Ç–µ—Å—Ç–∞–º–∏ –≤ —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ—è–≤–∏–≤—à–µ–π—Å—è –≤–µ—Ä—Å–∏–∏ Node.js –∏ –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏–º –≤–∏–¥–µ—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –±—É–¥—É—â–µ–º. –ó–¥–µ—Å—å –ø—Ä–∏–¥—ë—Ç –Ω–∞ –ø–æ–º–æ—â—å `allow_failure: true`:

```yaml
job:
  image: node:latest
  script: npm run test
  allow_failure: true
```

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∂–æ–±–æ–≤ –ø–æ —É—Å–ª–æ–≤–∏—é

GitLab –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ –±–æ–ª—å—à–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, `$CI_COMMIT_BRANCH` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É, `$CI_COMMIT_SHORT_SHA` ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–π —Ö–µ—à –∫–æ–º–º–∏—Ç–∞, `$CI_PIPELINE_SOURCE` ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –≤—ã–∑–æ–≤–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –° –∏—Ö –ø–æ–º–æ—â—å—é –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –¥–∂–æ–±—ã –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—Ü–∏–π `rules`.

–í–æ—Ç —Ç–∞–∫–æ–π –¥–∂–æ–± –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–º–º–∏—Ç–æ–≤ –≤ –≤–µ—Ç–∫—É `main`:

```yaml
job:
  script: npm run deploy-to-production
  rules:
    - if: '$CI_COMMIT_BRANCH == "main"'
```

### –ó–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç GitHub Actions, –≤ GitLab CI/CD –∑–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –≤—ã–±—Ä–∞—Ç—å _CI/CD ‚Üí Schedules_. –ü–µ—Ä–µ–¥ –Ω–∞–º–∏ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–∞–≤–∏–ª –∏ –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ. –í —Ñ–æ—Ä–º–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞, –≤—ã–±—Ä–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ [Cron](https://ru.wikipedia.org/wiki/Cron). –ü–æ—Å–ª–µ–¥–Ω–∏–º –≤–∞–∂–Ω—ã–º –ø–æ–ª–µ–º —è–≤–ª—è–µ—Ç—Å—è –≤–µ—Ç–∫–∞ ‚Äî –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª–∞ –ø–∞–π–ø–ª–∞–π–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è, –∫–∞–∫ –±—É–¥—Ç–æ –±—ã–ª –∑–∞–ø—É—à–µ–Ω –∫–æ–¥ –≤ —ç—Ç–æ–π –≤–µ—Ç–∫–µ. –û—Ç–ª–∏—á–∏–µ –≤ —Ç–æ–º, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `$CI_PIPELINE_SOURCE` –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ _schedule_.

### –°–µ—Ä–∏—è –¥–∂–æ–±–æ–≤

–ï—â—ë –æ–¥–Ω–∞ —Ç–∏–ø–∏—á–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–æ–≥–Ω–∞—Ç—å —Ç–µ—Å—Ç—ã –≤ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Node.js. –ú–æ–∂–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é –¥–∂–æ–±, –∞ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```yaml
Unit Tests:
  script: node -v
  image: ${NODE_VERSION}
  parallel:
    matrix:
      - NODE_VERSION: ["node:14", "node:16", "node:17"]
```

–í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –º—ã –æ–±—ä—è–≤–∏–ª–∏ —Å–ø–∏—Å–æ–∫ `NODE_VERSION` –∏–∑ —Ç—Ä—ë—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. GitLab —Å–æ–∑–¥–∞—Å—Ç —Ç—Ä–∏ –¥–∂–æ–±–∞ —Å –∏–º–µ–Ω–∞–º–∏: ¬´Unit Tests [node:14]¬ª, ¬´Unit Tests [node:16]¬ª –∏ ¬´Unit Tests [node:17]¬ª, –∞ –ø–æ—Ç–æ–º –≤ –∫–∞–∂–¥–æ–º –¥–∂–æ–±–µ –∑–∞–º–µ–Ω–∏—Ç –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `NODE_VERSION`. –ü–æ—ç—Ç–æ–º—É `image` –≤ –∫–∞–∂–¥–æ–º –¥–∂–æ–±–µ –±—É–¥–µ—Ç —Ä–∞–∑–Ω—ã–π.
