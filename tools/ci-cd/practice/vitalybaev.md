Когда устанавливаете зависимости при помощи пакетного менеджера в автоматизированном CI/CD окружении, обязательно пользуйтесь опцией фиксации лок-файла. Вот как это выглядит для разных пакетных менеджеров:

```bash
# npm
npm install # ❌
npm ci # ✅

# pnpm
pnpm install # ❌
pnpm install --frozen-lockfile # ✅

# yarn classic
yarn install # ❌
yarn install --frozen-lockfile # ✅

# yarn modern
yarn install # ❌
yarn install --immutable # ✅
```

Если не использовать эти параметры, то в ситуации, когда лок-файл не синхронизирован с содержимым __package.json__, могут быть молча установлены не те версии зависимостей, с которыми, например, тестировалось приложение. Как результат, приложение может содержать непредвиденные ошибки. При использовании же данных параметров в таких случаях выполнение установки будет прервано ошибкой.

Стоит отметить, что пакетные менеджеры pnpm и Yarn modern включают такой режим по умолчанию, если установка происходит в CI/CD окружении.

Подробнее про работу с пакетным менеджером и механизм лок-файла можно прочитать в статье [«Пакетные менеджеры»](/tools/package-managers/).
