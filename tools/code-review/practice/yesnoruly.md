### [Conventional comments](https://conventionalcomments.org/)

Подобные комментарии являются малополезными:

> Это неправильно сформулировано.

Если поставить перед комментарием лэйбл, намерение станет ясным, а тон резко изменится.

> **suggestion**: Это неправильно сформулировано.


> **nitpick (non-blocking)**: Это неправильно сформулировано.

Лэйблы также побуждают ревьюера давать более **эффективные** комментарии.

> **suggestion**: Это неправильно сформулировано
> Можем ли мы изменить этот текст, чтобы он соответствовал формулировке со страницы маркетинга?

### Формат

Предлагаемый формат:

```js
<label> [decorations]: <subject>
[discussion]
```

- `label` - обозначает тип комментария.
- `subject` - основная мысль комментария.
- `decorations (опционально)` - дополнительные лэйблы для комментария. Они окружены скобками.
- `discussion (опционально)` - здесь содержатся подтверждающие заявления, контекст, рассуждения и все остальное, чтобы помочь сообщить "почему" и "последующие шаги" для разрешения замечания.

Например:

> **question (non-blocking)**: На этом этапе имеет значение, какой поток выиграл?
> Может быть, чтобы предотвратить состояние гонки, мы должны продолжать зацикливаться, пока все они не выиграют?

Может быть автоматически распарсено в:
```json
{
  "label": "question",
  "subject": "На этом этапе имеет значение, какой поток выиграл?",
  "decorations": ["non-blocking"],
  "discussion": "Может быть, чтобы предотвратить состояние гонки, мы должны продолжать зацикливаться, пока все они не выиграют?"
}
```

### Лэйблы

Настоятельно рекомендуется использовать следующие лэйблы:

| Лэйбл      | Описание                                                                                                         |
|------------|--------------------------------------------------------------------------------------------------------------|
| praise     | "Похвала" подчеркивает что-то положительное. Попробуйте оставить хотя бы один такой комментарий. Не оставляйте ложных похвал (которые на самом деле могут нанести вред).|
| nitpick    | "Придирки" - это небольшие, но необходимые изменения. Придирчивые комментарии значительно помогают направить внимание читателя на комментарии, требующие большего внимания.|
| suggestion | "Предложения" предоставляют способы по совершенствованию в определённой теме. Важно быть предельно ясным в том, что предлагается и почему именно это улучшение. Рассмотрите возможность использовать *блокирующие* и *не блокирующие* [декорации](http://doka.guide/tools/code-review/#dekoracii) для последующего информирования о ваших намерениях.|
| issue      | "Проблемы" высвечивают конкретные трудности рассматриваемого вопроса. Если вы не уверены, существует проблема или нет - рассмотрите возможность оставить *question*.|
| question   | "Вопросы" допустимы, если у вас есть потенциальная проблема, но не увереныы уместна она или нет. Обращение к автору с просьбой о разъяснении или расследовании может привести к быстрому урегулированию этого вопроса. |
| thought    | "Мысли" представляют собой идею, которая всплыла в процессе ревью. Эти замечания по своей природе *не блокируют*, но они чрезвычайно ценны и могут привести к более целенаправленным предложениям и возможностям наставничества.|
| chore      | "Рутинная работа" - это небольшие задачи которые необходимо выполнить до того как пулл-реквест (или другая форма ревью) "официально" будут приняты. Обычно в таких комментариях упоминаются какие-то общие процессы. Постарайтесь оставить ссылку в описании на процесс, чтобы автор мог понять как именно выполнять рутинную работу. |

Не стесняйтесь отклоняться от этого конкретного списка лэйблов, если это кажется уместным.

### Декорации

Декорации дают дополнительный контекст для комментария.

> **suggestion (security)**: Я немного обеспокоен тем, что мы внедряем собственную функцию очистки DOM здесь...
> Можем ли мы вместо этого рассмотреть возможность использования фреймворка?

> **suggestion (test, if-minor)**: Похоже, что мы пропустили какие-то тесты

Декорации могут быть индивидуальными для каждой команды. Рекомендуется установить минимальный набор декораций на ваше усмотрение.

Возможные декорации включают:

- `(non-blocking)` - комментарий с такой декорацией не должен препятствовать принятию рассматриваемого пулл-реквеста. Это полезно для команд, которые рассматривают блокирование комментариев по умолчанию.
- `(blocking) `- комментарий с такой декорацией должен препятствовать принятию рассматриваемого вопроса до тех пор, пока он не будет решен. Это полезно для команд, которые считают, что комментарии не блокируются по умолчанию.
- `(if-minor)` - эта декорация дает автору некоторую свободу действий, которая заключается в том, что он может разрешить комментарий только в том случае, если изменения окажутся незначительными или тривиальными.

### Больше примеров

> `@elain-mask`
> **nitpick (non-critical)**: Некритично, но для консинстентности папку с изображениями батутов назвал бы assets.

> `@vasya_pupkin`
> **praise**: Крутяк! Отлично поработал над этой фичей!


> `@anonymous`
> **issue (non-blocking)**: Давайте избегать использование вызова функции как коллбэк
> Если мы вызываем функцию как коллбэк и она будет обновляться в будущем мейнтейнерами библиотеки, это приведет к непредвиденным результатам из-за неправильных аргументов функции

### Итого

Несколько причин, почему я нахожу общепринятые комментарии (aka conventional comments) хорошей практикой:

- Цель и смысл наших комментариев ясна.
- Разделение между *темой* комментария и *примером* и/или *аргументацией* очень четкое и прямое.
- Автор кода знает, с каким приоритетом стоит расставлять замечания, потому, что комментарии хорошо размечены.

### Полезные ссылки

- [Conventional comments](https://conventionalcomments.org/)
