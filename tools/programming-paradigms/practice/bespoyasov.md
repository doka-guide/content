Как мы видели, программировать в чистейшем функциональном стиле зачастую невозможно. Но на самом деле программировать в чистейшем объектно-ориентированном виде тоже не всегда необходимо.

Выбор парадигмы зависит от многих факторов: договорённости, язык программирования, привычки и прочее. Но один из таких факторов — удобство решения задачи.

Если очевидно, что задачу можно решить одной функцией, то нет необходимости городить ООП-шный зоопарк. И так же нет смысла отказываться от плюсов ФП, если нам нужно работать с побочными эффектами.

### Мультипарадигменные языки

Для большой части задач так мы вовсе можем использовать и ФП, и ООП, и процедурное, и логическое программирование. И есть языки, которые не привязаны к конкретной парадигме. JavaScript как раз один из таких языков. (Именно поэтому мы могли описать пример для каждой парадигмы на нём.)

Мы можем писать на JS в любой парадигме, которой захотим (В ООП, правда, — с небольшими ограничениями и поправками на систему прототипов).

Давайте попробуем решить одну и ту же задачу в рамках ООП и ФП. Напишем модуль, который будет прибавлять и отнимать значения.

### В стиле ООП

```js
class Calculator {
  // Храним (инкапсулируем) значение
  // внутри модуля в поле value.
  constructor(initial = 0) {
    this.value = initial
  }

  // При добавлении увеличиваем value
  // на указанное количество.
  add(x) {
    this.value += x
  }

  // При вычитании уменьшаем value
  // на указанное количество.
  subtract(x) {
    this.value -= x
  }

  valueOf () {
      return this.value
  }
}

// Создаём экземпляр класса
// с начальным состоянием, равным 0.
const calculator = new Calculator()

calculator.add(3)
console.log(calculator.valueOf())
// 3

calculator.add(4)
console.log(calculator.valueOf())
// 7

calculator.subtract(1)
console.log(calculator.valueOf())
// 6
```

### В стиле ФП

```js
// Функция будет принимать 2 параметра,
// потому что состояния,
// где бы хранилось первое значение, нет.
// Функция должна зависеть только от аргументов.
function add(a, b) {
  return a + b
}

// Здесь точно так же.
function subtract(a, b) {
  return a - b
}

// Вызывали бы наши функции мы так:
console.log(add(0, 3))
// 3
console.log(add(3, 4))
// 7
console.log(subtract(7, 1)) // 6

// Или одной строкой:
console.log(
  subtract(add(add(0, 3), 4), 1)
)
// 6
```
