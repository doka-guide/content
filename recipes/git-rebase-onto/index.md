---
title: "–ö–∞–∫ —Ä–µ–±–µ–π–∑–∏—Ç—å –≤–µ—Ç–∫—É –∏ –Ω–µ –¥—É–º–∞—Ç—å –Ω–∏ –æ —á—ë–º"
description: "–ß—Ç–æ–±—ã –ª–µ–≥–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π git, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ git rebase --onto."
authors:
  - hellsquirrel
keywords:
  - git
tags:
  - article
---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π git

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤–µ—Ç–∫–∞–º–∏. –í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –æ–¥–Ω–æ–π –∏–∑ –Ω–∏—Ö –∏ —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–≤–æ–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥—Ä—É–≥—É—é –≤–µ—Ç–∫—É.
–¢–∞–∫–æ–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –¥–µ–ª–∞—Ç—å –æ—á–µ–Ω—å —á–∞—Å—Ç–æ, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç–∞–Ω√´–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

–í—ã –Ω–∞—á–∞–ª–∏ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ñ–∏—á—É –∏ —Å–æ–∑–¥–∞–ª–∏ –≤–µ—Ç–∫—É –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π `main`, –∑–∞ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ –≤–µ—Ç–∫—É `main` –ø—Ä–∏–µ—Ö–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∞—à–∏—Ö –∫–æ–ª–ª–µ–≥. –ö–∞–∫ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤–∞—à–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π `main`?

```
---(–°—Ç–∞—Ç—å—è1)---(–°—Ç–∞—Ç—å—è2)---(–°—Ç–∞—Ç—å—è3) main
                      \
                        \---(–î–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—å—é)---(–í–Ω–æ—Å–∏—Ç –ø—Ä–∞–≤–∫–∏) my-branch
```

–í –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ –µ—Å—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±–µ–∫–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏. –í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –æ–¥–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –í—ã —Å–æ–∑–¥–∞–ª–∏ frontend-–≤–µ—Ç–∫—É –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–∏, –≤–∞—à–∏ –∫–æ–ª–ª–µ–≥–∞ —Å–æ–∑–¥–∞–ª backend-–≤–µ—Ç–∫—É –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π. –¢–µ–ø–µ—Ä—å –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –Ω–æ–≤—ã–º –±–µ–∫–µ–Ω–¥–æ–º. –ö–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å?

```
         /---API1---API2 backend
        /
(–°—Ç–∞—Ç—å—è3) main
        \
          \---(–ö–Ω–æ–ø–æ—á–∫–∞1)---(–¢—É–ª—Ç–∏–ø—á–∏–∫2) frontend
```

–í –≤–∞—à–µ–π –≤–µ—Ç–∫–µ –µ—Å—Ç—å _–Ω–µ—Å–∫–æ–ª—å–∫–æ_ –∫–æ–º–º–∏—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –≤–∞—à–µ–º—É –∫–æ–ª–ª–µ–≥–µ, –Ω–æ –∫—Ä–æ–º–µ —ç—Ç–æ–≥–æ –≤ –≤–∞—à–µ–π –≤–µ—Ç–∫–µ –µ—Å—Ç—å –∫–æ–º–º–∏—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–º–∞—é—Ç –≤–µ—Ç–∫—É –≤–∞—à–µ–≥–æ –∫–æ–ª–ª–µ–≥–∏, –∫–∞–∫ –ø–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ –ª–æ–º–∞—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è?

```
         /---API1---API2 api
        /
(–°—Ç–∞—Ç—å—è3) main
        \
          \---(–ö–Ω–æ–ø–æ—á–∫–∞1)---(–¢—É–ª—Ç–∏–ø—á–∏–∫2)---(üòà–°–æ–±–∞–∫–∞-–≤—Å–µ-–ª–æ–º–∞–∫–∞) my-branch

```

–í—Å–µ —ç—Ç–∏ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `git rebase --onto`.

## –ù–µ–º–Ω–æ–≥–æ —Ç–µ–æ—Ä–∏–∏

Git —Ö—Ä–∞–Ω–∏—Ç –∫–æ–º–º–∏—Ç—ã (commits). –ö–æ–º–º–∏—Ç - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–∫–æ–µ-—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏: –Ω–µ–º–Ω–æ–∂–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ _–ø—Ä–µ–¥—É–¥—ã—â–∏–π_ –∫–æ–º–º–∏—Ç. –°–∞–º –ø–æ —Å–µ–±–µ –∫–æ–º–º–∏—Ç —ç—Ç–æ 40 —Å–∏–º–≤–æ–ª–æ–≤ SHA-1 —Ö–µ—à–∞ —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

–í–µ—Ç–∫–∞ (branch) —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–º–º–∏—Ç. –£ –≤–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –≤–µ—Ç–∫–∞. –ù–∞ –Ω–µ–µ (—Ç. –µ. –Ω–∞ –æ–ø—Ä–µ–¥–ª–µ–Ω–Ω—ã–π –∫–æ–º–º–∏—Ç) —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å `HEAD`.

–ú–Ω–æ–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã –≥–∏—Ç –ø—Ä–∏–Ω–∏–º–∞—é—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ —Ä–µ–≤–∏–∑–∏—é. –¢–∞–∫ –∫–∞–∫ –≤—Å–µ –≤ –≥–∏—Ç–µ —ç—Ç–æ –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, —Ç–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–≤–∏–∑–∏–∏ –º—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å.

- –î–ª–∏–Ω–Ω—ã–π —Ö–µ—à, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–æ—Ç —Ç–∞–∫ `29aeb39eac6b8d9e0f4cdc1459376599d1aba43c`.
- –ö–æ—Ä–æ—Ç–∫–∏–π —Ö–µ—à, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–æ—Ç —Ç–∞–∫ `29aeb39e`.
- –¢–µ–≥, –µ—Å–ª–∏ –æ–Ω –∏–º–µ–µ—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–æ—Ç —Ç–∞–∫ `v1.0.0`.
- –ò–º—è —Å—Å—ã–ª–∫–∏. –í –æ—Ç—Å–Ω–æ–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–µ—Ç–æ–∫. –ù–∞–ø—Ä–∏–º–µ—Ä `main`, `origin/dev`, `refs/heads/foo`.

–í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –º–∞–≥–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã (`@{n}, ^, :`) –∫ —ç—Ç–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º, —á—Ç–æ–±—ã –µ—â–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –≤—ã–±–∏—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å [–≤–æ—Ç —Ç—É—Ç](https://git-scm.com/docs/gitrevisions). –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–µ–Ω —Å–∏–º–≤–æ–ª `^` –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –≤—ã–±–∏—Ä–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–æ–º–º–∏—Ç—ã.

## –ö–∞–∫ –≥–æ—Ç–æ–≤–∏—Ç—å

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∞–ø—Ä–∏–º–µ—Ä, [–∑–¥–µ—Å—å](https://git-scm.com/docs/git-rebase).

–ö–æ–º–∞–Ω–¥–∞ `git rebase` —Å —Ñ–ª–∞–≥–æ–º `--onto` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

- `--onto` ‚Äî –∫–æ–º–º–∏—Ç –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –ù–æ–≤—ã–µ –∫–æ–º–º–∏—Ç—ã –¥–æ–±–∞–≤—è—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –Ω–µ–≥–æ.
- `from` ‚Äî –∫–æ–º–º–∏—Ç —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ö–æ–º–º–∏—Ç –∫–æ—Ç–æ—Ä—ã–π –≤—ã —É–∫–∞–∂–µ—Ç–µ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ—Ç—Å—è, –∞ —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞ –Ω–∏–º –ø–µ—Ä–µ–Ω–µ—Å—É—Ç—Å—è.
- `to` ‚Äî –∫–æ–º–º–∏—Ç –¥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –ö–æ–º–º–∏—Ç –∫–æ—Ç–æ—Ä—ã–π –≤—ã —É–∫–∞–∂–µ—Ç–µ –ø–µ—Ä–µ–Ω–µ—Å–µ—Ç—Å—è.

–ü–æ—Å–ª–µ–¥–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç –º–æ–∂–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, —Ç–æ–≥–¥–∞ –ø–µ—Ä–µ–Ω–µ—Å—É—Ç—Å—è –≤—Å–µ –∫–æ–º–º–∏—Ç—ã –Ω–∞—á–∏–Ω–∞—è –æ—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞ `from` –∫–æ–º–º–∏—Ç–∞ –¥–æ –∫–æ–Ω—Ü–∞ –≤–µ—Ç–∫–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```bash
git rebase --onto main feature1
```

–ü–æ–º–Ω–∏—Ç–µ —á—Ç–æ –∫–æ–º–º–∏—Ç —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å —Ö–µ—à? –í –∫–∞—á–µ—Å—Ç–≤–µ –∫–∞–∂–¥–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ö–µ—à, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–æ—Ç —Ç–∞–∫:

```bash
git rebase --onto 29aeb39e 5fd88295
```

–•–µ—à–∏ –≤–æ–æ–±—â–µ-—Ç–æ –¥–ª–∏–Ω–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤, –Ω–æ git –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫—É—é –≤–µ—Ä—Å–∏—é. –í—ã –º–æ–∂–µ—Ç–µ —Ç–∞–∫–∂–µ —É–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ö–µ—à, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–æ—Ç —Ç–∞–∫:

```bash
git rebase --onto 29aeb39eac6b8d9e0f4cdc1459376599d1aba43c 5fd882953924b47a10794619c3063e7a50257af6
```

–í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ –≤–º–µ—Å—Ç–æ —Ö–µ—à–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–æ—Ç —Ç–∞–∫:

```bash
git rebase --onto main feature
```

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–º–∏—Ç–æ–≤ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–∏, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–≥–∏—é `HEAD` –Ω–æ—Ç–∞—Ü–∏–∏.

```bash
git rebase --onto main HEAD^3 HEAD^
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ—Ç 2 –∫–æ–º–º–∏—Ç–∞ –∏–∑ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–∏ –≤ –≤–µ—Ç–∫—É `main`. –°–∞–º—ã–π –ø–æ—Å–ª–µ–¥–Ω–∏–π –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ—Ç.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ–¥–∏–Ω –∏–∑ –ø—Ä–∏–º–µ—Ä–æ –≤—ã—à–µ.

–ë—ã–ª–æ —Ç–∞–∫:

```
         /---API1---API2 backend
        /
(–°—Ç–∞—Ç—å—è3) –í–µ—Ç–∫–∞ main
        \
          \---(–ö–Ω–æ–ø–æ—á–∫–∞ 1)---(–¢—É–ª—Ç–∏–ø—á–∏–∫ 2) frontend
```

–ù—É–∂–Ω–æ –≤–æ—Ç —Ç–∞–∫:

```
         /---API1---API2---(–ö–Ω–æ–ø–æ—á–∫–∞ 1)---(–¢—É–ª—Ç–∏–ø—á–∏–∫ 2) backend
        /
(–°—Ç–∞—Ç—å—è3) –í–µ—Ç–∫–∞ main
```

–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:

```bash
git rebase --onto backend main frontend
```

- `git rebase --onto` ‚Äî –ø–µ—Ä–µ–Ω–æ—Å–∏–º.
- backend ‚Äî –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç –≤–µ—Ç–∫–∏ backend, —Ç. –µ. –Ω–∞ API2.
- main ‚Äî –≤—Å–µ –∫–æ–º–º–∏—Ç—ã –≤ –º–æ–µ–π –≤–µ—Ç–∫–µ frontend, –Ω–∞—á–∏–Ω–∞—è —Å —Ç–æ–≥–æ –∫–æ—Ç–æ—Ä—ã–º –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –≤–µ—Ç–∫–∞ main (–°—Ç–∞—Ç—å—è3).
- frontend ‚Äî –∑–∞–∫–∞–Ω—á–∏–≤–∞—è –ø–æ—Å–ª–µ–¥–Ω–∏–º –∫–æ–º–º–∏—Ç–æ–º –≤–µ—Ç–∫–∏ frontend (–¢—É–ª—Ç–∏–ø—á–∏–∫2).

## –ë–æ–Ω—É—Å

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫–æ–π –∫—Ä–∞—Å–∏–≤–æ–π —Å—Ç–∞–ª–∞ –≤–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É

```bash
git log --oneline --decorate --graph --all
```
