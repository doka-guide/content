---
title: "–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º"
description: "–°–æ–∑–¥–∞–¥–∏–º –Ω–µ—Å–ª–æ–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏."
authors:
  - webdb81
keywords:
  - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
  - ajax
  - –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
  - progress bar
tags:
  - doka
---

## –ó–∞–¥–∞—á–∞

–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚Äî –∑–∞–¥–∞—á–∞, —Å –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ web-—Ä–µ—Å—É—Ä—Å–æ–≤ –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ü—Ä–∏ —ç—Ç–æ–º —Ö–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –æ —Ö–æ–¥–µ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –ø–æ–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∂–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏. –ü–æ—ç—Ç–æ–º—É –≤ —Å—Ç–∞—Ç—å–µ –±—É–¥–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞: HTML-—Ä–∞–∑–º–µ—Ç–∫–∞, —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ JS-–∫–æ–¥ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö —á–∞—Å—Ç–µ–π:

1. –í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ–∞–π–ª–∞ –Ω–∞ —Å–≤–æ—ë–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–∞ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –∫ —Å–µ—Ä–≤–µ—Ä—É.
1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞.

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è PHP –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å [–≤ —Ä–∞–∑–¥–µ–ª–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ PHP](https://www.php.net/manual/ru/features.file-upload.php).

## –†–µ—à–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–∞–∑–º–µ—Å—Ç–∏–º HTML-—Ä–∞–∑–º–µ—Ç–∫—É —Ñ–æ—Ä–º—ã —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏:

```html
<div class="demo-wrapper">
  <h2>–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –ø—Ä–æ—Ü–µ—Å—Å–∞</h2>
  <form id="uploadForm" method="post" enctype="multipart/form-data" class="form-upload">
    <input type="file" name="file_name" id="uploadForm_File" accept="image/*">
    <input type="submit" id="uploadForm_Submit" class="form-upload__submit" value="–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª">
    <progress id="progressBar" value="0" max="100"></progress>
    <div id="uploadForm_Status" class="form-upload__status"></div>
    <p id="uploadForm_Size"></p>
  </form>
</div>
```

–î–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–¥–∏–º —Å–ª–µ–¥—É—é—â–∏–µ [CSS-–ø—Ä–∞–≤–∏–ª–∞](/css/css-rule/):

```css
.form-upload {
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 320px;
}

#uploadForm_File {
  margin-bottom: 12px;
  cursor: pointer;
}

.form-upload__submit {
  display: inline-flex;
  align-self: flex-start;
  margin-bottom: 16px;
  padding: 4px 8px;
  cursor: pointer;
}

progress {
  width: 100%;
  height: 16px;
  margin-bottom: 8px;
  border: none;
  border-radius: 8px;
  background-color: #f3f3f3;
}

progress::-webkit-progress-bar {
  border: none;
  border-radius: 8px;
  background-color: #f3f3f3;
}

progress::-webkit-progress-value {
  border-radius: 8px;
  background-color: #27ae60;
}

progress::-moz-progress-bar {
  border: none;
  border-radius: 8px;
  background-color: #27ae60;
}

.form-upload__status {
  margin-bottom: 16px;
  font-weight: bold;
}
```

–í –∫–æ–Ω—Ü–µ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º JS-—Ñ–∞–π–ª–µ –¥–æ–±–∞–≤–∏–º –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏—Ç —Å–≤—è–∑—å –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º:

```javascript
document.getElementById('uploadForm_File').addEventListener('change', function () {
  let fileCheckAmount = this.files[0];
  if (fileCheckAmount.size > 5242880) {
    alert('–ü—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è —Ñ–∞–π–ª –¥–æ 5 –ú–ë');
    this.value= null;
  }
});

document.getElementById('uploadForm_Submit').addEventListener('click', function uploadFile(event) {
  let fileFormField = document.getElementById('uploadForm_File');
  let fileToLoad = fileFormField.files[0];
  let formSent = new FormData();
  let xhr = new XMLHttpRequest();

  if (fileFormField.files.length > 0) {
    formSent.append('uploadForm_File', fileToLoad);

    xhr.upload.addEventListener('progress', progressHandler, false);
    xhr.addEventListener('load', loadHandler, false);
    xhr.open('POST', 'upload_processing.php');
    xhr.send(formSent);
  } else {
    alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª');
  }
  event.preventDefault();
  return false;
});

function progressHandler(event) {
  let percentLoading = (event.loaded / event.total) * 100;

  document.getElementById('uploadForm_Size').innerHTML = "–ó–∞–≥—Ä—É–∂–µ–Ω–æ " + (event.loaded/1048576).toFixed(1) + " –ú–ë –∏–∑ " + (event.total/1048576).toFixed(1) + " –ú–ë";
  document.getElementById('progressBar').value = Math.round(percentLoading);
  document.getElementById('uploadForm_Status').innerHTML = Math.round(percentLoading) + '% –∑–∞–≥—Ä—É–∂–µ–Ω–æ...';
}

function loadHandler(event) {
  document.getElementById('uploadForm_Status').innerHTML = event.target.responseText;
  document.getElementById('progressBar').value = 0;
}
```

<iframe title="–ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞" src="demos/single-file/" height="450"></iframe>

–ü–æ–ª–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ —Å –µ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

![–ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä](images/progress_example.gif)

## –†–∞–∑–±–æ—Ä —Ä–µ—à–µ–Ω–∏—è

### –†–∞–∑–º–µ—Ç–∫–∞

```html
<form id="uploadForm" class="form-upload" method="post" enctype="multipart/form-data">
  <input type="file" name="file_name" id="uploadForm_File" accept="image/*">
  <input type="submit" id="uploadForm_Submit" class="form-upload__submit" value="–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª">
  <progress id="progressBar" value="0" max="100"></progress>
  <div id="uploadForm_Status" class="form-upload__status"></div>
  <p id="uploadForm_Size"></p>
</form>
```

–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–∞–π–ª–∞, —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ [—Ñ–æ—Ä–º—ã](/html/form/).

–î–ª—è —Ñ–æ—Ä–º—ã —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞—Ç—Ä–∏–±—É—Ç `enctype` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `multipart/form-data`, –ø–æ—Å–∫–æ–ª—å–∫—É –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —ç–ª–µ–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤.

–§–∞–π–ª –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —ç–ª–µ–º–µ–Ω—Ç–∞ [`<input>`](/html/input/), –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ç–∏–ø `file`. –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º –∞—Ç—Ä–∏–±—É—Ç–∞ `accept`. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ª—é–±–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞.

–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª". –î–ª—è —ç—Ç–æ–≥–æ –≤ JS-–∫–æ–¥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `uploadFile()`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ –µ–≥–æ –ø–µ—Ä–µ–¥–∞—á—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

–•–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ [`<progress>`](/html/progress/).

–ß—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã [`<p>`](/html/p/).

üí° –î–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ–æ—Ä–º—ã —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞—Ç—Ä–∏–±—É—Ç [`id`](/html/global-attrs/#id/) ‚Äî —ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç JS-–∫–æ–¥—É –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω—É–∂–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.

### –°—Ç–∏–ª–∏

–í–Ω–µ—à–Ω–∏–π –≤–∏–¥ —ç–ª–µ–º–µ–Ω—Ç–∞ [`<progress>`](/html/progress/) –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º ‚Äî —ç—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç —Ç–∞–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å macOS –∏ Windows:

![–í–Ω–µ—à–Ω–∏–π –≤–∏–¥ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –≤ macOS –∏ Windows](images/default_progressbar.webp)

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤—ã–≥–ª—è–¥–µ–ª –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∏–ª–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞. –ü—Ä–∞–≤–∏–ª–æ –Ω–∏–∂–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞:

- —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —à–∏—Ä–∏–Ω—É –Ω–∞ –≤–µ—Å—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä;
- –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–∏–∂–Ω–∏–π –æ—Ç—Å—Ç—É–ø;
- —É–±–∏—Ä–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é;
- –º–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç —Ñ–æ–Ω–∞;
- –∑–∞–¥–∞—ë—Ç —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ –ø–æ –∫—Ä–∞—è–º.

```css
progress {
  width: 100%;
  height: 16px;
  margin-bottom: 8px;
  border: none;
  border-radius: 8px;
  background-color: #f3f3f3;
}
```

–í Firefox —ç—Ç–∏ —Å—Ç–∏–ª–∏ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç –±–µ–≥—É–Ω–æ–∫, –ø–æ—ç—Ç–æ–º—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å `-moz`. –î–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –≤ Chrome –∏ Safari –∫–∞–∫ —Å–∞–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, —Ç–∞–∫ –∏ –µ–≥–æ –±–µ–≥—É–Ω–∫–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã `-webkit`.

–í –∏—Ç–æ–≥–µ, –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –∏ –±–µ–≥—É–Ω–∫–∞ –≤–æ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö, –¥–æ–±–∞–≤–∏–º —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞:

```css
progress::-webkit-progress-bar {
  border: none;
  border-radius: 8px;
  background-color: #f3f3f3;
}

progress::-webkit-progress-value {
  border-radius: 8px;
  background-color: #27ae60;
}

progress::-moz-progress-bar {
  border: none;
  border-radius: 8px;
  background-color: #27ae60;
}
```

–û—Å—Ç–∞–ª—å–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –æ–ø—Ä–µ–¥–µ–ª–∏–º —Å—Ç–∏–ª–∏ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏—Ö –≤–∑–∞–∏–º–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è:

```css
.form-upload {
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 320px;
}

#uploadForm_File {
  margin-bottom: 12px;
  cursor: pointer;
}

.form-upload__submit {
  display: inline-flex;
  align-self: flex-start;
  margin-bottom: 16px;
  padding: 4px 8px;
  cursor: pointer;
}

.form-upload__status {
  margin-bottom: 16px;
  font-weight: bold;
}
```

### JavaScript

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `XMLHttpRequest` ‚Äî –Ω–∞–±–æ—Ä –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –æ –Ω—ë–º –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –Ω–∞ [—Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ MDN](https://developer.mozilla.org/ru/docs/Web/API/XMLHttpRequest).

–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –±–æ–ª—å—à–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –ø–æ—ç—Ç–æ–º—É —É—Å—Ç–∞–Ω–æ–≤–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ 5 –ú–ë. –ü—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ –≤—ã–ø–æ–ª–Ω–∏–º –Ω–∞ —ç—Ç–∞–ø–µ –µ–≥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:

```javascript
document.getElementById('uploadForm_File').addEventListener('change', function () {
  let fileCheckAmount = this.files[0];
  if (fileCheckAmount.size > 5242880) {
    alert('–ü—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è —Ñ–∞–π–ª –¥–æ 5 –ú–ë');
    this.value= null;
  }
});
```

–û—Å–Ω–æ–≤–Ω—É—é —Ä–∞–±–æ—Ç—É –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `uploadFile()`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ–∞–π–ª –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –§—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª¬ª.

–ü–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –æ–±—ä—è–≤–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- `fileFormField` –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —ç–ª–µ–º–µ–Ω—Ç—É —Ñ–æ—Ä–º—ã, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Ñ–∞–π–ª;
- `fileToLoad` –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞;
- `formSent`, –≤ –∫–æ—Ç–æ—Ä–æ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–∞ `FormData()` –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏;
- `xhr` –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `XMLHttpRequest`.

```javascript
let fileFormField = document.getElementById('uploadForm_File');
let fileToLoad = fileFormField.files[0];
let formSent = new FormData();
let xhr = new XMLHttpRequest();
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã `XMLHttpRequest` –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

- –µ—Å–ª–∏ —Ñ–∞–π–ª –≤—ã–±—Ä–∞–Ω ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞, –∏–Ω–∞—á–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ;
- –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏;
- –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `progress` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞;
- –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `load` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏;
- –º–µ—Ç–æ–¥ `open()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç POST-–∑–∞–ø—Ä–æ—Å –∫ —É–ø—Ä–∞–≤–ª—è—é—â–µ–º—É —Ñ–∞–π–ª—É, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ;
- –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ–∞–π–ª –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `FormData()`.

```javascript
if (fileFormField.files.length > 0) {
  formSent.append('uploadForm_File', fileToLoad);

  xhr.upload.addEventListener('progress', progressHandler, false);
  xhr.addEventListener('load', loadHandler, false);
  xhr.open('POST', 'upload_processing.php');
  xhr.send(formSent);
} else {
  alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª');
}
```

–î–ª—è –ø–æ–∫–∞–∑–∞ –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ —Å–æ–∑–¥–∞–¥–∏–º —Ñ—É–Ω–∫—Ü–∏—é `progressHandler()`. –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `percentLoading` –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ—Ü–µ—Å—Å–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –∏—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—É –¥–ª—è –ø–æ–∫–∞–∑–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –¢–∞–∫–∂–µ –¥–∞–Ω–Ω—ã–µ —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö —Ä–∞–∑–º–µ—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –æ–±—ä—ë–º–∞ –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ `Math.round()`.

```javascript
function progressHandler(event) {
  let percentLoading = (event.loaded / event.total) * 100;

  document.getElementById('uploadForm_Size').innerHTML = "–ó–∞–≥—Ä—É–∂–µ–Ω–æ " + (event.loaded/1048576).toFixed(1) + " –ú–ë –∏–∑ " + (event.total/1048576).toFixed(1) + " –ú–ë";
  document.getElementById('progressBar').value = Math.round(percentLoading);
  document.getElementById('uploadForm_Status').innerHTML = Math.round(percentLoading) + '% –∑–∞–≥—Ä—É–∂–µ–Ω–æ...';
}
```

–§—É–Ω–∫—Ü–∏—è `loadHandler()` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –ø—Ä–∏–Ω—è—Ç—ã–π –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –æ–±–Ω—É–ª—è–µ—Ç—Å—è.

```javascript
function loadHandler(event) {
  document.getElementById('uploadForm_Status').innerHTML = event.target.responseText;
  document.getElementById('progressBar').value = 0;
}
```
