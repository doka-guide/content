---
title: "Объект события `Event`"
description: "Объект Event описывает событие, произошедшее на странице, например, клики мышкой или ввод с клавиатуры"
authors:
  - akellbl4
tags:
  - doka
---

## Кратко

Объект `Event` описывает событие, произошедшее на странице. Одной из причин возникновения событий являются действия пользователя, такие как клики мышкой `MouseEvent` или ввод с клавиатуры `KeyboardEvent`. Существует множество различных событий, которые будут иметь разный набор информации о них.

::: ℹ️

Обратите внимание на [обзорную статью о событиях](https://doka.guide/js/events/) в ней описываются примеры работы с событиями.

:::

## Пример

Самый простой и широко распространённый способ использования событий — это отслеживание срабатывания кликов по каким-либо элементам на странице.

При подписке на событие мы передаём обработчик, который будет вызван при каждом срабатывании события в браузере. В случае, когда происходит событие типа `click`, обработчик будет вызван с событием `MouseEvent`:

```js
element.addEventListener("click", function (event) {});
```

## Как пишется

В этом материале мы рассматриваем базовый объект события, каждое событие может содержать дополнительные свойства в зависимости от его типа.

### Свойства

- `bubbles` – является ли данное событие всплывающим. [Подробнее о всплытии](https://doka.guide/js/events/#vsplytie-sobytiy)
- `cancelable` – является ли событие отменяемым.
- `currentTarget` – указывает на элемент, на котором установлен обработчик события.
- `defaultPrevented` – является ли дефолтное поведение события отменным.
- `eventPhase` – указывает на фазу срабатывания события.
- `isTrusted` – указывает на происхождение события, будет в значении `true`, если событие инициировано действиями пользователя. `false` - если событие инициировано из кода с помощью `dispatchEvent()`.
- `target` – ссылка на объект, которым было инициировано событие, например если событие произошло на поле ввода мы получим ссылку на этот DOM элемент.
- `timeStamp` – время в миллисекундах, указывающее на момент возникновения события.
- `type` – строка, указывающая на тип события.

### Методы

- `composedPath()` – вернёт массив элементов, на которых сработает событие.
- `preventDefault()` – предотвращает дефолтное поведение события. То есть, если вызвать данный метод при всплытии события по клику на ссылке, то переход по ссылке не произойдёт, но событие продолжит всплытие.
- `stopPropagation()` – предотвращает всплытие события.
- `stopImmediatePropagation()` – делает то же самое, что и `stopPropagation`, но в том числе предотвращает вызов обработчиков события, которые были установлены на этом же элементе.

::: callout

Обработчики событий, установленные на элемент, вызываются по порядку их установки.

:::

## Как понять

Работа JavaScript основана на событийной модели – это значит, что для того, чтобы запустить какой-либо код, должно произойти событие. Даже код, который был написан в файле и не привязан к какому-либо событию, очевидно, будет обработан после того, как произойдёт событие, которое сообщит браузеру, что код был загружен.

Событие может быть создано по следующим причинам:

- действие пользователя;
- системное событие;
- событие, созданное программно.
### Примеры

#### Системное событие

Системное событие инициируется BOM окружением и является отражением какого-то события произошедшего в операционной системе, один из самых простых примеров это событие того что пользователь находится онлайн. То есть на наличие активного интернет соединения.

Мы можем отслеживать состояние интернет соединения и показывать сообщение, если оно пропало.

```js
window.addEventListener('offline', function() {
  alert('Отсутствует подключение к интернету')
})
```

#### Программное событие

Событие может быть созданно с помощью кода, поле `isTrusted` в таком событии будет содержать значение `false`, а значит мы будем знать что событие было вызвано не системно и не пользователем.

Создадим свое событие и вызовем его на `window`.

```js
const myEvent = new CustomEvent("my-event", {
  spicy: true
});

window.addEventListener("my-event", function(evt) {
  console.log('My event is spicy:', evt.spicy)
});

window.dispatchEvent(myEvent);
```