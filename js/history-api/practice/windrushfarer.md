üõ† **–£–∑–Ω–∞—Ç—å –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è**

–ú–µ—Ç–æ–¥—ã –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ `back()`, `forward()` –∏ `go()` —è–≤–ª—è—é—Ç—Å—è [–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏](/js/async-in-js), –Ω–æ –æ–Ω–∏ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∫–æ–ª–±—ç–∫–æ–≤ –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç [Promise](/js/promise).

–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥ –±—ã–ª –∑–∞–≤–µ—Ä—à—ë–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ [—Å–æ–±—ã—Ç–∏–µ](/js/events) `popstate` –≤ Window:

```js
window.addEventListener('popstate', (event) => {
  console.log(`–ü–µ—Ä–µ—à–ª–∏ –Ω–∞ –∞–¥—Ä–µ—Å "${document.location}"`);
});
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤ –∏—Å—Ç–æ—Ä–∏—é –∏ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã. –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º –Ω–∞—à —Å–∫—Ä–∏–ø—Ç (–≤–∫–ª—é—á–∞—è –ø–æ–¥–ø–∏—Å–∫—É –≤—ã—à–µ) –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –î–æ–∫–∏ `https://doka.guide/`.

```js
history.pushState({}, '', "/js/");
history.pushState({}, '', "/css/");

history.back();
// –í—ã–≤–µ–¥—ë—Ç: –ü–µ—Ä–µ—à–ª–∏ –Ω–∞ –∞–¥—Ä–µ—Å "https://doka.guide/js/"
history.back();
// –í—ã–≤–µ–¥—ë—Ç: –ü–µ—Ä–µ—à–ª–∏ –Ω–∞ –∞–¥—Ä–µ—Å "https://doka.guide/"
history.go(2);
// –í—ã–≤–µ–¥—ë—Ç: –ü–µ—Ä–µ—à–ª–∏ –Ω–∞ –∞–¥—Ä–µ—Å "https://doka.guide/css/"
```

–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ `popstate` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤ –¥–ª—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, —á—Ç–æ–±—ã –¥–∞–≤–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

üõ† **–ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏**

–í –º–µ—Ç–æ–¥—ã `window.history.pushState()` –∏ `window.history.replaceState()` –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ï—Å–ª–∏ –Ω–∏–∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω—ã, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç.

–°–∞–º–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ URL-–∞–¥—Ä–µ—Å –∏–ª–∏ –Ω–∞ —Å–∞–º –ø–µ—Ä–µ—Ö–æ–¥ –ø–µ—Ä–µ—Ö–æ–¥. –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø–æ–ª–µ `state` –≤ –æ–±—ä–µ–∫—Ç–µ —Å–æ–±—ã—Ç–∏—è –≤–æ –≤—Ä–µ–º—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è `popstate`.

```js
window.addEventListener('popstate', (event) => {
  console.log(`–î–∞–Ω–Ω—ã–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏: ${JSON.stringify(event.state)}`);
});
```

–û–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–µ–∂–¥—É –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —É –Ω–∞—Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —Ç–æ–≤–∞—Ä–æ–≤, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã. –ß—Ç–æ–±—ã –¥–∞—Ç—å —Ö–æ—Ä–æ—à–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –º—ã —Ö–æ—Ç–∏–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º —Ñ–∏–ª—å—Ç—Ä—ã —Å URL-–∞–¥—Ä–µ—Å–æ–º, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –ø–æ–¥–µ–ª–∏—Ç—Å—è —Å—Å—ã–ª–∫–æ–π —Å–æ –≤—Å–µ–º–∏ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.

–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Å–∞–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º—ã —Ç–∞–∫ –∂–µ —Ö–æ—Ç–∏–º —Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –∞ –¥–ª—è URL –ø—Ä–æ—Å—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –µ–≥–æ –≤ –Ω—É–∂–Ω—É—é —Å—Ç—Ä–æ–∫—É.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —É—Ä–ª–æ–º:

```js
function transformToURLParams(filters) {
  const query = Object.entries(filters)
    .map(([key, value]) => {
      return `${key}=${value}`
    })
    .join('&')

  return `?${query}`
}

function syncURL(filters) {
  const path = document.location.pathname
  const query = transformToURLParams(filters)

  window.history.replaceState(filters, '', `${path}${query}`)
}

syncURL({
  priceFrom: 200,
  priceTo: 1000,
  manufacturer: 'Adidas'
})
```

–í–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É –Ω–∞—à–∏–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏, –º—ã —Ç–∞–∫ –∂–µ –º–æ–∂–µ–º –≤—ã—Ç–∞—Å–∫–∏–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –µ–≥–æ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
