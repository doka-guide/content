#### üõ†Ô∏è ¬´–û—Ç–ª–æ–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ¬ª

–ò–Ω–æ–≥–¥–∞ –Ω–∞–º –±—ã–≤–∞–µ—Ç –Ω—É–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –ø–æ—Ç–æ–º, –Ω–æ –Ω–µ —á–µ—Ä–µ–∑ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏, –∞ —á—Ç–æ–±—ã –æ–Ω–∞ –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∫–∞–∫–∏—Ö-—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–π. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [`setTimeout()`](/js/settimeout/) —Å –Ω—É–ª–µ–≤—ã–º —Ç–∞–π–º–µ—Ä–æ–º.

–ú—ã –ø–æ–º–Ω–∏–º, —á—Ç–æ –∫–æ–ª–±—ç–∫ –∏–∑ `setTimeout()` –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á. –ï—Å–ª–∏ –º—ã –ø–æ—Å—Ç–∞–≤–∏–º –∏–Ω—Ç–µ—Ä–≤–∞–ª 0 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥, —Ç–æ —ç—Ç–∞ –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è _—Ä–æ–≤–Ω–æ —á–µ—Ä–µ–∑ –æ–¥–∏–Ω —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π_ ‚Äî —Ç–æ –µ—Å—Ç—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.

–ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–æ–±—ã—Ç–∏–π –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç 4 –¥–æ 100 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥.

–í Node.js –∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –µ—Å—Ç—å `setImmediate()`, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –ø–æ—á—Ç–∏ —Ç–æ –∂–µ, —á—Ç–æ –∏ `setTimeout()` —Å –Ω—É–ª–µ–≤—ã–º —Ç–∞–π–º–µ—Ä–æ–º.

#### üõ†Ô∏è ¬´–î–æ–∂–¥–∞—Ç—å—Å—è –≤—Å–µ—Ö¬ª –∏–ª–∏ ¬´–î–æ–∂–¥–∞—Ç—å—Å—è –ø–µ—Ä–≤–æ–≥–æ¬ª

–ö–æ–≥–¥–∞ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ —Å–µ—Ä–≤–µ—Ä—É, –Ω–∞–º –Ω–µ –≤—Å–µ–≥–¥–∞ –±—ã–≤–∞–µ—Ç –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º.

–ë—ã–≤–∞—é—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –º—ã —Ö–æ—Ç–∏–º:

- –ª–∏–±–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã, –∏ –ø–æ—Ç–æ–º —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ;
- –ª–∏–±–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏ —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ.

–î–ª—è —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [`Promise.all()`](/js/promise-all/) –∏ [`Promise.race()`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise/race).

–ö–æ–≥–¥–∞ –º—ã —Ö–æ—Ç–∏–º –¥–æ–∂–¥–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ:

```js
const request1 = fetch('/api/users')
const request2 = fetch('/api/posts')
const request3 = fetch('/api/comments')

Promise.all([request1, request2, request3]).then((values) => {
  console.log('–ó–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!')
  console.log(values)
})
```

–ó–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!

–í –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `values` –±—É–¥–µ—Ç –º–∞—Å—Å–∏–≤ —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∫–∞–∂–¥–æ–≥–æ –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤, –ø–æ—Ä—è–¥–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –Ω—ë–º –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–æ—Ä—è–¥–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤:

```js
[
  [user1, user2],
  [post1, post2],
  [comment1, comment2]
]
```

–ö–æ–≥–¥–∞ –Ω–∞–º –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω:

```js
const promise1 = new Promise((resolve, reject) => {
  setTimeout(resolve, 500, 'First')
})

const promise2 = new Promise((resolve, reject) => {
  setTimeout(resolve, 100, 'Second')
})

Promise.race([promise1, promise2]).then((value) => {
  console.log(value)
})

// Second
```

#### üõ†Ô∏è ¬´–û—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫¬ª

–í –±—Ä–∞—É–∑–µ—Ä–Ω–æ–º JavaScript –µ—Å—Ç—å –Ω–µ–∫–æ–µ –ø–æ–¥–æ–±–∏–µ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏. [–ú—ã –º–æ–∂–µ–º –≤—ã–Ω–æ—Å–∏—Ç—å —Ç—è–∂—ë–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ _Web Worker_](https://bespoyasov.ru/blog/about-web-workers/).

–ù–µ —Å–ª–µ–¥—É–µ—Ç –ø—É—Ç–∞—Ç—å _Web Worker_ –∏ _Service Worker_ ‚Äî —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.

#### üõ†Ô∏è ¬´–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã¬ª

–ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–∏–∫–ª [`for`](/js/for/) –∏–ª–∏ –º–µ—Ç–æ–¥ [`forEach`](/js/array-foreach/) —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –º—ã –Ω–µ –º–æ–∂–µ–º. –ò —Ü–∏–∫–ª `for` –∏ –º–µ—Ç–æ–¥ `forEach` –æ–∂–∏–¥–∞—é—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥.

–û–¥–Ω–∞–∫–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [`for await...of`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/for-await...of), –∫–æ—Ç–æ—Ä—ã–π –ø–æ—è–≤–∏–ª—Å—è –≤ ES2018, –¥–ª—è –æ–±—Ö–æ–¥–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π.

–ü—Ä–æ—Å—Ç–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—É—é —Å—É—â–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ ¬´–ø–µ—Ä–µ–±—Ä–∞—Ç—å¬ª —á–µ—Ä–µ–∑ `for...of`:

```js
const urls = ['/api/users', '/api/posts', '/api/comments']

function* requestGenerator() {
  for (const url of urls) {
    yield url
  }
}

for (const item of requestGenerator()) {
  console.log(item)
}
```

–í—ã–≤–µ–¥–µ—Ç –∫–∞–∂–¥—ã–π URL –ø–æ –æ—á–µ—Ä–µ–¥–∏. –ü–æ—Ä—è–¥–æ–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è ‚Äî —Ç–∞–∫ –∫–∞–∫ –∫–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π.

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∂–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ—á—Ç–∏ –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ, —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–π –æ–Ω –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø—Ä–æ–º–∏—Å—ã. –ò –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –ø—Ä–∏–¥—ë—Ç—Å—è —á–µ—Ä–µ–∑ `for await...of`:

```js
async function* removeDataGenerator() {
  for (const url of urls) {
    const response = await fetch(url)
    const data = await response.json()
    yield data
  }
}

;(async () => {
  for await (const item of removeDataGenerator()) {
    console.log(item)
  }
})()
```

–í—ã–≤–µ–¥–µ—Ç –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∏—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ—Ä—è–¥–æ–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –Ω–µ –Ω–∞—á–Ω—ë—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –∑–∞–∫–æ–Ω—á–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–∏–π.

–ö–∞–∫ –≤–∞—Ä–∏–∞–Ω—Ç, —ç—Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π](https://bespoyasov.ru/blog/fsm-to-the-rescue/).
