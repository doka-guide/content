### üõ† –£–∑–Ω–∞—Ç—å, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è

–ú–µ—Ç–æ–¥—ã –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ `back()`, `forward()` –∏ `go()` —è–≤–ª—è—é—Ç—Å—è [–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏](/js/async-in-js/), –Ω–æ –æ–Ω–∏ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∫–æ–ª–±—ç–∫–æ–≤ –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç [Promise](/js/promise/).

–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥ –±—ã–ª –∑–∞–≤–µ—Ä—à—ë–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ [—Å–æ–±—ã—Ç–∏–µ](/js/events/) `popstate` –æ–∫–Ω–∞:

```js
window.addEventListener('popstate', (event) => {
  console.log(`–ü–µ—Ä–µ—à–ª–∏ –Ω–∞ –∞–¥—Ä–µ—Å "${document.location}"`)
})
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤ –∏—Å—Ç–æ—Ä–∏—é –∏ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã. –ï—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –î–æ–∫–∏ ‚Äî https://doka.guide/.

```js
history.pushState({}, '', '/js/')
history.pushState({}, '', '/css/')

history.back()
// –ù–∞–ø–µ—á–∞—Ç–∞–µ—Ç: –ü–µ—Ä–µ—à–ª–∏ –Ω–∞ –∞–¥—Ä–µ—Å "https://doka.guide/js/"

history.back()
// –ù–∞–ø–µ—á–∞—Ç–∞–µ—Ç: –ü–µ—Ä–µ—à–ª–∏ –Ω–∞ –∞–¥—Ä–µ—Å "https://doka.guide/"

history.go(2)
// –ù–∞–ø–µ—á–∞—Ç–∞–µ—Ç: –ü–µ—Ä–µ—à–ª–∏ –Ω–∞ –∞–¥—Ä–µ—Å "https://doka.guide/css/"
```

–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ `popstate` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤ –¥–ª—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, —á—Ç–æ–±—ã –¥–∞–≤–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

### üõ† –ü–µ—Ä–µ–¥–∞—á–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

–í –º–µ—Ç–æ–¥—ã `pushState()` –∏ `replaceState()` –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ï—Å–ª–∏ –Ω–∏–∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω—ã, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç.

–°–∞–º–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ URL-–∞–¥—Ä–µ—Å –∏–ª–∏ –Ω–∞ —Å–∞–º –ø–µ—Ä–µ—Ö–æ–¥. –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø–æ–ª–µ `state` –≤ –æ–±—ä–µ–∫—Ç–µ —Å–æ–±—ã—Ç–∏—è –≤–æ –≤—Ä–µ–º—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è `popstate`.

```js
window.addEventListener('popstate', (event) => {
  console.log(`–î–∞–Ω–Ω—ã–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏: ${JSON.stringify(event.state)}`)
});
```

–û–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–µ–∂–¥—É –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤, –º–æ–∂–µ—Ç –∑–∞—Ö–æ—Ç–µ—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã —Å URL-–∞–¥—Ä–µ—Å–æ–º, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π —Å–æ –≤—Å–µ–º–∏ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏–º —Ç–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –∞ –¥–ª—è URL –±—É–¥–µ–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –µ–≥–æ –≤ —Å—Ç—Ä–æ–∫—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ URL.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä –±–∞–∑–æ–≤–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —É—Ä–ª–æ–º. –°–æ–∑–¥–∞–¥–∏–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –æ–±—ä–µ–∫—Ç –≤ —Å—Ç—Ä–æ–∫—É URL-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±—ä–µ–∫—Ç `{ priceFrom: 200, priceTo:1000 }` –≤ `?priceFrom=200&priceTo=1000`:

```js
function transformToURLParams(filters) {
  const query = Object.entries(filters)
    .map(([key, value]) => {
      return `${key}=${value}`
    })
    .join('&')

  return `?${query}`
}
```

–ó–∞—Ç–µ–º –¥–æ–±–∞–≤–∏–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤ —Å—Ç—Ä–æ–∫—É URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```js
function syncURL(filters) {
  const path = document.location.pathname
  const query = transformToURLParams(filters)

  window.history.replaceState(filters, '', `${path}${query}`)
}
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `syncURL()`:

```js
syncURL({
  priceFrom: 200,
  priceTo: 1000,
  manufacturer: 'Adidas'
})
```

–§–∏–ª—å—Ç—Ä—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –≤ –æ–±—Ä–∞—Ç–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É ‚Äî –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º—ã –º–æ–∂–µ–º –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∏–ª—å—Ç—Ä–∞—Ö –∏–∑ URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
