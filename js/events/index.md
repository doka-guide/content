---
title: "–°–æ–±—ã—Ç–∏–π–Ω–∞—è –º–æ–¥–µ–ª—å"
description: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–æ–±—ã—Ç–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –ø–æ—á–µ–º—É –±–µ–∑ –Ω–∏—Ö –Ω–µ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∏ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è."
authors:
  - nlopin
contributors:
  - furtivite
  - skorobaeus
  - vitya-ne
keywords:
  - —ç–≤–µ–Ω—Ç—ã
related:
  - js/dom
  - js/element-addeventlistener
  - recipes/progress
tags:
  - doka
---

## –ö—Ä–∞—Ç–∫–æ

–ß—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º, –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–≤–µ—Ä—à–∏–ª —Ç–æ –∏–ª–∏ –∏–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ. –ë—Ä–∞—É–∑–µ—Ä —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–æ–∑–¥–∞—ë—Ç _—Å–æ–±—ã—Ç–∏–µ_.

–°–æ–±—ã—Ç–∏—è ‚Äî —ç—Ç–æ —Å–∏–≥–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä –ø–æ—Å—ã–ª–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É, –∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –Ω–∞ —Å–∏–≥–Ω–∞–ª —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å. –ü–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å–æ —Å–≤–µ—Ç–æ—Ñ–æ—Ä–æ–º: –≤–∏–¥–∏–º –∑–µ–ª—ë–Ω—ã–π —Å–≤–µ—Ç, –µ–¥–µ–º –¥–∞–ª—å—à–µ üö¶

–°–æ–±—ã—Ç–∏—è –±—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤: –∫–ª–∏–∫, –Ω–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ, –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

–ü—Ä–æ–∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ.

## –ö–∞–∫ –ø–∏—à–µ—Ç—Å—è

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏—è:

- —Å –ø–æ–º–æ—â—å—é `on`-—Å–≤–æ–π—Å—Ç–≤ DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤;
- –º–µ—Ç–æ–¥–æ–º [`addEventListener()`](/js/element-addeventlistener/).

### `on`-—Å–≤–æ–π—Å—Ç–≤–∞ DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π —Å–≤—è–∑–∞–Ω—ã —Å DOM-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–Ω—É–ª –Ω–∞ –∫–Ω–æ–ø–∫—É, —Ç–æ —Å–æ–±—ã—Ç–∏–µ `click` —Å–≤—è–∑–∞–Ω–æ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–º ‚Äî –∫–Ω–æ–ø–∫–æ–π, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –∫–ª–∏–∫–Ω—É–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

–ö–∞–∂–¥—ã–π DOM-—ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç –±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä —Å–≤–æ–π—Å—Ç–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –Ω–∞ `on`:

- `onclick`;
- `onscroll`;
- `onkeypress`;
- `onmouseenter`;
- –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

–ï—Å–ª–∏ –≤ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, —Ç–æ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ, —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å —ç—Ç–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º. –¢–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–∑—ã–≤–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏—è–º–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ —Å–æ–±—ã—Ç–∏—è.

```js
const buttonElement = document.getElementById('change')
const squareDiv = document.getElementById('square')

// –ß—Ç–æ–±—ã —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏, –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≤ —Å–≤–æ–π—Å—Ç–≤–æ onclick.
// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É. –ß–∞—Å—Ç–æ –≥–æ–≤–æ—Ä—è—Ç,
// —á—Ç–æ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
buttonElement.onclick = function() {
  squareDiv.style = `background-color: ${getColor()};`
}

function getColor() {
  const colors = [
    '#49A16C', '#064236',
    '#ED6742', '#F498AD',
    '#1A5AD7', '#AFC9DA',
    '#FFD829', '#282A2E',
    '#5E6064', '#E6E6E6'
  ]
  return colors[Math.floor(Math.random() * colors.length)]
}
```

<iframe title="–°–≤–æ–π—Å—Ç–≤–æ DOM-—ç–ª–µ–º–µ–Ω—Ç–∞ onclick" src="demos/onclick/" height="310"></iframe>

–ß—Ç–æ–±—ã –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ, –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –≤ —Å–≤–æ–π—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ [`null`](/js/null-primitive/).

### –ú–µ—Ç–æ–¥ `addEventListener()`

ü§ñ –ï—Å–ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è —Å –ø–æ–º–æ—â—å—é `on`-—Å–≤–æ–π—Å—Ç–≤, —Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç. –ß–∞—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –ß—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –ø—É—Å—Ç–æ–º –º–µ—Å—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è ‚Äî –º–µ—Ç–æ–¥ `addEventListener()`.

–ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —É DOM-—ç–ª–µ–º–µ–Ω—Ç–∞. –ê—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è (—Å–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è) –∏ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

```js
const buttonElement = document.getElementById('change')
const squareDiv = document.getElementById('square')

// –ß—Ç–æ–±—ã —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏, –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è
// –Ω–∞ —Å–æ–±—ã—Ç–∏–µ click –∏ –ø–µ—Ä–µ–¥–∞—ë–º —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫.
// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É
buttonElement.addEventListener('click', function() {
  squareDiv.style = `background-color: ${getColor()};`
})
```

<iframe title="–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ç–æ–¥" src="demos/click/" height="310"></iframe>

## –ö–∞–∫ –ø–æ–Ω—è—Ç—å

### –§—É–Ω–∫—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫

–§—É–Ω–∫—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è.

–ü—Ä–∏ –≤—ã–∑–æ–≤–µ –±—Ä–∞—É–∑–µ—Ä –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ [–æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è](/js/event/) —Å –ø–æ–º–æ—â—å—é –∞—Ä–≥—É–º–µ–Ω—Ç–∞.

–û–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è ‚Äî —ç—Ç–æ JavaScript-–æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–æ–±—ã—Ç–∏–∏. –í –æ–±—ä–µ–∫—Ç–µ —Å–æ–±—ã—Ç–∏—è –µ—Å—Ç—å –∫–∞–∫ –æ–±—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ (—Ç–∏–ø —Å–æ–±—ã—Ç–∏—è, –≤—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è), —Ç–∞–∫ –∏ —Å–≤–æ–π—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –∫–∞–∫—É—é –∫–Ω–æ–ø–∫—É –Ω–∞–∂–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å).

–ß—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–æ–º —Å–æ–±—ã—Ç–∏—è, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞. –û–±—Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –ø–æ–ª—É—á–∏–º –∏–∑ –æ–±—ä–µ–∫—Ç–∞ —Å–æ–±—ã—Ç–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–µ:

```js
window.addEventListener('keydown', function (event) {
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è,
  // —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∞–∂–∞—Ç–æ–π –∫–ª–∞–≤–∏—à–µ
  alert(`–í—ã –Ω–∞–∂–∞–ª–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É: ${event.key}`)
})
```

–ü–æ–º–∏–º–æ –æ–±—ä–µ–∫—Ç–∞ —Å–æ–±—ã—Ç–∏—è, –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ [`this`](/js/function-context/). –û–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å DOM-—ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å—Ä–∞–±–æ—Ç–∞–ª –æ–±—Ä–∞–±–æ—Ç—á–∏–∫. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–¥–∏–Ω —Ä–∞–∑, –Ω–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å –µ—ë –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º DOM-—ç–ª–µ–º–µ–Ω—Ç–∞–º.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –æ–±—ä—è–≤–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ –≤–∏–¥–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–æ–≤–µ—Å–∏–º –µ—ë –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–Ω–æ–ø–æ–∫. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –±—É–¥–µ–º –º–µ–Ω—è—Ç—å –µ—ë —Ü–≤–µ—Ç:

```js
function changeColor() {
  // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ.
  // –ö–Ω–æ–ø–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ this
  this.style = `background-color: ${getColor()};`
}

const buttons = document.getElementsByTagName('button')
for (let i = 0; i < buttons.length; ++i) {
  const button = buttons[i]
  // –ö –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
  button.addEventListener('click', changeColor)
  // –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã –Ω–µ –≤—ã–∑—ã–≤–∞–µ–º
  // —Ñ—É–Ω–∫—Ü–∏—é changeColor, –∞ —Ç–æ–ª—å–∫–æ –ø–∏—à–µ–º –µ—ë –∏–º—è
}
```

<iframe title="This –≤ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ" src="demos/this/" height="230"></iframe>

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

–í–∞–∂–Ω—ã–π –∞—Å–ø–µ–∫—Ç —Å–æ–±—ã—Ç–∏–π–Ω–æ–π –º–æ–¥–µ–ª–∏ ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º _—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (event propagation)_. –û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ —Å–æ–±—ã—Ç–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å —É–∑–ª–∞–º–∏ DOM –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

–í–æ–∑–Ω–∏–∫–∞—è, —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –≤—Å–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã (capturing phase), –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (target phase), –∏ –∑–∞—Ç–µ–º –≤–Ω–æ–≤—å –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (bubbling phase).

![–°–æ–±—ã—Ç–∏–π–Ω–∞—è –º–æ–¥–µ–ª—å](images/events-model.png)

–û–±—ã—á–Ω–æ —Å–æ–±—ã—Ç–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –Ω–∞ —Å—Ç–∞–¥–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–ª–∏ –≤—Å–ø–ª—ã—Ç–∏—è.
### –í—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏–π

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä. –£ –Ω–∞—Å –µ—Å—Ç—å [`<div>`](/html/div/) —ç–ª–µ–º–µ–Ω—Ç, –≤ –∫–æ—Ç–æ—Ä—ã–π –≤–ª–æ–∂–µ–Ω–æ –≤–∏–¥–µ–æ. –ú—ã –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ —Å–æ–±—ã—Ç–∏—è `click` –∫–∞–∫ –Ω–∞ `<div>`, —Ç–∞–∫ –∏ –Ω–∞ [`<video>`](/html/video/). –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ `<div>`, —Ç–æ –º—ã –º–µ–Ω—è–µ–º –µ–≥–æ —Ü–≤–µ—Ç –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–π –∏–∑ —Å–ø–∏—Å–∫–∞. –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ `<video>`, —Ç–æ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º –≤–∏–¥–µ–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–æ—Ä–æ–±–∫—É:

```js
const container = document.getElementById('container')
const video = document.getElementById('cat')

// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ click –Ω–∞ <div>
container.addEventListener('click', function() {
  const colors = [
    '#49A16C', '#064236', '#ED6742', '#F498AD',
    '#1A5AD7', '#AFC9DA', '#FFD829', '#282A2E', '#5E6064'
  ]
  const randomColorIndex = Math.floor(Math.random() * colors.length)
  container.style = `background-color: ${colors[randomColorIndex]}`
})

// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ click –Ω–∞ –≤–∏–¥–µ–æ
video.addEventListener('click', function() {
  // –û—Ç–º–∞—Ç—ã–≤–∞–µ–º –≤–∏–¥–µ–æ –Ω–∞ –Ω–∞—á–∞–ª–æ
  this.currentTime = 0
  this.play()
})
```

<iframe title="–í—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏–π" src="demos/bubbling/" height="460"></iframe>

ü§ñ –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –æ–±–æ–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö ‚Äî —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ –º–µ–Ω—è–µ—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–∏–¥–µ–æ. –≠—Ç–æ–º—É –µ—Å—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –æ–Ω–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è _–≤—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏–π (event bubbling)_.

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–≤–µ—Ä—à–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ, –±—Ä–∞—É–∑–µ—Ä –∏—â–µ—Ç —Å–∞–º—ã–π –≤–ª–æ–∂–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ. –ó–∞—Ç–µ–º —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–æ —Å–∞–º–æ–≥–æ –∫–æ—Ä–Ω—è DOM.

–í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –∫–ª–∏–∫–Ω—É–ª–∏ –Ω–∞ `<video>`, —ç—Ç–æ —Å–∞–º—ã–π –≤–ª–æ–∂–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç. –ë—Ä–∞—É–∑–µ—Ä —Å–æ–∑–¥–∞–ª —Å–æ–±—ã—Ç–∏–µ, –∏ –º—ã –æ–±—Ä–∞–±–æ—Ç–∞–ª–∏ –µ–≥–æ –≤ –∫–æ–¥–µ. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä –ø–µ—Ä–µ–¥–∞—ë—Ç —Å–æ–±—ã—Ç–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—é `<video>` (—Ç–æ –µ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç—É, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç `<video>`) ‚Äî —ç–ª–µ–º–µ–Ω—Ç—É `<div>`. –ú—ã –ø–æ–ª—É—á–∞–µ–º –µ–≥–æ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º. –ò –æ–Ω –≤—Å–ø–ª—ã–≤–∞–µ—Ç –¥–∞–ª—å—à–µ, –ø–æ–∫–∞ –Ω–µ –¥–æ–π–¥—ë—Ç –¥–æ [`<body>`](/html/body/).

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–Ω–∞—á–∞–ª–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –Ω–∞ —Å–∞–º–æ–º –≤–ª–æ–∂–µ–Ω–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ, –∑–∞—Ç–µ–º –Ω–∞ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª–µ, –∑–∞—Ç–µ–º –≤—ã—à–µ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ, –≤–≤–µ—Ä—Ö –ø–æ —Ü–µ–ø–æ—á–∫–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.

–ï—Å–ª–∏ –∫–ª–∏–∫–Ω—É—Ç—å –ø–æ –±–ª–æ–∫–∞–º –Ω–∞ –¥–µ–º–æ, —Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ —Å–æ–±—ã—Ç–∏–µ –≤—Å–ø–ª—ã–≤–∞–µ—Ç –≤–≤–µ—Ä—Ö –∫ —Ä–æ–¥–∏—Ç–µ–ª—è–º:

```js
let active
let counter = 0

// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ click –Ω–∞ –≤—Å–µ—Ö <div>
let divs = Array.from(document.querySelectorAll('div')).reverse()
for (let i = 0; i < divs.length; ++i) {
  const isLast = (i + 1 === divs.length)
  divs[i].addEventListener('click', clickHandlerGenerator(isLast))
}

function clickHandlerGenerator(isLast = false) {
  return function() {
    let me = this
    setTimeout(function() {
      if (active) {
        active.classList.remove('active')
      }
      me.classList.add('active')

      active = me

      if (isLast) {
        setTimeout(function() {
          active.classList.remove('active')
          active = undefined
          counter = 0
        }, 300)
      }
    }, counter * 300)
    ++counter
  }
}
```

<iframe title=">–í—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏–π –ø–æ —Ü–µ–ø–æ—á–∫–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏" src="demos/bubbling-chain/" height="510"></iframe>

–í—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏—è –º–æ–∂–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `stopPropagation()` —É –æ–±—ä–µ–∫—Ç–∞ —Å–æ–±—ã—Ç–∏—è:

```js
video.addEventListener('click', function (event) {
  event.stopPropagation()
  this.currentTime = 0
  this.play()
})
```

### –ó–∞—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π

–ü—Ä–∏ –≤—Å–ø–ª—ã—Ç–∏–∏ –æ—á–µ—Ä—ë–¥–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—Ç –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º. –≠—Ç–æ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—É –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–æ–±—ã—Ç–∏—è–º–∏ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ —ç–ª–µ–º–µ–Ω—Ç—É, –º–æ–∂–µ—Ç ¬´—É–∑–Ω–∞—Ç—å¬ª –æ –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–µ–º —Å–æ–±—ã—Ç–∏–∏ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–ø–ª—ã—Ç–∏–µ –Ω–µ –±—ã–ª–æ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ –æ–¥–Ω–æ–º –∏–∑ –Ω–∏—Ö.

–î–ª—è —Ä–µ—à–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–¥–∞—á —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –µ—â—ë –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–æ –ø–æ–ª—É—á–µ–Ω–æ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤-¬´–æ–±—ë—Ä—Ç–æ–∫¬ª, –Ω–µ –∑–∞–≤–∏—Å—è—â–∏—Ö –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–í –∫–∞—á–µ—Å—Ç–≤–µ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø—Ä–∏–º–µ—Ä —Å –∫–æ—Ç–∏–∫–æ–º –≤ –∫–æ—Ä–æ–±–∫–µ. –î–æ–ø—É—Å—Ç–∏–º, –Ω—É–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –≤–∏–¥–µ–æ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ñ–æ–Ω —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–∞–ª–∞—Ç–æ–≤—ã–π –∏–ª–∏ –≥–æ–ª—É–±–æ–π, –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –º–µ–Ω—è—è –ª–æ–≥–∏–∫—É –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞. –î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–ª–µ–≥–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É:

```js
// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ click –Ω–∞ <div>
container.addEventListener('click', function(event) {
  const colors = [
    '#49A16C', '#064236', '#ED6742', '#F498AD',
    '#1A5AD7', '#AFC9DA', '#FFD829', '#282A2E', '#5E6064'
  ]
  const randomColorIndex = Math.floor(Math.random() * colors.length)
  container.style = `background-color: ${colors[randomColorIndex]}`

  // –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å —Ü–≤–µ—Ç–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É—Å–ª–æ–≤–∏—é (–∑–µ–ª—ë–Ω—ã–π –∏–ª–∏ –≥–æ–ª—É–±–æ–π),
  // –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
  if (randomColorIndex !== 0 && randomColorIndex !== 2 ) {
        event.stopPropagation()
  }
}, true) // –°–æ–±—ã—Ç–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞–¥–∏–∏ –∑–∞—Ö–≤–∞—Ç–∞
```

<iframe title="–ó–∞—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π" src="demos/capturing/" height="460"></iframe>

–ß—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –Ω–∞ —Å—Ç–∞–¥–∏–∏ –∑–∞—Ö–≤–∞—Ç–∞, –¥–æ–±–∞–≤—å—Ç–µ `true` –≤ –≤—ã–∑–æ–≤ [`addEventListener()`](/js/element-addeventlistener/#kak-pishetsya) –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç—Ä–µ—Ç—å–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

```js
element.addEventListener(
  'click', // –°–æ–±—ã—Ç–∏–µ
  function (event) {
    // –ö–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  },
  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å—Ç–∞–¥–∏–∏ –∑–∞—Ö–≤–∞—Ç–∞
  true
)
```

–¢–µ–ø–µ—Ä—å —Å–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å–Ω–∞—á–∞–ª–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º `<div>`, –∞ –∑–∞—Ç–µ–º, –µ—Å–ª–∏ –Ω–µ –±—É–¥–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ —Ü–µ–ª–µ–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É `<video>`.

‚òùÔ∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç–∞–¥–∏–∏ –∑–∞—Ö–≤–∞—Ç–∞. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥ `stopPropagation()` –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∫ –¥–æ—á–µ—Ä–Ω–∏–º, –∏ —Ü–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –µ–≥–æ.

–ê –≤–æ—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è –Ω–∞ —Å—Ç–∞–¥–∏–∏ –∑–∞—Ö–≤–∞—Ç–∞. –ï—Å–ª–∏ –∫–ª–∏–∫–Ω—É—Ç—å –ø–æ –±–ª–æ–∫–∞–º –∏–∑ –¥–µ–º–æ, —É–≤–∏–¥–∏—Ç–µ, –∫–∞–∫ —Å–æ–±—ã—Ç–∏–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞:

<iframe title="–ó–∞—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π –ø–æ —Ü–µ–ø–æ—á–∫–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏" src="demos/capturing-chain/" height="510"></iframe>
