---
title: "`.attachShadow()`"
description: "–°–æ–∑–¥–∞—ë—Ç –∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç Shadow DOM –∫ —ç–ª–µ–º–µ–Ω—Ç—É, –ø–æ–∑–≤–æ–ª—è—è –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏ –∏ —Ä–∞–∑–º–µ—Ç–∫—É"
authors:
  - drakesbot12
keywords:
  - shadow
  - attachShadow
  - web components
  - –≤–µ–±-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  - –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è
related:
  - html/slot
  - css/slotted
  - html/part
tags:
  - doka
---

## –ö—Ä–∞—Ç–∫–æ

`.attachShadow()` ‚Äî —ç—Ç–æ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å Shadow DOM –∫ HTML-—ç–ª–µ–º–µ–Ω—Ç—É. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–µ–±-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å—Ç–∏–ª–µ–π.

## –ü—Ä–∏–º–µ—Ä

```html
<template id="my-box-template">
  <style>
    :host {
      display: block;
      padding: 1em;
      background: lightgray;
      border-radius: 6px;
    }
  </style>
  <slot></slot>
</template>

<my-box>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–æ–∫—Å–∞</my-box>

<script>
  class MyBox extends HTMLElement {
    constructor() {
      super()
      const shadowRoot = this.attachShadow({ mode: 'open' })
      const template = document.getElementById('my-box-template')
      shadowRoot.appendChild(template.content.cloneNode(true))
    }
  }

  customElements.define('my-box', MyBox)
</script>
```

üì¶ –≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç —Å—Ç–∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è ‚Äî —Å–Ω–∞—Ä—É–∂–∏ –∏—Ö –Ω–µ –≤–∏–¥–Ω–æ, –∏ –æ–Ω–∏ –Ω–µ –ø—Ä–æ—Ç–µ–∫–∞—é—Ç –Ω–∞—Ä—É–∂—É.

## –ö–∞–∫ –ø–∏—à–µ—Ç—Å—è

```js
element.attachShadow({ mode: 'open' })
```

–ú–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –æ–ø—Ü–∏—è–º–∏:

- `mode`: (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) `open` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ `closed`. –í —Ä–µ–∂–∏–º–µ `open` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ `element.shadowRoot` –∏–∑–≤–Ω–µ. –í `closed` ‚Äî –Ω–µ—Ç.
- `delegatesFocus`: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `true`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ñ–æ–∫—É—Å –≤–Ω—É—Ç—Ä—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
- `slotAssignment`: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `named` –∏–ª–∏ `manual` ‚Äî —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–æ—Ç–∞–º–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `named`).
- `clonable`, `serializable`: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ, –ø–æ–∫–∞ —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.

## –ö–∞–∫ –ø–æ–Ω—è—Ç—å

–ï—Å–ª–∏ –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ —Å–≤–æ–π HTML-—ç–ª–µ–º–µ–Ω—Ç (`customElements.define(...)`), —Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –∑–∞—Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å Shadow DOM –¥–ª—è:

- –∏–∑–æ–ª—è—Ü–∏–∏ CSS –æ—Ç –≤–Ω–µ—à–Ω–µ–π —Å—Ä–µ–¥—ã;
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ª–æ—Ç–æ–≤ (`<slot>`) –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ;
- –ª—É—á—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

–ë–µ–∑ –≤—ã–∑–æ–≤–∞ `attachShadow()` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Å—Ç–∞—ë—Ç—Å—è –æ–±—ã—á–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º.

<aside>

–ï—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ ShadowDOM –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º, –≤–æ—Ç —Å–ø–∏—Å–æ–∫ **—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö** —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
- –ª—é–±–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã–π –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å [–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º](https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name);
- [`<article>`](/html/article/);
- [`<aside>`](/html/aside/);
- [`<blockquote>`](/html/blockquote/);
- [`<body>`](/html/body/);
- [`<div>`](/html/div/);
- [`<footer>`](/html/footer/);
- [`h1 - h6`](/html/h1-h6/);
- [`<header>`](/html/header/);
- [`<main>`](/html/main/);
- [`<nav>`](/html/nav/);
- [`<p>`](/html/p/);
- [`<section>`](/html/section/);
- [`<span>`](/html/span/).

</aside>

## –ü–æ–¥—Å–∫–∞–∑–∫–∏

üí° –ï—Å–ª–∏ Shadow DOM –≤ —Ä–µ–∂–∏–º–µ `closed`, –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ `element.shadowRoot` –±—É–¥–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ ‚Äî –¥–∞–∂–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏.
üí° Shadow DOM ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏, –Ω–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –≤–Ω–µ—à–Ω–∏–µ —Å—Ç–∏–ª–∏ –≤–ª–∏—è–ª–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
