---
title: "XML"
tags:
  - doka
authors:
  - KognitivnayaBuena
symmary:
  - xml
  - разметка
---

## Кратко

XML (Extensible Markup Language) - расширяемый язык разметки. По структуре напоминает HTML. XML отличается тем, что теги для разметки разработчик должен определять самостоятельно.

## Как пишется

### Корневой элемент

У XML-документа обязательно должен быть один корневой элемент, который будет родительским для остальных элементов. В примере ниже `<root>` является корневым элементом.

```xml
  <?xml version="1.0" encoding="UTF-8"?>
  <root>
    <tree>
      <leaf>Тут лежит листик</leaf>
      <leaf>Тут лежит листик</leaf>
    </tree>
  </root>
```

### XML-пролог

Строка с которой может начинаться любой XML документ — это пролог, который обозначает с какой версией документа происходит работа. Пролог показывает его версию и кодировку, которую мы используем.

```xml
<?xml version="1.0" encoding="UTF-8"?>
```

Пролог для XML не обязателен, но если вы решили его указать, то нужно это сделать в самом начале документа. Он должен быть первым.

Из знакомого нам варианта - указатель `<!DOCTYPE html>`. Данный пролог используется в файлах формата `*.html`.

### Теги (tags)

Основное правило для написания XML документа - всегда закрывай теги.

Правильный вариант тега:

```xml
  <?xml version="1.0" encoding="UTF-8"?>
  <cat>Борись и не сдавайся!</cat>
```

Не правильный вариант тега. Если не закрыть тег, вся сила утекает из кода.

```xml
  <?xml version="1.0" encoding="UTF-8"?>
  <cat>Энергия кота Бориса утекает от нас
```

## Структура

Документ состоит из разных сущностей, которые состоят из символов. Данные символы разделены на символы разметки и символы данных. К символам разметки, они же символы структуры документа, относятся:

### Теги

Теги обозначают границы элементов. Теги могут содержать в себе текст, другие атрибуты или элементы или их сочетание. Например определим сущность `petstore` - магазин домашних любимцев. В нем у нас есть несколько видов животных - `pet`. Эти два тега содержат в себе элементы - теги. У каждого питомца мы определили разделение на вид атрибутом `category`. У нас есть катерогии: cat, dog, fish. Дополнителная информация о питомце содержится в тегах `name`, `year`, `price`. В них определено текстовое значение, даже цена в формате `485.00`.

```xml
  <?xml version="1.0" encoding="UTF-8"?>
  <petstore>
    <pet category="cat">
      <name>Борис</name>
      <year>2021</year>
      <price>485.00</price>
    </pet>
    <pet category="dog">
      <name>Плуто</name>
      <year>2020</year>
      <price>2999.99</price>
    </pet>
    <pet category="fish">
      <name>Нэмо</name>
      <year>2021</year>
      <price>100.50</price>
    </pet>
  </petstore>
```

Элементы могут быть пустыми или самозакрывающимися, например:

```xml
  <?xml version="1.0" encoding="UTF-8"?>
  <cat></cat>
  <cat />
```

### Атрибуты

Атрибуты хранят определенную информацию, которая относится к конкретному элементу. Значения атрибутов должны быть указаны в кавычках. Доступны одинарные и двойные кавычки для определения значения атрибута. Например:

```xml
<pet category="cat">
<pet category='dog'>
<pet category='dog "corgi"'>
```

Стоит помнить, что атрибуты используются для метаинформации. В основном это различные идентификаторы, например id.

### Конфликты именования тегов

Так как в XML мы сами определям имена для тегов, то есть вероятность возникновения конфликта имен. Если мы определим таблицу в XML тегами из HTML, то будет коллизия имен. Первый XML-код содержит информацию таблицы HTML. Второй код содержит описание кота. Если эти два фрагмента кода были сложены вместе, то возник бы конфлик имен. Они оба определены тегом `table`, но у них разное содержание. XML не знает как подружить эти разные структуры.

```xml
<root>
  <table>
    <th>Элемент 1</th>
    <tr>Элемент 2</tr>
    <tr>Элемент 3</tr>
  </table>

  <table>
    <cat>Кот</cat>
    <name>Борис</name>
  </table>
</root>
```

Можно разрешить эту проблему, если определить пространство имен. Для двух этих таблиц нужно добавить атрибут `xmlns` с указанием урла на документ с пространством имен. Нельзя задавать ссылку на локальный документ и нельзя определять `xmlns` как пустую строку. Например:

```xml
  <table xmlns="https://www.w3.org/TR/html51/" />
```

После введения атрибута `xmlns` код будет корректно обрабатываться и выглядеть так:

```xml
<root>
  <classic:table xmlns:classic="https://www.w3.org/TR/html51/">
    <classic:th>Элемент 1</th>
    <classic:tr>Элемент 2</tr>
    <classic:tr>Элемент 3</tr>
  </classic:table>

  <catName:table xmlns:catName="https://catNameStandart.com/table">
    <catName:cat>Кот</cat>
    <catName:name>Борис</name>
  </catName:table>
</root>
```

Можно перенести все объявления пространств имен в корневой элемент. В нашем случае это будет так:

```xml
<root xmlns:classic="https://www.w3.org/TR/html51/" xmlns:catName="https://catNameStandart.com/table">
  <!-- код с таблицами как в примере выше, но без атрибутов xmlns в тегах table -->
</root>
```
