---
title: "`.focus()`"
description: "Метод, который устанавливает фокус на DOM-элемент, на котором вызван."
authors:
  - nlopin
related:
  - js/dom
  - js/element
  - html/form
tags:
  - doka
---

## Кратко

Вызов метода `focus()` на [DOM-элементе](/js/element/) устанавливает фокус на этот элемент. Когда элемент находится в фокусе, он перехватывает и обрабатывает события клавиатуры.

Фокус нельзя поставить на элемент, если он заблокирован. Например, если у кнопки или поля ввода стоит атрибут [`disabled`](/html/disabled/).

## Как пишется

Метод `focus()` обычно вызывается без аргументов, но в него также можно передать объект со свойством `preventScroll`:

```js
element.focus()
element.focus({ preventScroll: true })
```

По умолчанию браузер прокручивает страницу до элемента, на который перемещён фокус. Это так же происходит, если `preventScroll` установлен в `false`. Если `preventScroll` установлен в `true`, то прокрутки страницы к элементу не произойдёт.

## Пример

Представим, что мы работаем с веб-страницей с формой:

```html
<form action="/apply" method="POST">
  <label>
    Your name:
    <input type="text" name="name">
  </label>

  <label>
    Email:
    <input type="email" name="email" id="email">
  </label>

  <button type="submit">Подать заявку</button>
</form>
```

Чтобы программно установить фокус в поле _Email_ нужно получить искомый элемент и вызвать метод `focus()` на нём:

```js
const emailInput = document.getElementById('email')
emailInput.focus()
```

После выполнения кода поле станет доступно для ввода.

В примере фокус перемещается в зависимости от выбранного элемента в выпадающем списке:

<iframe title="Перенос фокуса на элемент" src="demos/" height="200"></iframe>

## Как понять

### Что такое фокус?

Фокус в вебе — это обозначение активного элемента на странице. Такой элемент браузеры чаще всего обозначают голубой полупрозрачной обводкой. С активным элементом можно взаимодействовать, он принимает события клавиатуры. Например, когда мы печатаем значение в поле ввода, это поле ввода находится в фокусе.

Фокус критически важен для людей, которые не могут или не хотят пользоваться мышью. С помощью кнопки <kbd>Tab</kbd> такие пользователи перемещают фокус между интерактивными элементами внутри страницы. Это поведение предоставляется браузером по умолчанию.

На фокус можно влиять с помощью HTML-атрибутов [`autofocus`](/html/input/) и [`tabindex`](/html/global-attrs/), а также из JavaScript с помощью вызова методов `focus()` и [`blur()`](/js/element-blur/) у DOM-элементов.

Когда браузер отображает страницу, то по умолчанию фокус не установлен. При нажатии <kbd>Tab</kbd> фокус установится в первый интерактивный элемент сверху страницы и будет двигаться сверху вниз по порядку в разметке.

### Когда нужен `focus()`?

Бывают случаи, когда нужно программно установить фокус на элемент:

- пользователь нажал на кнопку, которая открывает модальное окно. Нужно переместить фокус в это окно, чтобы пользователь не потерялся.
- при выборе значения из списка нужно автоматически переместить фокус на зависимый список.
- при реализации кастомных горячих клавиш. Например, хотим перемещаться между элементами формы стрелками.

Эти случаи объединяет необходимость перемещать фокус непоследовательно, не так, как браузер делает по умолчанию. Произвольно переместить фокус позволяет метод `focus()`.

Например, в случае с открытием модального окна нужно переместить фокус на него. Подпишемся на событие `click` на кнопке открытия окна и вызовем `focus()` в обработчике:

```js
const openModalButton = document.getElementById('open-modal-button')
const modalWindow = document.getElementById('modal-window')
openModalButton.addEventListener('click', function(event) {
  modalWindow.focus()
})
```

Полный пример реализации модального окна описан в [WAI-ARIA Authoring Practices](https://www.w3.org/TR/wai-aria-practices-1.1/examples/dialog-modal/dialog.html).

### Не на каждый элемент можно установить фокус

Фокус — это обозначение активного элемента на странице, но не все элементы могут иметь фокус. Обычно фокус можно выставить интерактивным элементам, с которыми можно взаимодействовать с клавиатуры.

В спецификации HTML описаны [все критерии, которые делают элемент доступным для фокуса](https://html.spec.whatwg.org/multipage/interaction.html#focusable-area). Мы же разберём самые важные.

Если не устанавливать атрибуты, которые влияют на доступность элемента для фокуса, то каждый браузер самостоятельно определяет, какой элемент может иметь фокус. Во всех современных браузерах, следующие элементы могут иметь фокус:

- ссылки [`<a>`](/html/a/) с установленным атрибутом `href`;
- кнопки [`<button>`](/html/button/);
- поля ввода [`<input>`](/html/input/), кроме скрытых (`type="hidden"`);
- выпадающие списки [`<select>`](/html/select/);
- поля многостраничного ввода [`textarea`](/html/textarea/);
- элементы [`<summary>`](/html/details/);
- произвольный элемент, если у него установлен атрибут `tabindex`.

Если у любого из этих элементов установить атрибут `disabled`, то элемент перестаёт быть доступным для фокуса.
