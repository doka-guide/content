<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ - Ğ›Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ˜Ğ›Ğ˜ â€” Ğ”Ğ¾ĞºĞ°</title>
  <style>
    * {
      font-family: sans-serif;
      margin-bottom: 10px;
    }

    span {
      padding: 8px 15px;
      border-radius: 5px;
      color: white;
      white-space: nowrap;
      position:relative;
    }

    .connector {
      font-size: 30px;
      color: black;
      display:inline-block;
      position: relative;
    }

    .valid {
      background-color: #669900;
    }

    .invalid {
      background-color: #CC0033;
    }

    #guest {
      font-size:30px;
      margin: 0;
    }
  </style>
</head>
<body>
<h1>Ğ¡Ğ¸Ğ¼ÑƒĞ»ÑÑ‚Ğ¾Ñ€ ÑĞµĞºÑŒÑÑ€Ğ¸Ñ‚Ğ¸</h1>
<h4>ĞŸÑƒÑĞºĞ°Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ Ğ±Ğ¸Ğ»ĞµÑ‚Ğ°Ğ¼Ğ¸ Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑˆÑ‘Ğ½Ğ½Ñ‹Ñ…. ĞŸÑ€Ğ¸Ğ³Ğ»Ğ°ÑˆÑ‘Ğ½Ğ½Ñ‹Ğµ: ğŸ·, ğŸ¦, ğŸ¶, ğŸ¦Š</h4>
<button id="generate">Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ³Ğ¾ÑÑ‚Ñ</button>
<p id="guest">
</p>
<p>
  <span id="condition-ticket">Ğ•ÑÑ‚ÑŒ Ğ±Ğ¸Ğ»ĞµÑ‚</span>
  <span class="connector" style="top: 5px;"> Ğ˜Ğ›Ğ˜ </span>
  <span id="condition-invited">Ğ² ÑĞ¿Ğ¸ÑĞºĞµ Ğ³Ğ¾ÑÑ‚ĞµĞ¹</span>
  <span class="connector" style="top: 4px;"> â†’ </span>
  <span id="result"></span>
</p>
  <script>
    let possibleGuests = ['ğŸ·', 'ğŸ¦', 'ğŸ¶', 'ğŸ¦Š', 'ğŸ®', 'ğŸ‘»', 'ğŸ’€', 'ğŸ¤¡', 'ğŸ¤–'];
    let invited = ['ğŸ·', 'ğŸ¦', 'ğŸ¶', 'ğŸ¦Š'];
    let generateButton = document.getElementById('generate');
    let guestDescription = document.getElementById('guest');
    let conditionTicketSpan = document.getElementById('condition-ticket');
    let conditionInvitedSpan = document.getElementById('condition-invited');
    let resultSpan = document.getElementById('result');

    function generateAndCheck() {
      let guestIndex = Math.floor(Math.random() * possibleGuests.length);
      let guest = possibleGuests[guestIndex];
      let isInvited = invited.includes(guest);
      let hasTicket = Math.round(Math.random());

      guestDescription.textContent = guest + (hasTicket ? ' + ğŸ«' : '')

      updateClasses(conditionInvitedSpan, isInvited);
      updateClasses(conditionTicketSpan, hasTicket);

      if (isInvited || hasTicket) {
        resultSpan.textContent = 'Ğ’Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ';
        updateClasses(resultSpan, true);
      } else {
        resultSpan.textContent = 'Ğ’Ñ‹Ğ³Ğ½Ğ°Ñ‚ÑŒ'
        updateClasses(resultSpan, false);
      }

    }

    function updateClasses(el, isValid) {
      el.className = isValid ? 'valid' : 'invalid';
    }

    generateAndCheck();

    generateButton.addEventListener('click', generateAndCheck);
  </script>
</body>
</html>
