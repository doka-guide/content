üõ† –ö–∞–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞?

üõ† –ö–æ–≥–¥–∞ –∏ –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö? –ö–∞–∫ –Ω–∞–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö ‚Äî ¬´–≤—Ä–µ–º–µ–Ω–Ω—ã–π¬ª –∏ ¬´–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π¬ª. –í–æ ¬´–≤—Ä–µ–º–µ–Ω–Ω–æ–º¬ª —Ä–µ–∂–∏–º–µ –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –ø–æ–º–µ—à–∞–µ—Ç —Ä–∞–±–æ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ —ç—Ç–æ–≥–æ –Ω–µ —Å–ª—É—á–∏—Ç—Å—è, –¥–∞–∂–µ –≤ —Å–ª—É—á–∞–µ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –º–µ—Å—Ç–∞. –û–¥–Ω–∞–∫–æ, –≤ —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ—á–∏—â–∞—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (`localStorage`, `IndexedDB`, `Cache API` –∏ —Ç. –¥.) —Ä–∞–±–æ—Ç–∞—é—Ç –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ. –ï—Å–ª–∏ —Å–∞–π—Ç –Ω–µ [–∑–∞–ø—Ä–æ—Å–∏–ª –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö](https://web.dev/persistent-storage/) ‚Äî –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –µ–≥–æ –¥–∞–Ω–Ω—ã–µ –ø–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –º–∞–ª–æ –º–µ—Å—Ç–∞.

üõ† –ü—Ä–æ—Ü–µ—Å—Å –æ—á–∏—Å—Ç–∫–∏

–ü—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–µ –º–µ—Å—Ç–∞ –±—Ä–∞—É–∑–µ—Ä—ã –¥–æ–ª–∂–Ω—ã —É–¥–∞–ª–∏—Ç—å –Ω–∞–∏–º–µ–Ω–µ–µ —Ü–µ–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–∞–Ω–Ω—ã–µ.

- –ë—Ä–∞—É–∑–µ—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ Chromium –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç –º–µ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —É–¥–∞–ª—è—è –¥–∞–Ω–Ω—ã–µ —Å–∞–π—Ç–æ–≤. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Å–∞–π—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞–≤–Ω–æ –Ω–µ –ø–æ—Å–µ—â–∞–ª–∏—Å—å, –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –ø–æ–∫–∞ –Ω–µ –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞.
- Internet Explorer 10+ –Ω–µ –æ—á–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –¥–∞—ë—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞.
- Firefox –Ω–∞—á–∏–Ω–∞–µ—Ç –æ—á–∏—Å—Ç–∫—É, –∫–æ–≥–¥–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ. –ü–æ—Ä—è–¥–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ —Ç–æ–º—É –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø—É, —á—Ç–æ –∏ –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ Chromium.
- Safari —Ä–∞–Ω—å—à–µ –≤–æ–æ–±—â–µ –Ω–µ —É–¥–∞–ª—è–ª –¥–∞–Ω–Ω—ã–µ, –Ω–æ —Å–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [—Å–µ–º–∏–¥–Ω–µ–≤–Ω—ã–π –ª–∏–º–∏—Ç –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø–∏—Å—ã–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö](https://webkit.org/blog/10218/full-third-party-cookie-blocking-and-more/).

üõ† –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö?

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `window.navigator.storage`. –ù—É–∂–Ω—ã–π –Ω–∞–º –º–µ—Ç–æ–¥ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `persist()`:

```js
(async () => {
  // –ü—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ ¬´–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π¬ª —Ä–µ–∂–∏–º —Ö—Ä–∞–Ω–µ–Ω–∏—è. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å. –ò false, –µ—Å–ª–∏ –Ω–µ—Ç.
  const persistModeEnabled = await window.navigator.storage?.persist()
})()
```

–ú–æ–∂–Ω–æ —É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–∞—à –∫–æ–¥, –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –º–µ—Ç–æ–¥–æ–º `persisted()`. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–µ—Ä–Ω—ë—Ç –Ω–∞–º `true`, –µ—Å–ª–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —É–∂–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–µ–∂–∏–º.

–ú—ã –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ `persisted()` –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–µ–∂–∏–º, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–æ –µ—â—ë –Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ:

```js
(async () => {
  // boolean –∑–Ω–∞—á–µ–Ω–∏–µ, —É–∫–∞–∑–∞–≤–∞—é—â–µ–µ –Ω–∞ —Ç–æ, –≤–∫–ª—é—á–µ–Ω –ª–∏ ¬´–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π¬ª —Ä–µ–∂–∏–º —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
  const isAlreadyPersist = await window.navigator.storage?.persisted()

  if (isAlreadyPersist) {
    console.info('–•—Ä–∞–Ω–∏–ª–∏—â–µ —É–∂–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–µ–∂–∏–º —Ö—Ä–∞–Ω–µ–Ω–∏—è.')
    return
  }

  // boolean –∑–Ω–∞—á–µ–Ω–∏–µ, —É–∫–∞–∑—ã–≤–∞—é—â–µ–µ –Ω–∞ —Ç–æ, —É–¥–∞–ª–æ—Å—å –ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ ¬´–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π¬ª —Ä–µ–∂–∏–º —Ö—Ä–∞–Ω–µ–Ω–∏—è
  const persistModeEnabled = await window.navigator.storage?.persist()

  if (persistModeEnabled) {
    console.info('–ë—Ä–∞—É–∑–µ—Ä —É—Å–ø–µ—à–Ω–æ —Å–º–µ–Ω–∏–ª —Ä–µ–∂–∏–º —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ ¬´–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π¬ª.')
    return
  }

  console.info(
    '–ë—Ä–∞—É–∑–µ—Ä —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–∞. –í–æ–∑–º–æ–∂–Ω–æ –≤–∞–º —Å—Ç–æ–∏—Ç –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏, –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ —Å–∞–π—Ç–µ HTTPS –ø—Ä–æ—Ç–æ–∫–æ–ª.'
  )
})()
```
