---
title: "Geolocation API"
description: "–£–∑–Ω–∞—ë–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è üß≠"
authors:
  - inventoris
keywords:
  - –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è
  - GPS
related:
  - js/bom
  - js/window-navigator
  - js/api
tags:
  - article
---

<aside>

–≠—Ç–∞ —Å—Ç–∞—Ç—å—è —Å–≤—è–∑–∞–Ω–∞ —Å –ø–æ–Ω—è—Ç–∏–µ–º `Application Programming Interface`. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –Ω—ë–º —á–∏—Ç–∞–π—Ç–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –º–∞—Ç–µ—Ä–∏–∞–ª–µ –ø—Ä–æ [`API`](/js/api/).

</aside>

## –ö—Ä–∞—Ç–∫–æ

`Geolocation API` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–∞–Ω–Ω—ã–µ –æ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏.

<aside>

üîî –†–∞–±–æ—Ç–∞—Ç—å —Å –≥–µ–æ–ø–æ–∑–∏—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞—â–∏—â—ë–Ω–Ω–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ (HTTPS).

</aside>

## –ö–∞–∫ –ø–∏—à–µ—Ç—Å—è

–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `navigator.geolocation` –æ–±—ä–µ–∫—Ç–∞ [`navigator`](/js/bom/):

```js
navigator.geolocation
```

## –ö–∞–∫ –ø–æ–Ω—è—Ç—å

–ò–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —É–∑–Ω–∞—Ç—å, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã —Ö–æ—Ç–∏–º –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ, –≥–¥–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –±–ª–∏–∂–∞–π—à–∏–π –∫ –Ω–µ–º—É –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ —Ç–æ–≤–∞—Ä–æ–≤.

–î–ª—è —ç—Ç–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–≤–æ—ë `API`. –ö–æ–≥–¥–∞ –º—ã –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è —Å–≤–æ–π—Å—Ç–≤–æ–º `navigator.geolocation`, –≤ –æ—Ç–≤–µ—Ç–µ –ø–æ–ª—É—á–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Geolocation`, ‚Äî –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏ –≥–µ–æ–ø–æ–∑–∏—Ü–∏–∏:

```js
Geolocation {}
```

–í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ:

```js
clearWatch: ∆í clearWatch()
getCurrentPosition: ∆í getCurrentPosition()
watchPosition: ∆í watchPosition()
constructor: ∆í Geolocation()
Symbol(Symbol.toStringTag): "Geolocation"
[[Prototype]]: Object
```

–î–ª—è `Geolocation` –µ—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã: `getCurrentPosition`, `watchPosition` –∏ `clearWatch`. –ï—Å–ª–∏ –∏—Ö –≤—ã–∑–≤–∞—Ç—å, —Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ Chrome –ø–æ—è–≤–∏—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ:

![–î–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ —Å –∑–∞–ø—Ä–æ—Å–æ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ Chrome](images/chrome-example-permission.png)

–ï—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –æ–¥–æ–±—Ä–∏—Ç –∑–∞–ø—Ä–æ—Å, –º—ã –ø–æ–ª—É—á–∏–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `GeolocationPosition`:

```js
GeolocationPosition¬†{coords: GeolocationCoordinates, timestamp: 1665141114856}
```

–û–Ω –≤–∫–ª—é—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç `GeolocationCoordinates` —Å –¥–∞–Ω–Ω—ã–º–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `timestamp` —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:

```js
GeolocationCoordinates {
  latitude: 36.01068878173828,
  longitude: 37.20875549316406,
  altitude: null,
  accuracy: 40,
  altitudeAccuracy: null,
  ‚Ä¶}
```

–ß–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —à–∏—Ä–æ—Ç–∞ `latitude` –∏ –¥–æ–ª–≥–æ—Ç–∞ `longitude`. –ü–æ–º–∏–º–æ –Ω–∏—Ö –≤ –æ–±—ä–µ–∫—Ç–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è:

- altitude ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—ã—Å–æ—Ç—É –≤ –º–µ—Ç—Ä–∞—Ö –Ω–∞–¥ —ç–ª–ª–∏–ø—Å–æ–∏–¥–æ–º ([—á—Ç–æ –∑–∞ —ç–ª–ª–∏–ø—Å–æ–∏–¥ –ø–æ–¥ –Ω–∞–º–∏?](https://support.virtual-surveyor.com/en/support/solutions/articles/1000261351-what-is-wgs84-));
- accuracy ‚Äî —Ç–æ—á–Ω–æ—Å—Ç—å —à–∏—Ä–æ—Ç—ã –∏ –¥–æ–ª–≥–æ—Ç—ã –≤ –º–µ—Ç—Ä–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 40 –º–µ—Ç—Ä–æ–≤);
- altitudeAccuracy ‚Äî —É—Ä–æ–≤–µ–Ω—å —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤—ã—Å–æ—Ç—ã –Ω–∞–¥ —ç–ª–ª–∏–ø—Å–æ–∏–¥–æ–º –≤ –º–µ—Ç—Ä–∞—Ö;
- heading ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è. –£–≥–æ–ª, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ [–∏—Å—Ç–∏–Ω–Ω–æ–≥–æ —Å–µ–≤–µ—Ä–∞](https://en.wikipedia.org/wiki/True_north#:~:text=True%20north%20(also%20called%20geodetic,lines%20of%20a%20map%20projection)) –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç 0¬∞ –¥–æ 360¬∞;
- speed ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –≤ –º–µ—Ç—Ä–∞—Ö –≤ —Å–µ–∫—É–Ω–¥—É.

## –ö–∞–∫ —É–∑–Ω–∞—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –µ–¥–∏–Ω–æ–∂–¥—ã

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ–¥–∏–Ω —Ä–∞–∑, –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –º–µ—Ç–æ–¥–æ–º `getCurrentPosition` –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –≤–Ω—É—Ç—Ä—å –∫–æ–ª–±—ç–∫. –ï–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ –≤—ã—Å—Ç—É–ø–∏—Ç –æ–±—ä–µ–∫—Ç `GeolocationPosition`:

```js
navigator.geolocation.getCurrentPosition(position => {
  const { latitude, longitude } = position.coords
})

// –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ latitude –∏ longitude –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
–ö—Ä–æ–º–µ –∫–æ–ª–±—ç–∫–∞ –≤ `getCurrentPosition` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –µ—â—ë –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ —Å–ª—É—á–∞–π –æ—à–∏–±–∫–∏ –∏ –æ–±—ä–µ–∫—Ç —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏:

```js
navigator.geolocation.getCurrentPosition(success, error, options)

function error() {
  alert('–ì–¥–µ —Ç—ã –≤–æ–æ–±—â–µ...'); // –Ω–∞ —Å–ª—É—á–∞–π –æ—à–∏–±–∫–∏
}

const options = {
  enableHighAccuracy: true,
  maximumAge: 1000,
  timeout: 3600
}

```

–û–ø—Ü–∏–∏ –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø—Ä–æ—Å –¥–µ—Ç–∞–ª—å–Ω–µ–µ:

- enableHighAccuracy ‚Äî –ø—Ä–æ—Å–∏—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –æ—Å–æ–±–µ–Ω–Ω–æ —Ç–æ—á–Ω–æ, –∂–µ—Ä—Ç–≤—É—è —ç–Ω–µ—Ä–≥–∏–µ–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –≤—Ä–µ–º–µ–Ω–µ–º;
- maximumAge ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è, –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏—é –∫–æ—Ç–æ—Ä–æ–≥–æ _–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—É—é_ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é —Å–ª–µ–¥—É–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å;
- timeout ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏.

## –ù–∞–±–ª—é–¥–∞—Ç—å –≤ –¥–∏–Ω–∞–º–∏–∫–µ

–ï—Å–ª–∏ `getCurrentPosition` –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∑–Ω–∞—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –µ–¥–∏–Ω–æ–∂–¥—ã, —Ç–æ –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º–µ–Ω—è—é—â–∏–º—Å—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `watchPosition`:

```js
navigator.geolocation.watchPosition(position => {
  const { latitude, longitude } = position.coords
})

// –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ latitude –∏ longitude –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

–ú–µ—Ç–æ–¥ `watchPosition` –±–µ–∑ –∫–æ–Ω—Ü–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ª–±—ç–∫, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞—Å—Ç–∞–∏–≤–∞–ª–∏—Å—å.

## –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ

–ú–µ—Ç–æ–¥ `watchPosition` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `id` —Ç–µ–∫—É—â–µ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è. –ï–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –º–µ—Ç–æ–¥–µ `clearWatch`, —á—Ç–æ–±—ã –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ:

```js
const geoId = navigator.geolocation.watchPosition(position => {
  // –Ω–∞–±–ª—é–¥–∞–µ–º –∑–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π –∏ —Ö—Ä–∞–Ω–∏–º –≤ geoId –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
})

function geoWatchStopper() {
  navigator.geolocation.clearWatch(geoId)
  // –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ
}
```

## –ö–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏

–í –º–µ—Ç–æ–¥—ã `getCurrentPosition` –∏ `watchPosition` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–ª–±—ç–∫ –Ω–∞ —Å–ª—É—á–∞–π –æ—à–∏–±–æ–∫. –ó–∞ –Ω–∏—Ö –æ—Ç–≤–µ—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç `GeolocationPositionError`, –µ–≥–æ —É–¥–æ–±–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é [`switch`](/js/switch/):

```js
function handleError(error) {
  // —ç—Ç—É —Ñ—É–∫–Ω—Ü–∏—é –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–ª–±—ç–∫–æ–º –Ω–∞ —Å–ª—É—á–∞–π –æ—à–∏–±–æ–∫

  const { code } = error

  switch (code) {
    case GeolocationPositionError.TIMEOUT:
      // –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏—Å—Ç–µ–∫–ª–æ
      break
    case GeolocationPositionError.PERMISSION_DENIED:
      // –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–µ—Ç–∏–ª —Ç—Ä–µ–∫–∏–Ω–≥ —Å–≤–æ–µ–π –≥–µ–æ–ø–æ–∑–∏—Ü–∏–∏
      break
    case GeolocationPositionError.POSITION_UNAVAILABLE:
      // –ø–æ–ª—É—á–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å
      break
  }
}
```
