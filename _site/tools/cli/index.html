<h2>Кратко</h2>
<p>Интерфейс командной строки (терминал, консоль, Command line interface, CLI) позволяет человеку взаимодействовать с компьютером с помощью текстовых команд заданного формата. Эти команды указывают, что и в какой последовательности делать. В ответ компьютер может выводить на экран информацию о результатах работы той или иной команды.</p>
<h2>Как понять</h2>
<p>Взаимодействие с компьютером через текст появилось практически на самых первых этапах развития компьютерной техники. Такой интерфейс выглядит хоть и скучновато, но является очень мощным инструментом. В Unix-подобных системах CLI помогает пользователю настраивать операционную систему и службы в них, взаимодействовать с файлами, внешними устройствами, подключёнными к компьютеру сетями, Интернетом. В Unix-подобных системах любые данные, устройство или программа в абстракции операционной системы представляется в виде файла, именно поэтому терминал в них обладает такой мощью. В других операционных системах также существуют интерфейсы командной строки, но их функциональность ограничена, как правило, сервисными функциями для управления операционной системой.</p>
<p>Запустить терминал можно как обычную программу в вашей операционной системе. На компьютерах Mac эта программа так и называется «Терминал». В операционных системах из семейства Linux терминал установлен по умолчанию и доступен не только в списке программ, но и по сочетанию клавиш <kbd>Ctrl Alt T</kbd>. В Windows программа для работы с консолью самой операционной системы установлена по умолчанию, находится в меню Пуск → Все программы → Стандартные и называется «Командная строка». Однако разработчикам больше подойдёт «<a href="https://docs.microsoft.com/ru/powershell/scripting/overview?view=powershell-7.1">PowerShell</a>», ну а для полноценной работы лучше использовать WSL (Windows Subsystem for Linux) первой или второй версии. Эта программа позволяет использовать всю мощь командной строки Unix-подобных систем, её можно <a href="https://aka.ms/wslstore">скачать из магазина приложений Microsoft Store</a>. Процесс установки достаточно подробно описан в <a href="https://docs.microsoft.com/ru-ru/windows/wsl/install-win10">официальной документации</a>.</p>
<p>В «Терминале» текстовый интерфейс для пользователя выглядит следующим образом:</p>
<p><img src="images/cli-command.png" alt="Структура интерфейса командной строки"></p>
<p>Приглашение командной строки всегда отображается, когда операционная система готова выполнить следующую команду пользователя. В приглашение командной строки можно вывести довольно много разной информации. Обычно в приглашение помещается имя компьютера, терминалом которого вы пользуетесь, и имя текущего пользователя, например: <code>UserName@MyComputer $ </code>. Часто, кроме этой информации, может быть явным образом указана текущая директория, например: <code>UserName @ MyComputer in /etc $ </code>. Можно изменить цвет текста или поместить дату и время. В приглашении может хранится информация о текущей ветке в <a href="/tools/version-control/">системе контроля версий</a>, например: <code>UserName @ MyComputer in /etc $ on git:main</code>. Бывают и обратные ситуации, когда удобно использовать короткое приглашение, чтобы не загромождать интерфейс, например: <code>&gt; </code> или <code>$ </code>.</p>
<p>Для удобства читателя примеры ниже не содержат приглашения командной строки, однако, на практике терминал будет его выводить в том или ином виде.</p>
<p>В современных операционных системах можно использовать одновременно несколько терминалов, в каждом из которых могут выполняться свои команды. Если говорить в общем, то к CLI можно подключиться и с другого компьютера через сеть.</p>
<p>Каждая команда уникальна, иначе операционная система не сможет понять, что ей нужно делать. Команда — это всегда специальное слово, которое запускает отдельное приложение: пользовательскую программу, консольную утилиту, службу и тому подобное. Например, можно узнать текущую дату командой:</p>
<pre><code class="language-bash">date
</code></pre>
<p>Нажмите клавишу <kbd>Enter</kbd>, чтобы выполнить команду. Все, что идёт после команды, называется аргументами командной строки. Часть специальных аргументов, которые настраивают работу команды, принято называть ключами (флагами, параметрами). С помощью ключей пользователь может указать, в каком режиме будет работать команда, задать значения по умолчанию и прочее. Ключи, состоящие из нескольких символов, принято обозначать двумя дефисами в начале. Например, для большинства команд можно посмотреть короткую справку с помощью ключа <code>--help</code>.  Часто используемые длинные ключи также имеют короткий аналог (псевдоним, alias) из одного символа, например <code>-h</code> для той же справки. Короткие ключи, как правило, можно указывать вместе, поставив перед ними дефис:</p>
<ul>
<li><code>cal</code> — вывод календаря для текущего месяца с подсвеченной текущей датой</li>
<li><code>cal -h</code> — не подсвечивать текущую дату</li>
<li><code>cal -hj</code> — не подсвечивать текущую дату и заменить числа месяца на номер дня в году</li>
<li><code>cal -hy</code> — не подсвечивать текущую дату и вывести календарь для всего текущего года</li>
</ul>
<p>Символ <em>#</em> в начале строки используется для однострочного комментария.</p>
<p>Вывести список всех терминалов, которые работают сейчас в системе с указанием пользователя, от имени которого они запущены и времени запуска, можно так:</p>
<pre><code class="language-bash">who
</code></pre>
<p>Для большинства стандартных команд существует подробное описание ключей и аргументов. Это описание доступно по команде <code>man</code> (от “manual”). Вы можете посмотреть краткую справку для этой команды так:</p>
<pre><code class="language-bash">man --help
&gt; man, version 1.6g
&gt;
&gt; usage: man [-adfhktwW] [section] [-M path] [-P pager] [-S list]
&gt;   [-m system] [-p string] name ...
&gt;
&gt;   a : find all matching entries
&gt;   c : do not use cat file
&gt;   d : print gobs of debugging information
&gt;   D : as for -d, but also display the pages
&gt;   f : same as whatis(1)
&gt;   h : print this help message
&gt;   k : same as apropos(1)
&gt;   K : search for a string in all pages
&gt;   t : use troff to format pages for printing
&gt;   w : print location of man page(s) that would be displayed
&gt;       (if no name given: print directories that would be searched)
&gt;   W : as for -w, but display filenames only
&gt;
&gt;   C file   : use 'file' as configuration file
&gt;   M path   : set search path for manual pages to 'path'
&gt;   P pager  : use program 'pager' to display pages
&gt;   S list   : colon separated section list
&gt;   m system : search for alternate system's man pages
&gt;   p string : string tells which preprocessors to run
&gt;               e - [n]eqn(1)   p - pic(1)    t - tbl(1)
&gt;               g - grap(1)     r - refer(1)  v - vgrind(1)
</code></pre>
<p>На следующей строке вы видите текущую версию программы, затем идёт описание формата команды. Квадратные скобки указывают на аргумент, который можно использовать, но он не является обязательным. Без квадратных скобок указываются аргументы, которые использовать необходимо. Этого синтаксиса, как правило, придерживаются в любой справочной информации для команд текстового интерфейса. Например <code>name</code> обозначает имя команды, справку о которой мы хотим получить. Для получения справки по команде <code>pwd</code> нужно выполнить:</p>
<pre><code class="language-bash">man pwd
</code></pre>
<p>Терминал перейдёт в специальный режим постраничного просмотра, в котором можно перемещаться клавишами <kbd>→</kbd>, <kbd>←</kbd>, <kbd>↑</kbd>, <kbd>↓</kbd>, <kbd>PgUp</kbd>, <kbd>PgDown</kbd>, <kbd>Home</kbd>, <kbd>End</kbd>. Для того чтобы выйти из этого режима, нажмите клавишу <kbd>Q</kbd>. В справке написано, что команда <code>pwd</code> используется для того, чтобы узнать, в какой директории вы сейчас находитесь (рабочая директория). Имя этой команды идёт от аббревиатуры PWD — Present Working Directory. В любом случае вы работаете внутри какой-либо рабочей директории. Среди специальных директорий можно выделить:</p>
<ul>
<li>корневую директорию, которая доступна в /;</li>
<li>домашнюю директорию пользователя, доступную в <em>/home/&lt;имя пользователя&gt;</em> или по псевдониму <em>~</em>;</li>
<li>директорию <em>..</em>, которая присутствует во всех директориях и обозначает ссылку на директорию, расположенную на уровень выше;</li>
<li>директория <em>.</em>, которая также присутствует во всех директориях и является ссылкой на текущую директорию.</li>
</ul>
<p>В Unix-подобных системах скрытые директории и файлы помечаются точкой в начале.</p>
<p>Сочетание клавиш <kbd>Ctrl A</kbd> позволяет переместиться к началу строки, <kbd>Ctrl E</kbd> — к концу. Нажав <kbd>Ctrl L</kbd> вы сможете очистить экран, переместив строку приглашения на верх окна. То же самое делает команда <code>clear</code>. Клавиша <kbd>Tab</kbd> позволяет использовать автодополнение, например, для имён директорий или файлов. Двойное нажатие позволит посмотреть все доступные варианты. Клавишами <kbd>↑</kbd>, <kbd>↓</kbd> можно перемещаться по списку уже выполненных команд, что бывает очень удобно. Чтобы посмотреть полный список команд, которые были вызваны ранее, выполните:</p>
<pre><code class="language-bash">history
</code></pre>
<p>Количество команд, хранящихся в истории, ограничено настройками терминала. Все настройки обычно сосредоточены в одном файле конфигурации, расположенном в домашней директории пользователя. Подробно о настройке терминала можно почитать, например, в статье «<a href="https://habr.com/ru/post/516004/">Делаем Linux терминал красивым и удобным</a>».</p>
<p>Существует довольно много разных терминалов. Самые распространённые для Unix-подобных систем — <a href="https://ru.wikipedia.org/wiki/Bash">bash</a> и <a href="https://ru.wikipedia.org/wiki/Zsh">zsh</a>. Наиболее полный список терминалов можно посмотреть в <a href="https://ru.wikipedia.org/wiki/%D0%A1%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%BD%D1%8B%D1%85_%D0%BE%D0%B1%D0%BE%D0%BB%D0%BE%D1%87%D0%B5%D0%BA">таблице</a>.</p>
