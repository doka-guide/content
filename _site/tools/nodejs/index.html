<h2>Кратко</h2>
<p>Node.js — это способ запускать JavaScript-код не только в браузере. Приложения, которые чаще всего создаются на этой платформе, можно разделить на две категории:</p>
<ul>
<li>вспомогательные инструменты для клиентских приложений — <a href="/tools/bundlers/">системы сборки</a>, <a href="/tools/package-managers/">распространения пакетов</a>, серверы разработки, редакторы кода и <a href="/tools/static-analysis/">системы статического анализа</a>;</li>
<li>серверные приложения — начиная от простых API и заканчивая огромными корпоративными программами.</li>
</ul>
<h2>Как пользоваться</h2>
<p><a href="https://nodejs.org/">Установите Node.js на свой компьютер</a>. Теперь в терминале можно выполнить команду, которая выведет текущую версию платформы и докажет, что все установлено корректно:</p>
<pre><code class="language-bash">node -v
</code></pre>
<p>Node.js позволяет исполнить любой JavaScript-файл. Создадим демо-файл <code>script.js</code>:</p>
<pre><code class="language-js">const whereIAm = __dirname
// __dirname — глобальная переменная, хранящая папку, в которой лежит файл скрипта

console.log(`I am at ${whereIAm}`)
</code></pre>
<p>Запустим его в терминале:</p>
<pre><code class="language-bash">node script.js
</code></pre>
<h2>Как понять</h2>
<p>За выполнение JavaScript в браузере Google Chrome (и других браузерах основанных на Chromium — Edge, Яндекс.Браузер, Opera) отвечает, разработанный в Google, движок V8. В 2009 году Райан Даль, в качестве эксперимента, создал платформу Node.js, которая использует V8 для выполнения JavaScript-кода вне браузера.</p>
<p>В среде Node.js у приложения нет доступа к стандартным браузерным API. Например, <code>document</code> и <code>window</code> недоступны, потому что код исполняется вне браузера. Никаких документов и окон в его контексте не существует.</p>
<p>Абсолютное большинство инструментов для JavaScript-разработки использует Node.js. Многие серверные приложения тоже используют её, в основном при серверном рендеринге клиентских приложений и создании API-гейтвеев.</p>
<p>API-гейтвей — сервис с удобным клиенту API, который сам не выполняет никакой работы, а только вызывает другие сервисы, чтобы получить данные или совершить операцию. Ценность таких сервисов в удобном для клиентского кода API.</p>
<p>Например, можно сделать простое приложение на Node.js, которое отвечает на все запросы одинаковым текстом. В первую очередь, для этого потребуется сторонний <code>npm</code>-пакет:</p>
<pre><code class="language-bash">npm init // инициализируем package.json
npm install express // добавим пакет для создания веб-приложений
</code></pre>
<p>Теперь нужно создать файл с кодом приложения, назовём его <code>server.js</code>:</p>
<pre><code class="language-js">// express — фреймворк для создания веб-приложений
const express = require(&quot;express&quot;)

// создаём express-приложение
const app = express()
// оно будет работать на определенном порту компьютера
const port = 3000

// если отправить GET-запрос на /, то получим ответ &quot;Hello World!&quot;
app.get(&quot;/&quot;, (req, res) =&gt; {
  res.send(&quot;Hello World!&quot;)
})

// запускаем приложние
app.listen(port, () =&gt; {
  console.log(`Приложение запущено на http://localhost:${port}`)
})
</code></pre>
<p>Все готово к запуску! Исполним файл командой:</p>
<pre><code class="language-bash">node server.js
</code></pre>
<p>Если в браузере перейти на <code>http://localhost:3000</code>, то можно увидеть ответ веб-сервера.</p>
<h3>Особенности версионирования</h3>
<p>Версии в Node.js подчиняются некоторым правилам в зависимости от мажорной версии. Это первое число из полной версии. Например, для Node.js 16.13.1 мажорной версией будет 16.</p>
<p>Нечётные версии (13, 15 и др.) являются экспериментальными. В них, как правило, появляются самые новые возможности, однако период поддержки таких версий всего полгода. Это важно, потому что в программах постоянно выявляются критичные ошибки или опасные уязвимости.</p>
<p>Чётные версии (14, 16 и др.) через полгода разработки переходят в стадию LTS (от английского <em>long-term support</em>, долгосрочная поддержка). Это означает, что в течение 12 месяцев будет вестись активная разработка, добавляться новые возможности и исправляться ошибки. По окончании этих 12 месяцев ещё 18 месяцев будут исправляться критичные ошибки и проблемы с безопасностью.</p>
<p>Таким образом, нечётные версии лучше не использовать, кроме случаев когда нужно попробовать новые возможности. В продакшене обязательно нужно использовать LTS версии — они наиболее стабильны и гарантируют, что 30 месяцев будут исправляться критичные уязвимости.</p>
