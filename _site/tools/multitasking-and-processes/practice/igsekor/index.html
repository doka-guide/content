<h2>Сигналы и процессы</h2>
<p>В <a href="/tools/nodejs/">Node.js</a> есть возможность обрабатывать сигналы от Unix-подобных операционных систем. Создадим простую консольную утилиту, которая будет корректно обрабатывать сигналы от операционной системы.</p>
<p>Создадим скрипт <code>index.js</code>:</p>
<pre><code class="language-js">console.log('Hello!')
</code></pre>
<p>Добавить обработку сигналов в программу очень просто:</p>
<pre><code class="language-js">console.log(`Process ID: ${process.pid}`)
process.on('SIGHUP', () =&gt; console.log('Received: SIGHUP'))
process.on('SIGINT', () =&gt; console.log('Received: SIGINT'))

// Таймер, чтобы процесс не останавливался сам
setTimeout(() =&gt; {}, 5 * 60 * 1000)
</code></pre>
<p>Выполним команду, чтобы запустить процесс:</p>
<pre><code class="language-bash">node index.js
&gt; Process ID: &lt;PROCESS_ID&gt;
</code></pre>
<p>Если нажать сочетание клавиш <kbd>Ctrl C</kbd>, то процесс сначала покажет соответствующее сообщение, которое мы прописали в программе, но не остановится. Для остановки процесса мы должны были прописать <code>process.exit(0)</code>. В скобках можно указать код выхода процесса для обозначения корректного завершения программы с кодом <code>0</code> или завершения с ошибкой с кодом больше нуля.</p>
<p>Откроем другое окно терминала и выполним команду:</p>
<pre><code class="language-bash">kill -s SIGHUP &lt;PID&gt;
</code></pre>
<p>В первом окне программа снова выведет соответствующее сигналу сообщение. Вы можете управлять поведением программы при посылке сообщений со стороны пользователя или операционной системы.</p>
