<h2>Кратко</h2>
<p>На заре создания компьютерных сетей были разработаны модели взаимодействия сетевых устройств, которые описывали программную и аппаратную реализации. Среди разработанных моделей наибольшее распространение получили:</p>
<ul>
<li>Сетевая модель OSI (Open Systems Interconnection).</li>
<li>Модель DOD (Семейство TCP/IP).</li>
<li>Модель SPX/IPX.</li>
</ul>
<p>Сетевая модель — это описание принципов работы протоколов сетевого взаимодействия, спецификация которых закреплена в стандартах связи и используется для передачи <em>данных в цифровом виде</em>.</p>
<h2>Сетевая модель OSI</h2>
<p>Для того чтобы корректно описать совместную работу сетевых устройств необходимо рассмотреть разные аспекты организации связи между ними. Модель OSI разбивает систему построения связи между сетевыми устройствами на уровни:</p>
<ol>
<li>Физический.</li>
<li>Канальный.</li>
<li>Сетевой.</li>
<li>Транспортный.</li>
<li>Сеансовый.</li>
<li>Представления.</li>
<li>Прикладной.</li>
</ol>
<p>Первые три уровня описывают среду передачи данных.</p>
<h3>Физический уровень</h3>
<p>Физический уровень (physical layer) отвечает за аппаратную реализацию передачи битов информации, то есть обеспечивает работу физических устройств: сетевых адаптеров, концентраторов, повторителей, медиаконвертеров (устройств для преобразования сигнала при переходе из сети с одной средой передачи данных в сеть с другой средой).</p>
<p>На физическом уровне рассматривают среды передачи данных: последовательный или параллельный порт, коаксиальный кабель, витая пара, радиоканал, оптоволокно, спутниковый интернет и т.д. Для передачи данных на физическом уровне существуют свои протоколы, то есть правила, по которым должен быть преобразован и передан сигнал с данными. Вы наверняка встречались с такими протоколами: IEEE 802.15 (Bluetooth), 802.11 Wi-Fi, GSM, DSL.</p>
<h3>Канальный уровень</h3>
<p>Канальный уровень (data link layer) используется для организации передачи данных по сети между устройствами и для контроля ошибок целостности данных. Если на физическом уровне обеспечивается передача битов информации, то на канальном — передача <a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D0%B4%D1%80_(%D1%82%D0%B5%D0%BB%D0%B5%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D0%BD%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D0%B8)">кадров (фреймов)</a>.</p>
<p>Каждый кадр позволяет передать 1446 байтов информации и содержит кроме служебной информации контрольную сумму кадра — <a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%81%D1%83%D0%BC%D0%BC%D0%B0">хэш-сумма</a>, которая рассчитывается по данным перед передачей и после передачи позволяет проверить сохранность данных. После получения хэш-сумма вновь рассчитывается по пришедшим данным и должна совпасть с той, которая передаётся в кадре. Если совпадает, можно считать, что данные переданы верно.</p>
<h3>Сетевой уровень</h3>
<p>Сетевой уровень (network layer) позволяет прокладывать путь данных по сети от одного сетевого устройства к другому, то есть определяет маршрут.</p>
<p>Маршрутизация — важная составляющая работы сети. Существуют даже специальные устройства — маршрутизаторы. Наиболее известный разработчикам протокол сетевого уровня — это <a href="https://ru.wikipedia.org/wiki/Internet_Protocol">IP (Internet Protocol)</a>. Он позволяет переправить пакеты от одного сетевого устройства к другому. Пакеты — это контейнеры для данных, реализованные уже не на физическом уровне, как кадры, а на программном. Протокол IP не гарантирует соответствия порядка при доставке пакетов изначальному порядку во время отправки, не гарантирует он и то, что пакеты будут доставлены или не будут продублированы. За это отвечают протоколы более высоких уровней.</p>
<p>Создатели интернета спроектировали работу сетевых устройств как распределённой системы. Работу такой системы очень сложно парализовать. Путь внутри сети определяется для каждого пакета отдельно. Такая архитектура системы сложна, но обеспечивает устойчивое взаимодействие устройств, которые соединены любым образом в единую сеть.</p>
<h3>Транспортный уровень</h3>
<p>Транспортный уровень (transport layer) обеспечивает необходимую целостность данных и выстраивает пакеты в правильный порядок.</p>
<p>Веб-разработчикам чаще всего приходится сталкиваться с протоколами TCP и UDP. TCP используется для данных, целостность и порядок которых должны быть гарантирована, UDP — для данных, целостность которых важна только в конкретный момент времени внутри небольшого блока.</p>
<p>Вы наверняка знакомы с подёргиванием видео или небольшими прерываниями звука, если пользовались потоковыми сервисами (например, YouTube, Apple Music, Spotify и другими), которые используют под капотом в основном UDP. Зато, когда загружается страничка какого-то сайта, потерь нет. Это как раз проверка целостности на уровне протокола TCP.</p>
<h3>Сеансовый уровень</h3>
<p>Сеансовый уровень (session layer) позволяет организовать сеанс связи между устройствами сети. Это необходимо для работы приложений.</p>
<p>Вы можете знать протокол <a href="/js/api/#rpc">RPC</a> (Remote Procedure Call Protocol — удалённый вызов процедур), если пользовались API на его основе (например, JSON-RPC, GraphQL или gRPC). Однако более распространённый протокол PPTP (Point-to-Point Tunneling Protocol) менее известен широкой аудитории, при этом используется он, например, для организации работы VPN (Virtual Private Network), обеспечивая туннель между компьютером и локальной сетью, имеющей подключение к интернету.</p>
<h3>Уровень представления</h3>
<p>Уровень представления (presentation layer) служит для организации преобразования данных (кодирования и декодирования), преобразования протоколов и прочих служебных задач высокого уровня.</p>
<p>С помощью протоколов этого уровня данные в форматах, которые используются на более низких уровнях, преобразуются к формату, который подходит для работы приложений. На этом уровне появляются абстракции представления данных — форматы и структуры данных, что позволяет подготовить данные к пересылке по сети и произвести обратное преобразование.</p>
<p>Например, преобразование изображений от битов, которые путешествуют по сети, к форматам типа JPEG или TIFF происходит именно на этом уровне.</p>
<h3>Прикладной уровень</h3>
<p>Прикладной уровень (application layer) — уровень приложений, то есть уровень, который обеспечивает максимальный уровень абстракции данных.</p>
<p>Протоколы прикладного уровня вам наверняка знакомы: HTTP, SMTP, POP3, FTP, SIP, TELNET и другие. Использование сетевых служб (доступ к файлам и базам данных, пересылка электронной почты) позволяет приложениям на разных сетевых устройствах взаимодействовать друг с другом.</p>
<h2>Другие модели</h2>
<p>Безусловно модель OSI очень сложна и не раз подвергалась критике. В то же время эта модель предоставляет наиболее полное представление о том, как передаются данные по сети — от физической среды для передачи данных до особенностей организаций данных в специальные структуры, форматы и системы.</p>
<p>Иногда из модели OSI выделяют несколько уровней или отдельные семейства протоколов, которые могут использоваться для конкретных практических задач на программном уровне, в отрыве от конкретной на уровне аппаратной реализации. Примером могут служить модели <a href="https://ru.wikipedia.org/wiki/TCP/IP">DOD</a>, <a href="https://ru.wikipedia.org/wiki/IPX/SPX">IPX/SPX</a> или <a href="https://ru.wikipedia.org/wiki/AppleTalk">AppleTalk</a>. Но это удобно лишь с практической точки зрения: отсечь всё лишнее, чтобы вести разработку программного обеспечения наиболее эффективным способом.</p>
<p>Модель TCP/IP разрабатывалась для описания протоколов передачи данных в распределённых сетях и использовалась при проектировании оборудования и создания программного обеспечения для прообраза современного интернета. Четыре уровня этой модели соответствуют семи уровням модели OSI следующим образом:</p>
<ol>
<li>Уровень сетевого доступа TCP/IP (Network Access Layer) включает:
<ul>
<li>Физический уровень OSI.</li>
<li>Канальный уровень OSI.</li>
</ul>
</li>
<li>Межсетевой уровень TCP/IP (Internet Layer) соответствует:
<ul>
<li>Сетевому уровню OSI.</li>
</ul>
</li>
<li>Транспортный уровень TCP/IP (Transport Layer) соответствует:
<ul>
<li>Транспортному уровню OSI.</li>
</ul>
</li>
<li>Прикладной уровень TCP/IP (Application layer) включает:
<ul>
<li>Прикладной уровень OSI.</li>
<li>Представления уровень OSI.</li>
<li>Сеансовый уровень OSI.</li>
</ul>
</li>
</ol>
<p>Модель IPX/SPX была разработана изначально для организации сетей в операционной системе DOS. Протоколы IPX для маршрутизации и SPX для передачи данных были широко распространены в 90-х годах прошлого века, а потом уступили пальму первенства стеку TCP/IP, поскольку не обладали достаточной эффективностью при передаче данных в глобальных сетях. Сейчас количество операционных систем, в которых реализован стек протоколов IPX/SPX стремительно сокращается. Модель IPX/SPX использует три уровня, аналогичных модели OSI:</p>
<ol>
<li>Сетевой.</li>
<li>Транспортный.</li>
<li>Сеансовый.</li>
</ol>
