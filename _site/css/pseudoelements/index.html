<h2>Кратко</h2>
<p>Псевдоэлементы — это элементы, которых не существует в HTML-разметке. Они создаются и позиционируются исключительно при помощи CSS. Чаще всего используются для создания различных декоративных элементов (которые не несут содержательного смысла).</p>
<p>Также псевдоэлементы приходят на помощь, когда нужно наложить поверх картинки так называемый оверлей (перекрывающий слой). На этом польза от псевдоэлементов не заканчивается.</p>
<h2>Пример</h2>
<p>Самый частый сценарий использования псевдоэлемента — наложение оверлея, полупрозрачной заливки поверх картинки. Чаще всего это требуется на первом экране, но этим способом можно наложить оверлей на любое изображение на сайте.</p>
<pre><code class="language-html">&lt;header class=&quot;header&quot;&gt;
  &lt;h1 class=&quot;header__title&quot;&gt;Good evening, Clarice.&lt;/h1&gt;
&lt;/header&gt;
</code></pre>
<pre><code class="language-css">.header {
  background: #999999
    url(&quot;background.svg&quot;)
    no-repeat center / cover;
}

.header__title {
  color: #ffffff;
  font-size: 82px;
  text-transform: uppercase;
  text-align: center;
}
</code></pre>
<iframe title="Наложение фона" src="demos/header/" height="400"></iframe>
<p>Чтобы цвет картинки был не таким ярким и текст лучше читался, наложим поверх всего <code>header</code> полупрозрачную заливку чёрного цвета.</p>
<p>Добавляем позиционирование родителю и указываем порядок наложения:</p>
<pre><code class="language-css">.header {
  position: relative;
  z-index: 0;
}
</code></pre>
<p><code>content</code> — обязательное свойство псевдоэлементов <code>::before</code> и <code>::after</code>. Позиционируем псевдоэлемент относительно родителя и растягиваем на всю ширину и высоту. После чего задаём полупрозрачный чёрный фон и убираем под текст при помощи <code>z-index</code>:</p>
<pre><code class="language-css">.header::before {
  content: &quot;&quot;;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0 0 0 / 0.7);
  z-index: -1;
}
</code></pre>
<iframe title="Наложение фона с заливкой" src="demos/header-veil/" height="400"></iframe>
<p>Не трогая HTML-разметку, мы добавили ещё один элемент в декоративных целях. Разметка осталась чистой. Псевдоэлементом легко управлять, добавлять или удалять его по необходимости, даже если нет доступа к HTML.</p>
<h2>Как это понять</h2>
<p>Определение приставки «псевдо» в словаре: «...Приставка, означающая ложность, ненастоящесть следующего за ней».</p>
<p>Из этого определения можно понять, что псевдоэлементы не существуют на самом деле. Это порождение CSS, которое можно изменять, удалять, добавлять, не трогая реальную HTML-разметку.</p>
<h3>Как пишется</h3>
<p>Существует несколько псевдоэлементов. Рассмотрим каждый из них.</p>
<h3><code>::before</code> и <code>::after</code></h3>
<p>Два самых часто встречающихся псевдоэлемента. Они очень похожи. Единственная разница заключается в том, что <a href="/css/before/"><code>::before</code></a> по умолчанию располагается перед содержимым элемента, для которого задаётся, а <a href="/css/after/"><code>::after</code></a> — после. Эта разница отражена в названии: слово <strong>before</strong> переводится с английского как «до» или «перед»; слово <strong>after</strong> переводится как «после».</p>
<p>Для обоих элементов обязательным является свойство <a href="/css/content/"><code>content</code></a> — содержимое псевдоэлемента. С его помощью можно, например, вставить какое-нибудь слово до или после текста. Без свойства <code>content</code> псевдоэлемент не отобразится.</p>
<p>Создадим текстовый элемент с именем пользователя.</p>
<pre><code class="language-html">&lt;span class=&quot;incoming&quot;&gt;Гордон&lt;/span&gt;
</code></pre>
<p>Поприветствуем пользователя и скажем ему комплимент:</p>
<pre><code class="language-css">.incoming::before {
  content: &quot;Привет, &quot;;
}

.incoming::after {
  content: &quot;, ты отлично выглядишь!&quot;;
}
</code></pre>
<iframe title="Текст в псевдоэлементах ::before и ::after" src="demos/looking-great-gordon/" height="260"></iframe>
<p>Как видно в примере, текст из свойства <code>content</code> псевдоэлемента <code>::before</code> встал перед именем пользователя, а из псевдоэлемента <code>::after</code> — после.</p>
<p>Эти псевдоэлементы по умолчанию являются строчными. Но это легко изменить при помощи стилей.</p>
<p>Подчеркнём декоративной линией текст.</p>
<p>Зададим родителю строчно-блочное отображение чтобы линия была по ширине текста:</p>
<pre><code class="language-css">.incoming {
  display: inline-block;
}

.incoming::before {
  content: &quot;Привет, &quot;;
}

.incoming::after {
  content: &quot;&quot;;
  display: block;
  width: 100%;
  height: 2px;
  background-color: #F498AD;
}
</code></pre>
<iframe title="Декоративная линия на основе псевдоэлемента" src="demos/greetings-gordon/" height="200"></iframe>
<h3><code>::first-letter</code></h3>
<p>При помощи этого псевдоэлемента можно выбрать первую букву в строке или абзаце текста. Это позволяет создать так называемую <em>буквицу</em> — большую декоративную букву в начале текста.</p>
<pre><code class="language-html">&lt;p class=&quot;text&quot;&gt;
  В траве, около высоких муравейников...
&lt;/p&gt;
</code></pre>
<p>Увеличиваем размер первой буквы и красим её в красный цвет:</p>
<pre><code class="language-css">.text::first-letter {
  font-size: 52px;
  color: #F498AD;
}
</code></pre>
<iframe title="::first-letter, буквица" src="demos/first-letter/" height="370"></iframe>
<h3><code>::first-line</code></h3>
<p>Этот псевдоэлемент выбирает первую строку текста. Обратите внимание, что он сработает только для блочных элементов. Со строчными этот трюк не пройдёт.</p>
<p>Например, можно сделать «красную строку», правда, не так, как учили в школе =)</p>
<pre><code class="language-html">&lt;p class=&quot;text&quot;&gt;
  В далекой и бледной глубине неба...
&lt;/p&gt;
</code></pre>
<p>Красим первую строку в красный:</p>
<pre><code class="language-css">.text::first-line {
  background-color: #F498AD;
}
</code></pre>
<iframe title="::first-line, красная строка" src="demos/first-line/" height="325"></iframe>
<h3><code>::selection</code></h3>
<p>С помощью псевдоэлемента <code>::selection</code> можно управлять стилем текста, который пользователь выделяет при помощи мыши.</p>
<p><img src="images/selection.png" alt="Внешний вид псевдоэлемента ::selection"></p>
<p>Текст на сайте <a href="https://www.smashingmagazine.com/">Smashing Magazine</a> выделяется красным цветом. Использование псевдоэлемента <code>::selection</code> позволяет выдержать стиль оформления во всём, вплоть до такой мелочи, как выделение текста.</p>
<p>Целесообразнее всего задавать этот псевдоэлемент не какому-то отдельному блоку, а всей странице целиком.</p>
<pre><code class="language-css">::selection {
  background-color: #F498AD;
}
</code></pre>
<iframe title="::selection, выделение текста" src="demos/selection/" height="400"></iframe>
<p>Если выделить текст в этом примере, то станет видно, что фон выделения ярко-красного цвета.</p>
<h3><code>::placeholder</code></h3>
<p>Он позволяет стилизовать подсказку, которая выводится в поле ввода текста (<a href="/html/input/"><code>&lt;input&gt;</code></a>).</p>
<p>Текст подсказки задаётся при помощи атрибута <code>placeholder</code> у тега <code>&lt;input&gt;</code>.</p>
<pre><code class="language-html">&lt;input type=&quot;email&quot; placeholder=&quot;test@example.com&quot;&gt;
</code></pre>
<p><img src="images/placeholder.png" alt="Внешний вид псевдоэлемента ::placeholder"></p>
<p>По умолчанию цвет текста подсказки серый. Но иногда по дизайну требуется другой цвет.</p>
<p>Используйте псевдоэлемент <code>::placeholder</code> и задайте нужные стили для подсказки. Можно изменить всё, вплоть до шрифта. При этом стили текста, который будет вводить пользователь, не будут затронуты.</p>
<pre><code class="language-css">input::placeholder {
  color: #2E9AFF;
}
</code></pre>
<iframe title="Placeholder, подсказка" src="demos/placeholder/" height="200"></iframe>
<h2>Подсказки</h2>
<p>💡 Обязательно проверяйте поддержку псевдоэлемента в нужных браузерах. Для этого можно использовать сайт <a href="https://caniuse.com/">Can I use</a>.</p>
<p>💡 Для свойства <code>content</code> есть несколько полезных трюков. Например, можно с помощью data-атрибута у тега (которому можно задать значение при помощи JavaScript) и значения <code>attr(data-атрибут)</code> вывести количество непрочитанных сообщений на лейбле. Или количество товаров в корзине. Такой способ будет «дешевле» в том плане, что реальная HTML-разметка не изменяется.</p>
<p>💡 В качестве значения свойства <code>content</code> можно вставлять юникод. Например, можно добавить символ копирайта при помощи записи <code>content: &quot;&amp;#169;&quot;</code>.</p>
<p>💡 Можно встретить в коде написание псевдоэлементов с одним двоеточием в начале. Такой синтаксис допустим почти всегда, кроме как с псевдоэлементами <code>::selection</code> и <code>::placeholder</code>. Но в последних редакциях спецификации рекомендуется писать все псевдоэлементы с двумя двоеточиями, чтобы визуально отделить их от псевдоклассов.</p>
