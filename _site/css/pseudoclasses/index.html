<h2>Кратко</h2>
<p>Псевдоклассы — особый вид селектора, который уточняет тип или состояние. Обычно это какой-то качественный признак: реакция на наведение курсора, порядок следования и другие.</p>
<h2>Пример</h2>
<p>Рассмотрим CSS для подсветки строки таблицы при наведении курсора.</p>
<p>В обычном состоянии цвет фона — тёмный:</p>
<pre><code class="language-css">tr {
  background-color: #18191C;
}
</code></pre>
<p>При наведении курсора цвет фона изменится на голубой:</p>
<pre><code class="language-css">tr:hover {
  background-color: #123E66;
}
</code></pre>
<iframe title="Изменение фона по наведению на строку таблицы" src="demos/row-hover/" height="410"></iframe>
<h2>Как это понять</h2>
<p>Благодаря псевдоклассам мы можем контролировать <em>динамические</em> параметры селекторов. Эти свойства сработают, когда селектор <strong>подходит</strong> под дополнительный признак.</p>
<h2>Как пишется</h2>
<pre><code class="language-css">.block:hover {
  color: red;
}
</code></pre>
<p>Селектор может и отсутствовать. Тогда правило применится ко всем элементам, которые могут иметь признак этого псевдокласса. Например, CSS-правило <code>:focus {}</code> применится к любому элементу, который будет в фокусе.</p>
<pre><code class="language-css">:focus {
  color: lightblue;
}
</code></pre>
<h3><code>:active</code></h3>
<p><a href="/css/active/">Основная статья</a>.</p>
<p>Применяется к интерактивным элементам в момент взаимодействия. Например, нажатая кнопка.</p>
<h3><code>:is()</code></h3>
<p>Позволяет сгруппировать схожие селекторы вместо последовательного перечисления через запятую. При группировке большого количества селекторов это может существенно сократить, а главное — упростить написание.</p>
<p>Вместо:</p>
<pre><code class="language-css">h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
  /* … */
}
</code></pre>
<p>с <code>:is()</code> это можно описать так:</p>
<pre><code class="language-css">:is(h1, h2, h3, h4, h5, h6) a {
  /* … */
}
</code></pre>
<h3><code>:any-link</code>, <code>:link</code>, <code>:visited</code></h3>
<ul>
<li><a href="/css/link/">Основная статья про <code>:link</code></a>;</li>
<li><a href="/css/visited/">Основная статья про <code>:visited</code></a>.</li>
</ul>
<p>Применяется ко всем элементам, которые могут иметь атрибут <code>href</code> (<a href="/html/a/"><code>&lt;a&gt;</code></a>, <code>&lt;area&gt;</code> и <a href="/html/link/"><code>&lt;link&gt;</code></a>). <code>:link</code> характеризует ещё не посещённые страницы, <code>:visited</code> — наоборот, посещённые (в рамках одного домена).</p>
<h3><code>:checked</code></h3>
<p><a href="/css/checked/">Основная статья</a>.</p>
<p>Применяется к элементам, состояние которых меняется с помощью атрибута <code>checked</code>.</p>
<h3><code>:default</code></h3>
<p>Применяется к элементам формы (<code>&lt;input type=&quot;radio&quot;&gt;</code>, <code>&lt;input type=&quot;checkbox&quot;&gt;</code>, <code>&lt;option&gt;</code> и <code>&lt;button&gt;</code>), у которых можно задать начальное состояние.</p>
<p>Например, у <code>&lt;input type=&quot;checkbox&quot;&gt;</code> селектор применится к тому чекбоксу, у которого в разметке установлен атрибут <code>checked</code>, т. е. он <strong>по умолчанию</strong> выбран:</p>
<pre><code class="language-css">:default + span {
  color: #2E9AFF;
}
</code></pre>
<iframe title="Стили для дефолтного чекбокса" src="demos/default/" height="310"></iframe>
<h3><code>:dir()</code></h3>
<p>Позволяет найти элементы по направлению текста в нём (например, в арабском направление письма идёт справа налево). К сожалению, пока свойство <a href="https://caniuse.com/css-dir-pseudo">поддерживается только в Firefox</a>.</p>
<h3><code>:disabled</code>, <code>:enabled</code></h3>
<p><a href="/css/disabled-enabled/">Основная статья</a>.</p>
<p>Позволяют находить элементы формы по состоянию их атрибута <code>disabled</code>. <em>Почти</em> эквивалентны селекторам по атрибуту (<code>[disabled]</code> и <code>:not([disabled])</code> соответственно), но более гибкие, т. к. среагируют на унаследованное состояние <code>disabled</code>. Если есть <code>&lt;fieldset disabled&gt;</code>, то отключаются вложенные в него контролы форм.</p>
<iframe title="Стили для задизейбленного поля ввода" src="demos/disabled-enabled/" height="580"></iframe>
<h3><code>:empty</code></h3>
<p><a href="/css/empty/">Основная статья</a>.</p>
<p>Применяется к элементам, у которых внутри нет других тегов или текста. Например, можно проверить, что у кнопки не задан текст или иконка, чтобы задать минимальные размеры:</p>
<iframe title="Крестики-нолики с :empty" src="demos/empty/" height="330"></iframe>
<h3>Псевдоклассы группы child</h3>
<p><a href="/css/child/">Основная статья</a>.</p>
<p>Селекторы элемента по его положению относительно родителя (первый, последний, n-й, единственный).</p>
<h3>Псевдоклассы группы type</h3>
<p><a href="/css/nth-of-type/">Основная статья</a>.</p>
<p>Селектор по типу внутри одного родителя.</p>
<h3><code>:fullscreen</code></h3>
<p>Признак того, что документ развернули на всё окно (с помощью JavaScript).</p>
<p>Скроем панель управления у плеера, если он развёрнут на весь экран:</p>
<pre><code class="language-css">.player:fullscreen .player__controls {
  display: none;
}
</code></pre>
<h3><code>:focus</code> и <code>:focus-within</code></h3>
<p><a href="/css/focus/">Основная статья</a>.</p>
<p>Элемент, который сейчас находится в фокусе. А <code>:focus-within</code> ещё обозначает элемент, внутри которого находится элемент в фокусе.</p>
<h3><code>:has()</code></h3>
<p><a href="/css/has/">Основная статья</a>.</p>
<p>Позволяет выбрать элемент, уточнив основной селектор дополнительным, при этом не увеличив его вес. В отличие от привычных селекторов, правило применится только к тому селектору, который был описан <strong>до</strong> <code>:has()</code>. В январе 2021 года <a href="https://caniuse.com/css-has">нет поддержки ни в одном браузере</a>.</p>
<h3><code>:hover</code></h3>
<p><a href="/css/hover/">Основная статья</a>.</p>
<p>Состояние элемента, когда на него навели курсор.</p>
<h3><code>:indeterminate</code></h3>
<p>Элементы, которые могут находиться в <em>промежуточном</em> состоянии:</p>
<ul>
<li><code>&lt;input type=&quot;checkbox&quot;&gt;</code>, отображающий, что не все пункты вложенной группы были выделены.</li>
<li>Группа <code>&lt;input type=&quot;radio&quot;&gt;</code> с одинаковым <code>name</code>, но у которой ни один элемент не установлен в <code>checked</code>.</li>
<li><code>&lt;progress&gt;</code>.</li>
</ul>
<p>Для <code>&lt;input&gt;</code> состояние <code>indeterminate</code> в HTML можно задать только через JavaScript.</p>
<iframe title="Промежуточные состояния элементов форм" src="demos/indeterminate/" height="400"></iframe>
<h3><code>:in-range</code> и <code>:out-of-range</code></h3>
<p><a href="/css/in-range-out-of-range/">Основная статья</a>.</p>
<p>Применяется для <code>&lt;input&gt;</code>, у которого определены атрибуты <code>min</code> и <code>max</code> и введённое значение соответствует (<code>:in-range</code>) или нет (<code>:out-of-range</code>) этому диапазону.</p>
<iframe title="Стили для диапазона" src="demos/range/" height="290"></iframe>
<h3><code>:lang()</code></h3>
<p>Селектор по языку содержимого. В HTML есть атрибут <code>lang</code>, который указывает на язык содержимого. Псевдокласс <code>lang()</code> позволяет обратиться к элементу, чьё значение атрибута <code>lang</code> подходит под условие.</p>
<p>Например, в арабском языке нет переносов:</p>
<pre><code class="language-css">:lang(ar) {
  hyphens: none;
}
</code></pre>
<h3><code>:not()</code></h3>
<p><a href="/css/not/">Основная статья</a>.</p>
<p>Находит элемент, который <strong>не соответствует</strong> селектору, переданному в качестве аргумента. Очень мощный псевдокласс, позволяющий писать эффективные CSS-селекторы.</p>
<p>Выделим красной рамкой все <code>&lt;img&gt;</code>, которым забыли прописать атрибут <code>alt</code>:</p>
<pre><code class="language-css">img:not([alt]) {
  outline: 2px solid red;
}
</code></pre>
<h3><code>:optional</code> и <code>:required</code></h3>
<p><a href="/css/required/">Основная статья про <code>:required</code></a>.</p>
<p><code>:optional</code> находит любой <code>&lt;input&gt;</code>, у которого не установлен атрибут <code>required</code> — то есть находит необязательные поля ввода. А <code>:required</code> — наоборот, те <code>&lt;input&gt;</code>, у которых есть этот атрибут.</p>
<h3><code>:read-only</code> и <code>:read-write</code></h3>
<p>Находит элементы, недоступные (<code>:read-only</code>) или наоборот (<code>:read-write</code>) для редактирования. Например, ориентируется на наличие атрибута <code>disabled</code> или <code>readonly</code>.</p>
<h3><code>:root</code></h3>
<p><a href="/css/root/">Основная статья</a>.</p>
<p>Соответствует корневому тегу-элементу документа. Для HTML это, соответственно, <code>&lt;html&gt;</code>, для SVG — <code>&lt;svg&gt;</code>. Специфичность селектора <code>:root</code> выше, чем у селектора по тегу.</p>
<h3><code>:target</code></h3>
<p>При переходе по ссылке, которая ведёт на URI-фрагмент (элемент внутри страницы), <code>id</code> фрагмента совпадает со значением атрибута <code>id</code> этого элемента — это состояние можно «поймать» с помощью псевдокласса <code>:target</code>:</p>
<iframe title="Подсветка активной секции" src="demos/target/" height="600"></iframe>
<h3><code>:valid</code> и <code>:invalid</code></h3>
<p><a href="/css/invalid-valid/">Основная статья</a>.</p>
<p>Селектор <code>:valid</code> соответствует <code>&lt;input&gt;</code>, <code>&lt;fieldset&gt;</code> или <code>&lt;form&gt;</code>-элементу, контент которого валиден в соответствии с типом поля или полей внутри. Обратный эффект у <code>:invalid</code> — сработает при ошибке HTML-валидации.</p>
<h2>Подсказки</h2>
<p>💡 Псевдоклассы пишутся с одним двоеточием впереди.</p>
<p>💡 Псевдоклассы необязательно описываются вместе с элементом — если он не указан, селектор будет обозначать любой доступный элемент, который <em>может иметь</em> этот псевдокласс (при активации нужного состояния).</p>
<p>💡 Если задать псевдокласс элементу-родителю, то можно стилизовать дочерний элемент при изменении состояния у родителя.</p>
<p>Если курсор находится внутри <a href="/html/nav/"><code>&lt;nav&gt;</code></a>, увеличить размер шрифта у вложенных ссылок:</p>
<pre><code class="language-css">nav:hover a {
  font-size: 120%;
}
</code></pre>
