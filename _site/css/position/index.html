<h2>Кратко</h2>
<p>Свойство <code>position</code> задаёт способ позиционирования элемента в документе. Совместно со свойствами <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code> элементу задаётся его местоположение на странице.</p>
<h2>Пример</h2>
<pre><code class="language-css">.box {
  position: absolute;
  left: 0;
  top: 20px;
}
</code></pre>
<h2>Как это понять</h2>
<p>Иногда в процессе вёрстки требуется реализовать разные сложные идеи дизайнера про расположение элементов друг относительно друга. Например, расположить один элемент поверх другого, или немного сместить отображение элемента относительно своего начального положения. Бывают и более сложные случаи, когда требуется зафиксировать элемент относительно окна браузера, а не относительно страницы. Базовым свойством, которое изменяет способ позиционирования, является свойство <code>position</code>.</p>
<h2>Как пишется</h2>
<h3><code>static</code></h3>
<p>Значение по умолчанию. Статичное позиционирование. Любой элемент, добавленный на страницу, будет иметь это значение и будет расположен в <a href="/html/flow/">нормальном потоке</a> документа согласно контексту форматирования родительского элемента. Свойства <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code> и <a href="/css/z-index/"><code>z-index</code></a> игнорируются.</p>
<aside>
<p>❗️ Элемент со значением <code>position: static</code> <strong>не является</strong> позиционированным элементом. Это важный момент, потому что элементы с любым другим значением свойства <code>position</code> создают внутри себя <a href="/css/stacking-context/">контекст наложения</a> и становятся <strong>опорными</strong>. <em>Опорным элементом</em> будем называть такой, относительно которого позиционируются дочерние элементы.</p>
</aside>
<h3><code>relative</code></h3>
<p>Элемент позиционируется так же, как и статичный, но его отображение может быть смещено относительно своего начального положения при помощи свойств <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code>. Это смещение <strong>чисто визуальное</strong> и не затрагивает положение соседних элементов, кроме случая, когда элемент выходит за границы родителя, имеющего возможность прокрутки.</p>
<p>На странице элемент будет занимать столько же места, как если бы он имел статичное позиционирование.</p>
<iframe title="Относительное позиционирование" src="demos/relative/" height="545"></iframe>
<h3><code>absolute</code></h3>
<p>Способ позиционирования, кажущийся наиболее понятным. Мы просто задаём абсолютное позиционирование и при помощи свойств <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code> регулируем положение элемента. Есть ряд особенностей такого позиционирования:</p>
<ul>
<li>Элемент убирается из основного потока документа. То есть перестаёт влиять на положение окружающих элементов и на размер родителя. Можно представить себе, что элемент уходит на слой выше и перестаёт взаимодействовать со всеми элементами, кроме своих потомков.</li>
<li>Элемент позиционируется относительно ближайшего позиционированного предка. То есть браузер идёт вверх по дереву элементов и ищет ближайшего <em>опорного</em> родителя. И затем располагает наш элемент относительно этого родителя.</li>
<li>Если элемент был частью строчного контекста форматирования, он приобретает блочный контекст форматирования. К нему становится применима блочная модель.</li>
<li>Если элемент был блочным и занимал всю ширину своего родителя, то теперь его ширина будет определяться шириной контента.</li>
<li>Отступы элемента с <code>position: absolute</code> не схлопываются с отступами соседних элементов.</li>
</ul>
<iframe title="Абсолютное позиционирование" src="demos/absolute/" height="430"></iframe>
<h3><code>fixed</code></h3>
<p>Иногда требуется позиционировать элемент не относительно родителя, а относительно окна браузера вне зависимости от вложенности. Для решения подобной задачи подходит <code>position: fixed</code>. Свойство так же, как и предыдущее, работает с указанием смещения <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code>. У такого способа позиционирования есть ряд особенностей:</p>
<ul>
<li>Элемент убирается из основного потока документа. То есть перестаёт влиять на положение окружающих элементов и на размер родителя. Можно представить себе, что элемент уходит на слой выше и перестаёт взаимодействовать со всеми элементами, кроме своих потомков.</li>
<li>Элемент позиционируется относительно окна браузера, за исключением случаев, если один из родителей имеет значения свойств <a href="/css/transform/"><code>transform</code></a>, <a href="/css/perspective/"><code>perspective</code></a> или <code>filter</code>, отличные от <code>none</code>. В этом случае блок становится <em>опорным</em>, и позиционирование будет производиться уже относительно него, а не окна браузера.</li>
</ul>
<iframe title="Фиксированное позиционирование" src="demos/fixed/" height="400"></iframe>
<h3><code>sticky</code></h3>
<p>Элемент позиционируется в нормальном потоке так же, как и статичный, а затем смещается при помощи свойств <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code> относительно ближайшего родителя, имеющего прокрутку. Это свойство применяется, когда нам нужно зафиксировать какой-либо элемент не сразу, а при прокрутке родителя до какого-то известного положения.</p>
<p>Например, в следующем примере элемент будет вести себя как обычно до тех пор, пока родитель не будет прокручен таким образом, что расстояние от верха родителя до верхней границы элемента не станет меньше 10 пикселей. Как только прокрутка достигнет такого значения, элемент зафиксируется в положении 10 пикселей от верха границы родителя:</p>
<pre><code class="language-css">.block {
  position: sticky;
  top: 10px;
}
</code></pre>
<p>У такого позиционирования есть ряд особенностей:</p>
<ul>
<li>Элемент ведёт себя как элемент с относительным (<code>relative</code>) позиционированием до тех пор, пока его родитель не будет прокручен до определённой границы. Как правило, эта точка совпадает с положением верхней границы нашего элемента, но может быть изменена с использованием свойства <code>top</code>.</li>
<li>Элемент остаётся «приклеенным» во время прокрутки родителя до тех пор, пока не «встретит» противоположную границу своего родителя.</li>
</ul>
<iframe title="Липкое позиционирование" src="demos/sticky/" height="400"></iframe>
<aside>
<p>📃 Подробнее об этом значении можно почитать в статье про <a href="/css/position-sticky/">липкое позиционирование</a>.</p>
</aside>
<h2>Подсказки</h2>
<p>💡 Как правило, если элементу с <code>position: absolute</code> или <code>position: fixed</code> не заданы ширина и высота, то значение этих величин высчитывается по количеству контента. Однако можно неявно заставить блок тянуться на всю ширину или высоту родителя, задав одновременно противоположные свойства (<code>left</code> и <code>right</code>, или <code>top</code> и <code>bottom</code>). Это будет работать, только если <code>width</code> и <code>height</code> будут иметь значение <code>auto</code>.</p>
<p>💡 Если ширина задана явно (не <code>auto</code>), а также заданы <code>left</code> и <code>right</code>, то для <code>direction</code> <code>ltr</code> приоритет отдаётся свойству <code>left</code>. Для <code>rtl</code> — свойству <code>right</code>.</p>
<p>💡 Если высота задана явно (не <code>auto</code>), а также заданы <code>top</code> и <code>bottom</code>, то приоритет отдаётся свойству <code>top</code>.</p>
<p>💡 Если для абсолютно позиционированного элемента (<code>absolute</code> или <code>fixed</code>) задано смещение только по одной из осей (например, только <code>top</code> или только <code>left</code>), то смещение по второй из осей высчитывается, исходя из расположения элемента, если бы он был позиционирован статично. В примере ниже блоку не задано положение по вертикали, поэтому его верхний край помещается в ту же точку, где находился бы при статичном позиционировании:</p>
<iframe title="Положение по второй оси при нестатичном позиционировании" src="demos/absolute-sec-axis/" height="495"></iframe>
