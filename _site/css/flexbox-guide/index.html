<h2>Что это?</h2>
<p>Долгое время веб-интерфейсы были статичными — сайты разрабатывались и просматривались только на экранах мониторов стационарных компьютеров. Однако с десяток лет назад, совсем недавно по историческим меркам, у нас появилось огромное разнообразие экранов — от мобильных телефонов до телевизоров, — на которых мы можем взаимодействовать с сайтами. Так родилась необходимость в гибких системах раскладки.</p>
<p>Идея флексбоксов появилась ещё в 2009 году, и этот стандарт до сих пор развивается и прорабатывается. Основная идея флексов — гибкое распределение места между элементами, гибкая расстановка, выравнивание, гибкое управление. Ключевое слово — <strong>гибкое</strong>, что и отражено в названии (<em>flex — англ. гибко</em>).</p>
<h2>Основные термины</h2>
<ul>
<li><strong>Флекс-контейнер:</strong> элемент, к которому применяется свойство <code>display: flex</code>. Вложенные в него элементы подчиняются правилам раскладки флексов.</li>
<li><strong>Флекс-элемент:</strong> элемент, вложенный во флекс-контейнер.</li>
</ul>
<p><img src="images/1.png" alt="Пример флекс-контейнера и вложенных в него флекс-элементов"></p>
<ul>
<li><strong>Основная ось:</strong> основная направляющая флекс-контейнера, вдоль которой располагаются флекс-элементы.</li>
<li><strong>Поперечная (побочная, перпендикулярная) ось:</strong> ось, идущая перпендикулярно основной. Позже вы поймёте, для чего она нужна.</li>
</ul>
<p><img src="images/2.png" alt="Наглядный вид основной оси и поперечной оси"></p>
<ul>
<li><strong>Начало / конец основной оси</strong>: точки в начале и в конце основной оси соответственно. Это пригодится нам для выравнивания флекс-элементов.</li>
<li><strong>Начало / конец поперечной оси</strong>: точки в начале и в конце поперечной оси соответственно.</li>
</ul>
<p><img src="images/3.png" alt="Наглядный вид начала/конца основной оси и начала/конца поперечной оси"></p>
<ul>
<li><strong>Размер по основной оси (основной размер)</strong>: размер флекс-элемента вдоль основной оси. Это может быть ширина или высота в зависимости от направления основной оси.</li>
<li><strong>Размер по поперечной оси (поперечный размер)</strong>: размер флекс-элемента вдоль поперечной оси. Это может быть ширина или высота в зависимости от направления поперечной оси. Этот размер всегда перпендикулярен основному размеру. Если основной размер — это ширина, то поперечный размер — это высота, и наоборот.</li>
</ul>
<p><img src="images/4.png" alt="Наглядный вид размера по основной оси и по поперечной оси"></p>
<h2>Свойства флекс-контейнера</h2>
<h3><code>display</code></h3>
<pre><code class="language-css">.container {
  display: flex;
}
</code></pre>
<p>Когда мы задаём какому-то элементу значение <code>flex</code> для свойства <code>display</code>, мы превращаем этот элемент в флекс-контейнер. Внутри него начинает действовать флекс-контекст, его дочерние элементы начинают подчиняться свойствам флексбокса.</p>
<p>Снаружи флекс-контейнер выглядит как блочный элемент — занимает всю ширину родителя, следующие за ним элементы в разметке переносятся на новую строку.</p>
<pre><code class="language-css">.container {
  display: inline-flex;
}
</code></pre>
<p>Если контейнеру задано значение <code>inline-flex</code>, то снаружи он начинает вести себя как строчный (инлайн) элемент — размеры зависят только от внутреннего контента, встаёт в строку с другими элементами. Внутри это ровно такой же флекс-контейнер, как и при предыдущем значении.</p>
<h3><code>flex-direction</code></h3>
<p>Свойство управления направлением основной и поперечной осей.</p>
<pre><code class="language-css">.container {
  display: flex;
  flex-direction: row;
}
</code></pre>
<p>Возможные значения:</p>
<ul>
<li><code>row</code> (значение по умолчанию) — основная ось идёт горизонтально слева направо, поперечная ось идёт вертикально сверху вниз.</li>
<li><code>row-reverse</code> — основная ось идёт горизонтально справа налево, поперечная ось идёт вертикально сверху вниз.</li>
<li><code>column</code> — основная ось идёт вертикально сверху вниз, поперечная ось идёт горизонтально слева направо.</li>
<li><code>column-reverse</code> — основная ось идёт вертикально снизу вверх, поперечная ось идёт горизонтально слева направо.</li>
</ul>
<p><img src="images/5.png" alt="Пример свойства flex-direction"></p>
<p>Важный момент: на сайтах с направлением текста справа налево, например, на сайте на арабском языке, для значений <code>row</code> и <code>row-reverse</code> основная ось будет идти в обратном направлении. Для значений <code>column</code> и <code>column-revers</code> своё направление поменяет поперечная ось.</p>
<h3><code>flex-wrap</code></h3>
<pre><code class="language-css">.container {
  display: flex;
  flex-wrap: nowrap;
}
</code></pre>
<p>По умолчанию значение у свойства <code>flex-wrap</code> — <code>nowrap</code>. При этом флекс-элементы помещаются (или пытаются уместиться) в один ряд и не переносятся в новый ряд, даже если не влезают в размеры родителя.</p>
<p>Установив значение <code>wrap</code>, мы можем изменить это поведение, и флекс-элементы будут иметь возможность перенестись в новый ряд, если не влезают в одну линию в рамках родителя.</p>
<p>Ещё одно возможное значение — <code>wrap-reverse</code>. В этом случае элементы будут располагаться снизу вверх, заполнив собой сперва нижний ряд, а те, что не влезли, перепрыгнут в ряд выше.</p>
<p><img src="images/6.png" alt="Пример свойства flex-wrap"></p>
<h3><code>flex-flow</code></h3>
<p>Это свойство-шорткат для одновременного определения значений свойств <code>flex-direction</code> и <code>flex-wrap</code>.</p>
<pre><code class="language-css">.container {
  display: flex;
  flex-flow: column wrap;
}
</code></pre>
<p>Или:</p>
<pre><code class="language-css">.container {
  display: flex;
  flex-flow: row nowrap;
}
</code></pre>
<p>Как и со всеми шорткатами, с этим стоит быть осторожным. Хоть он и позволяет сэкономить пару строк кода, в случае переопределения одного из значений придётся переписывать свойство целиком, повторяя второе значение, которое не меняется. В таком случае проще было бы иметь два отдельных свойства и менять значения отдельно.</p>
<h3><code>justify-content</code></h3>
<pre><code class="language-css">.container {
  display: flex;
  justify-content: space-between;
}
</code></pre>
<p>Свойство позволяет выравнивать флекс-элементы внутри флекс-контейнера по основной оси.</p>
<p>Возможные значения:</p>
<ul>
<li><code>flex-start</code> (значение по умолчанию) — элементы прижимаются к краю, от которого начинается основная ось.</li>
<li><code>flex-end</code> — элементы прижимаются к краю, у которого основная ось заканчивается.</li>
<li><code>start</code> — элементы прижимаются к тому краю, откуда начинается чтение на том языке, на котором отображается сайт. Например, для русского языка элементы прижмутся к левому краю при горизонтальной основной оси, а для арабского языка — к правому краю.</li>
<li><code>end</code> — элементы прижимаются к краю, противоположному началу направления чтения на том языке, на котором отображается сайт. Например, при горизонтальной основной оси на русском языке элементы прижмутся к правому краю.</li>
<li><code>left</code> — элементы прижмутся к левому краю родителя. В случае, если указано свойство <code>flex-direction: column</code>, значение срабатывает как <code>start</code>.</li>
<li><code>right</code> — элементы прижмутся к правому краю. В случае, если указано свойство <code>flex-direction: column</code>, значение срабатывает как <code>end</code>.</li>
<li><code>center</code> — элементы выстраиваются по центру родителя.</li>
<li><code>space-between</code> — крайние элементы прижимаются к краям родителя, оставшиеся выстраиваются внутри контейнера равномерно, так, чтобы между ними были одинаковые отступы.</li>
<li><code>space-around</code> — свободное пространство делится поровну между элементами и по половине от этой доли размещается по бокам от каждого элемента. Таким образом, между соседними элементами будет равное расстояние, а снаружи крайних элементов — по половине этого расстояния.</li>
<li><code>space-evenly</code> — свободное место будет распределено так, чтобы расстояние между любыми двумя элементами было одинаковым и расстояние от крайних элементов до края было таким же.</li>
</ul>
<p>Хотя большинство значений поддерживаются основными браузерами, с некоторыми из них могут быть трудности. Поэтому лучше на всякий случай проверяйте поддержку на <a href="https://caniuse.com/#search=justify-content%20flex">Can I use</a>.</p>
<h3><code>align-items</code></h3>
<pre><code class="language-css">.container {
  display: flex;
  align-items: center;
}
</code></pre>
<p>Свойство выравнивания элементов внутри контейнера по поперечной оси.</p>
<p>Возможные значения:</p>
<ul>
<li><code>stretch</code> (значение по умолчанию) — элементы растягиваются вдоль поперечной оси так, чтобы заполнить всего родителя. Это очень удобно, если вы делаете двухколоночный макет. Раньше приходилось при помощи разных костылей добиваться одинаковой высоты, а теперь достаточно сделать контейнер флексом, и колонки по умолчанию будут одной высоты.</li>
<li><code>flex-start</code> или <code>start</code> — элементы выстраиваются у начала поперечной оси. Разница между ними лишь в том, что второе значение «уважает» направление чтения выбранного языка.</li>
<li><code>flex-end</code> или <code>end</code> — элементы выстраиваются у конца поперечной оси. Разница между первым и вторым значениями аналогична предыдущему пункту.</li>
<li><code>center</code> — элементы выстраиваются по центру поперечной оси.</li>
<li><code>baseline</code> — элементы выравниваются по базовой линии текста. «Базовая линия» — baseline — воображаемая линия, проходящая по нижнему краю знаков шрифта (без учёта выносных элементов).</li>
</ul>
<p>Это может быть сложно понять сразу, поэтому мы сделали демку. Обратите внимание, что вне зависимости от размера шрифта все блоки выравниваются по базовой линии первой строки.</p>
<iframe title="Выравнивание по базовой линии" src="demos/baseline/" height="500"></iframe>
<h3><code>align-content</code></h3>
<pre><code class="language-css">.container {
  display: flex;
  align-content: center;
}
</code></pre>
<p>Свойство распределяет свободное пространство по поперечной оси между рядами флекс-элементов. Предположим, у вас 11 элементов в 3 рядах. Если размер родителя по поперечной оси позволяет, то при помощи <code>align-content</code> можно распределять строчки элементов: по верхнему краю, по нижнему, по центру или равномерно.</p>
<p>Не имеет видимого значения, если элементы располагаются в один ряд.</p>
<p>Возможные значения:</p>
<ul>
<li><code>stretch</code> (значение по умолчанию) — ряды растягиваются одинаково, так, чтобы занять всё доступное пространство родителя.</li>
<li><code>flex-start</code> / <code>start</code> — все ряды располагаются у начала поперечной оси. Первое значение не зависит от направления чтения текущего языка, в отличие от второго.</li>
<li><code>flex-end</code> / <code>end</code> — все ряды располагаются у конца поперечной оси. <code>end</code> «уважает» направление чтения текущего языка.</li>
<li><code>center</code> — ряды выравниваются по центру родителя.</li>
<li><code>space-between</code> — первый ряд прижимается к началу поперечной оси, последний — к концу поперечной оси, а остальные располагаются так, чтобы свободное пространство было поделено на отступы между ними равномерно.</li>
<li><code>space-around</code> — отступы у каждого ряда равнозначны отступам у любого другого ряда.</li>
<li><code>space-evenly</code> — отступы между рядами и от краёв родителя одинаковые.</li>
</ul>
<h3><code>gap</code></h3>
<p>С помощью этого свойства можно с лёгкостью задавать отступы между строками и столбцами.</p>
<p>Является краткой записью свойств <code>row-gap</code> и <code>column-gap</code>.</p>
<p>Может иметь одно или два значения. Если указано только одно, то <code>column-gap</code> автоматически равен <code>row-gap</code>. Если указаны два значения, то первое будет задавать отступы между колонками (<code>column-gap</code>), а второе — между рядами (<code>row-gap</code>).</p>
<p>Значения можно указывать в любых доступных <a href="/css/numeric-types/">единицах измерения</a>, включая проценты.
Допускается использование функции <a href="/css/calc/"><code>calc()</code></a>.</p>
<pre><code class="language-css">.container {
  display: flex;
  gap: 30px calc(10rem - 10px);
}
</code></pre>
<h2>Свойства флекс-элемента</h2>
<h3><code>order</code></h3>
<pre><code class="language-css">.container {
  display: flex;
}

.item {
  order: 3;
}
</code></pre>
<p>При помощи свойства <code>order</code> можно менять порядок отображения флекс-элементов внутри флекс-контейнера.</p>
<p>По умолчанию элементы отображаются в том порядке, в котором они расположены в разметке, а значение свойства <code>order</code> равно 0.</p>
<p>Значение задаётся в виде целого отрицательного или положительного числа. Элементы встают по возрастающей.</p>
<p><img src="images/7.png" alt="Пример свойства флекс-элементов order"></p>
<h3><code>flex-grow</code></h3>
<pre><code class="language-css">.container {
  display: flex;
}

.item {
  flex-grow: 1;
}
</code></pre>
<p>Это свойство указывает, может ли вырастать флекс-элемент при наличии свободного места, и насколько. По умолчанию значение равно 0. Значением может быть любое положительное целое число (включая 0).</p>
<p>Если у всех флекс-элементов будет прописано <code>flex-grow: 1</code>, то свободное пространство в контейнере будет равномерно распределено между всеми.</p>
<p>Если при этом одному из элементов мы зададим <code>flex-grow: 2</code>, то он постарается занять в два раза больше свободного места, чем его соседи.</p>
<h3><code>flex-shrink</code></h3>
<pre><code class="language-css">.container {
  display: flex;
}

.item {
  flex-shrink: 3;
}
</code></pre>
<p>Свойство <code>flex-shrink</code> полностью противоположно свойству <code>flex-grow</code>. Если в контейнере не хватает места для расположения всех элементов без изменения размеров, то свойство <code>flex-shrink</code> указывает, в каких пропорциях элемент будет уменьшаться.</p>
<p>Чем больше значение у этого свойства, тем быстрее элемент будет сжиматься по сравнению с соседями, имеющими меньшее значение.</p>
<p>Значение по умолчанию — 1. Значением может быть любое целое положительное число (включая 0).</p>
<p>Два предыдущих свойства работают с пропорциональным разделением пространства, не с конкретными размерами. Они довольно непростые, даже опытный разработчик не всегда знает, как они в точности работают. Загляните в конец статьи, если хотите подробнее почитать о каждом из них.</p>
<h3><code>flex-basis</code></h3>
<pre><code class="language-css">.container {
  display: flex;
}

.item {
  flex-basis: 250px;
}
</code></pre>
<p>Свойство <code>flex-basis</code> указывает на размер элемента до того, как свободное место будет распределено (см. <a href="/css/flexbox-guide/#flex-grow">flex-grow</a>).</p>
<p>Значением может быть размер в любых относительных или абсолютных единицах: <code>20rem</code>, <code>5vw</code>, <code>250px</code>. А также можно использовать ключевое слово <code>auto</code> (значение по умолчанию). В этом случае при расчёте размера элемента будут приниматься во внимание значения свойств <code>width</code>, <code>max-width</code>, <code>min-width</code> или аналогичные свойства высоты, в зависимости от того, в каком направлении идёт основная ось.</p>
<p>Если никакие размеры не заданы, а свойству <code>flex-basis</code> установлено значение <code>auto</code>, то элемент занимает столько пространства, сколько нужно для отображения контента.</p>
<h3><code>flex</code></h3>
<pre><code class="language-css">.container {
  display: flex;
}

.item {
  flex: 1 1 auto;
}
</code></pre>
<p>Свойство-шорткат, с помощью которого можно указать значение трёх свойств одновременно: <code>flex-grow</code>, <code>flex-shrink</code> и <code>flex-basis</code>. Первое значение является обязательным, остальные опциональны.</p>
<p>Значение по умолчанию: <code>0 1 auto</code>, что расшифровывается как <code>flex-grow: 0</code>, <code>flex-shrink: 1</code>, <code>flex-basis: auto</code>.</p>
<p>Возможные значения:</p>
<pre><code class="language-css">/* 0 0 auto */
flex: none;

/* Одно значение, число без единиц: flex-grow */
flex: 2;

/* Одно значение, ширина/высота: flex-basis */
flex: 10em;
flex: 30px;
flex: auto;
flex: content;

/* Два значения: flex-grow | flex-basis */
flex: 1 30px;

/* Два значения: flex-grow | flex-shrink */
flex: 2 2;

/* Три значения: flex-grow | flex-shrink | flex-basis */
flex: 2 2 10%;

/* Глобальные значения */
flex: inherit;
flex: initial;
flex: unset;
</code></pre>
<h3><code>align-self</code></h3>
<pre><code class="language-css">.container {
  display: flex;
  align-items: flex-start;
}

.item {
  align-self: flex-end;
}
</code></pre>
<p>При помощи этого свойства можно выровнять один или несколько элементов иначе, чем задано у родительского элемента. Например, в коде выше у родителя задано выравнивание вложенных элементов по верхнему краю родителя. А для элемента с классом <code>.item</code> мы задаём выравнивание по нижнему краю.</p>
<h3>Ссылки</h3>
<ol>
<li><a href="https://medium.com/p/557d406be844">Как реально работает <code>flex-grow</code></a></li>
<li><a href="https://medium.com/p/c41e40767194">Как реально работает <code>flex-shrink</code></a></li>
<li><a href="https://yoksel.github.io/flex-cheatsheet/">Песочница Флексбоксов</a></li>
<li><a href="https://flexboxfroggy.com/#ru">Game: Flexbox Froggy</a></li>
<li><a href="http://www.flexboxdefense.com/">Game: Flexbox Defense</a></li>
<li><a href="https://courses.cs.washington.edu/courses/cse154/flexboxducky/">Game: Flexbox Ducky</a></li>
<li><a href="https://flexbox.io/">Курс по Флексбоксам от Wes Bos</a></li>
</ol>
