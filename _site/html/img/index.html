<h2>Кратко</h2>
<p>Тег <code>&lt;img&gt;</code> добавляет изображение на страницу.</p>
<p>Растровые, векторные — любые, поддержка форматов уже зависит от браузера.</p>
<h2>Пример</h2>
<pre><code class="language-html">&lt;img src=&quot;logo.png&quot; alt=&quot;Логотип: собака, бегущая за мячом, изображено схематично&quot;&gt;
</code></pre>
<h2>Как пишется</h2>
<p>Тег <code>&lt;img&gt;</code> одиночный, у него нет закрывающей пары, контент в него не положить.</p>
<p>Ссылка на картинку и другие параметры задаются с помощью атрибутов.</p>
<h2>Атрибуты</h2>
<h3><code>src</code></h3>
<p>Обязательный атрибут. В качестве значения указывается адрес картинки. Абсолютная или относительная ссылка до файла в любом допустимом формате.</p>
<h3><code>alt</code></h3>
<p>Тоже обязательный атрибут. Текст в <code>alt</code> называется альтернативным описанием изображения и рассказывает словами, что изображено. Это полезно, если картинка не загрузилась или пользователь не видит изображения.</p>
<p>Если забыть добавить атрибут, то скринридер попытается прочесть название файла: в лучшем случае это будет <code>logo-large</code>, но может быть и <code>b764b84c</code>, что не очень информативно. Если оставить значение атрибута пустым, то скринридер посчитает это изображение декоративным, а не контентным. Если вы добиваетесь именно этого — отлично, но тогда, возможно, стоит вставить его как фоновую картинку с помощью CSS.</p>
<p>Когда картинка по какой-то причине не загружается, браузеры отображают вместо неё альтернативный текст. Его даже можно стилизовать, если задать текстовые стили тегу <code>&lt;img&gt;</code>.</p>
<h3><code>width</code> и <code>height</code></h3>
<p>При помощи атрибутов <code>width</code> и <code>height</code> размеры изображения задаются прямо в HTML. Вы можете спросить: зачем так, ведь стиль нужно задавать с помощью CSS? Это нужно, чтобы избежать <em>прыжков контента</em> при загрузке страницы. Частая ситуация, когда картинка очень тяжёлая, а скорость интернета пользователя невысокая.</p>
<p>Если размеры не заданы в атрибутах, то <code>&lt;img&gt;</code> займёт место как строка текста. После загрузки картинка встанет на страницу, подвинув остальной контент. Пользователей обычно очень раздражают такие скачки. Они теряют место, где читали, а браузеру приходится перерисовывать страницу заново.</p>
<ul>
<li><code>width</code> — ширина изображения в пикселях.</li>
<li><code>height</code> — высота изображения в пикселях.</li>
</ul>
<p>При этом сами единицы измерения <em>px</em> указывать не нужно, браузер поймёт.</p>
<h3><code>srcset</code></h3>
<p>Самый простой способ предложить браузеру версию картинки с повышенным разрешением — указать её в атрибуте <code>srcset</code>:</p>
<pre><code class="language-html">&lt;img
  src=&quot;logo.png&quot;
  srcset=&quot;logo@2x.png 2x&quot;
  alt=&quot;Логотип: собака, бегущая за мячом, изображено схематично&quot;&gt;
</code></pre>
<p>Для этого не нужен целый элемент <a href="/html/picture/"><code>&lt;picture&gt;</code></a>, достаточно атрибута.</p>
<p>Также атрибут <code>srcset</code> можно использовать в сочетании с атрибутом <code>sizes</code>, чтобы подсказать браузеру, какие варианты картинок есть, и помочь ему выбрать подходящие ситуации.</p>
<h3><code>sizes</code></h3>
<p>HTML даёт возможность загружать разные изображения в зависимости от разных условий. Частая ситуация: разные картинки под разные ширины экранов.</p>
<p>Можно делать это при помощи тега <a href="/html/picture/"><code>&lt;picture&gt;</code></a>, а можно задать атрибуты <code>srcset</code> и <code>sizes</code> прямо в теге <code>&lt;img&gt;</code>.</p>
<ul>
<li><code>srcset</code> — атрибут, принимающий несколько строк, разделённых запятой. Каждая строка должна содержать ссылку на картинку и указание фактической ширины картинки, значения разделяются пробелом. При этом после ширины ставится единица измерения <em>w</em>, а не <em>px</em>.</li>
<li><code>sizes</code> — атрибут, в котором указывается одно или несколько условий через запятую. Каждая строка состоит из медиавыражения и ширины блока для картинки, разделённых пробелом. Ширину блока для картинки можно указывать в любых единицах измерения, кроме процентов.</li>
</ul>
<pre><code class="language-html">&lt;img
    src=&quot;logo-large.png&quot;
    srcset=&quot;
      logo-small.png 320w,
      logo-medium.png 480w,
      logo-large.png 800w&quot;
    sizes=&quot;
      (max-width: 320px) 280px,
      (max-width: 480px) 440px,
      800px&quot;
    alt=&quot;Логотип: собака, бегущая за мячом, изображено схематично&quot;&gt;
</code></pre>
<p>Как браузер читает эти атрибуты:</p>
<ol>
<li>Смотрит на ширину экрана устройства.</li>
<li>Пытается определить подходящее условие из списка в атрибуте <code>sizes</code>.</li>
<li>Смотрит на размер блока для изображения к этому медиавыражению.</li>
<li>Загружает то изображение из списка в <code>srcset</code>, которое имеет тот же размер, что и выбранный слот. Если такого нет, то загрузится первое изображение, которое больше размера выбранного слота.</li>
</ol>
<p>При чтении кода из примера выше:</p>
<ul>
<li>На экранах от 0 до 320 пикселей загрузится <em>logo-small.png</em>.</li>
<li>На экранах от 321 до 480 пикселей загрузится <em>logo-medium.png</em>.</li>
<li>На всех прочих ширинах (или если браузер не поддерживает эти атрибуты) загрузится <em>logo-large.png</em>.</li>
</ul>
<p>Браузер остановит проверку и чтение атрибутов, как только найдёт совпадение с условием. Поэтому располагайте условия от меньших к большим.</p>
<h3><code>loading</code></h3>
<p>По умолчанию браузеры читают HTML-код страницы и ставят в загрузку все картинки, которые найдут в тегах <code>&lt;img&gt;</code>. Это хорошо для пользователя, ведь это контент страницы, и его не нужно будет ждать.</p>
<p>Но бывает, что картинок на странице много, и нам нужно как-то подсказать браузеру: вот эти пока не загружай, дождись, пока пользователь до них прокрутит — и можно начать загрузку. <em>В общем, сам разберись.</em> Удобно, правда?</p>
<p>Для этого можно указать поведение картинки в атрибуте <code>loading</code>:</p>
<ul>
<li><code>eager</code>, то есть немедленно (по умолчанию, как если вообще не указывать атрибут);</li>
<li><code>lazy</code>, то есть лениво.</li>
</ul>
<p>Атрибут сравнительно свежий, и стоит свериться с <a href="https://caniuse.com/loading-lazy-attr">таблицей поддержки</a>, но это не так важно: атрибут <code>loading</code> работает как улучшение, и если браузер его не поддерживает, то ничего не сломается.</p>
<h3><code>decoding</code></h3>
<p>Перед тем, как показать загруженную картинку, браузер декодирует её — превращает набор байтов в набор пикселей по подходящим алгоритмам. Для больших изображений декодирование может занимать сотни миллисекунд, во время которых страница блокируется.</p>
<p>Если изображения не настолько важны, как текст вокруг них, можно попросить браузер декодировать картинки асинхронно. Тогда браузер приступит к их декодированию попозже, когда самое важное уже будет нарисовано. Или наоборот, можно попросить браузер: «Вот эта картинка очень важная, её нужно декодировать прямо сейчас».</p>
<p>Подсказки задаются в атрибуте <code>decoding</code>:</p>
<ul>
<li><code>async</code> — декодировать асинхронно (можно попозже, когда получится);</li>
<li><code>sync</code> — синхронно (нужно прямо сейчас);</li>
<li><code>auto</code> — автоматически (браузер, решай сам).</li>
</ul>
<p>Как и атрибут <code>loading</code>, атрибут <code>decoding</code> можно добавлять как прогрессивное улучшение, потому что в старых браузерах ничего не сломается, а в понимающих этот атрибут — станет лучше.</p>
<h2>Подсказки</h2>
<p>💡 Картинка может быть ссылкой: для этого оберните <code>&lt;img&gt;</code> в <code>&lt;a&gt;</code>.</p>
<p>💡 Всегда прописывайте <code>alt</code> для изображения. Если пользователь открывает страницу в скринридере, или он отключил изображения, или использует озвучивание текста с экрана, то альтернативный текст подскажет, что изображено на картинке.</p>
<p>💡 Прописывайте ширину <code>width</code> и высоту <code>height</code> изображения, чтобы страница загружалась быстрее. Задавая значения этим атрибутам, не пишите <em>px</em>, только числа.</p>
<p>💡 Используйте атрибуты <code>sizes</code> и <code>srcset</code>, чтобы ваша картинка адаптировалась к разным устройствам. Получается красиво, а страница загружается быстрее.</p>
<h2>Ещё примеры</h2>
<p>Мы указали картинке её реальные размеры в атрибутах <code>width</code> и <code>height</code>, а потом задали ей резиновую ширину 50%, и чтобы высота была корректной, добавили <code>height: auto</code> — браузер сам подберёт подходящую высоту, он уже загрузил картинку и всё знает.</p>
<pre><code class="language-html">&lt;img
  src=&quot;dogs.png&quot;
  width=&quot;1504&quot; height=&quot;541&quot;
  alt=&quot;Три собаки: одна смотрит влево, вторая закрыла глаза и спит, третья смотрит вправо&quot;&gt;
</code></pre>
<pre><code class="language-css">img {
  width: 50%;
  height: auto;
}
</code></pre>
<iframe title="Картинка с заданной шириной" src="demos/img-fix-width/" height="300"></iframe>
