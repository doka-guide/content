<h2>Кратко</h2>
<p>Управляющая конструкция <code>switch</code> позволяет выполнять различные блоки кода, в зависимости от значения переменной.</p>
<p>Похож на <code>if...else</code>, но решает более узкую задачу.</p>
<h2>Как пишется</h2>
<pre><code class="language-js">switch (имя_переменной_значение_которой_сравниваем) {
  case значение:
    // код
    break
}
</code></pre>
<p>В круглых скобках указывается переменная, значение которой сравнивается. В фигурных скобках с помощью ключевого слова <code>case</code> указываются возможные значения и код, который нужно выполнить.</p>
<p>Пример приветствия пользователя в зависимости от статуса:</p>
<pre><code class="language-js">switch (membershipStatus) {
  case &quot;vip&quot;:
    // выполнится, если в переменной membershipStatus хранится строка &quot;vip&quot;
    console.log(&quot;Приветствуем вас, ваше великолепие!&quot;)
    console.log(&quot;рады вас видеть!&quot;)
    break
  case &quot;diamond&quot;:
    console.log(&quot;Здравствуйте, бриллиантовый клиент!&quot;)
    break
  case &quot;gold&quot;:
    console.log(&quot;Привет, золотой мой!&quot;)
    break
  default:
    // выполнится, если ни один другой случай не сработал
    console.log(&quot;Прив&quot;)
    break
}
</code></pre>
<h2>Как понять</h2>
<p>В программировании часто встречается задача выполнения разного кода в зависимости от какого-либо условия. Обычно, такие задачи решают с помощью конструкции <a href="/js/if-else/">if...else</a>.</p>
<p>Среди этих задач есть особый подтип — когда нужно посмотреть на значение переменной и выполнить разный код, в зависимости от этого значения. Например, применить разную скидку для клиентов разного статуса — самым любимым клиентам дать скидку 25%, с картой лояльности — 10%, а обычным покупателям не дать ничего.</p>
<p>Такую задачу тоже можно решить с помощью <code>if..else</code>:</p>
<pre><code class="language-js">let discount
if (memberStatus === &quot;vip&quot;) {
  discount = 0.25
} else if (memberStatus === &quot;diamond&quot;) {
  discount = 0.2
} else if (memberStatus === &quot;gold&quot; || memberStatus === &quot;silver&quot;) {
  // скидка 10% пользователям статуса золотой и серебряный
  discount = 0.1
} else {
  discount = 0
}
</code></pre>
<p>Код выше работает, но выглядит избыточно — в нем очень много сравнений с использованием <code>memberStatus</code>. Конструкция <code>switch</code> решает такую задачу меньшим объёмом кода:</p>
<pre><code class="language-js">let discount
switch (memberStatus) {
  case &quot;vip&quot;:
    discount = 0.25
    break
  case &quot;diamond&quot;:
    discount = 0.2
    break
  case &quot;gold&quot;:
  case &quot;silver&quot;:
    // можно написать несколько кейсов и связать с одним блоком
    discount = 0.1
    break
  default:
    discount = 0
    break
}
</code></pre>
<p>В круглых скобках указана переменная, значение которой нужно сравнивать с различными возможными значениями — <em>кейсами</em>. Порядок обычно не имеет значения.</p>
<p>Внутри кейса пишется список команд, которые нужно выполнить. Список команд завершается оператором <code>break</code>.</p>
<p>Существует необязательный кейс <code>default</code>, который срабатывает, если ни одно значение не подошло.</p>
<h3>Что будет, если не поставить <code>break</code>?</h3>
<p>Если вы забыли поставить <code>break</code>, то будут выполнены все команды, начиная со сработавшего кейса и до тех пор пока либо не встретится <code>break</code>, либо не закончится <code>switch</code>.</p>
<p>Сравните:</p>
<p><img src="images/switch.png" alt="Показан код, выполняемый только между текущими  и , и код, выполняемый от  до , даже если он вне текущего кейса"></p>
<p>Выполняется весь код от текущего <code>case</code> до следующего <code>break</code>, даже если он вне текущего кейса.</p>
<p>В коде появился баг — значение для бриллиантового уровня будет установлено в <code>0.1</code> вместо <code>0.2</code>.</p>
