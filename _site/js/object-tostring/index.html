<h2>Кратко</h2>
<p>Метод <code>toString</code> преобразует объект в строковое представление. Метод автоматически вызывается JavaScript, когда объект нужно представить в текстовом виде.</p>
<p>Если метод не переопределён, то он возвращает строку формата <code>[object тип]</code>, где <em>тип</em> — это строка, которая уточняет тип объекта. В подавляющем большинстве вы будете видеть вывод <code>[object Object]</code>.</p>
<h2>Пример</h2>
<pre><code class="language-js">const book = {
  title: 'JavaScript: the good parts',
  author: 'Douglas Crockford'
}

console.log(`Сейчас читаю ${book}`)
// Сейчас читаю [object Object]
</code></pre>
<h2>Как пишется</h2>
<p>Метод вызывается без аргументов. Возвращает строковое представление объекта.</p>
<h2>Как понять</h2>
<p>Существует соглашение, что метод <code>toString</code> вызывается JavaScript автоматически, если объект находится в контексте, где он должен быть представлен в виде строки. Чаще всего это случаи, связанные с печатью данных на экран или в консоль браузера.</p>
<p>Объекты, в отличие от примитивных типов, сложно преобразовывать в строку. Объект может содержать произвольное количество полей и без программиста непонятно, какие из них важные. Поэтому стандартная реализация метода <code>toString</code> представляет собой заглушку, печатающую <code>'[object Object]'</code>.</p>
<p>Многие структуры данных, базирующиеся на объекте <code>Object</code>, содержат собственные реализации этого метода. Например, <a href="/js/number-tostring/"><code>Number</code> преобразует число в строку в указанной системе счисления</a>, а массив выводит список элементов через запятую.</p>
<h3>Переопределение стандартной реализации</h3>
<p>Стандартная реализация метода <code>toString</code> не даёт достаточно информации об объекте даже для использования в отладке программы. Программисты могут переопределить метод <code>toString</code>, чтобы выводить необходимые данные.</p>
<p>Если мы работаем в ООП стиле, то классу нужно просто добавить метод <code>toString</code>:</p>
<pre><code class="language-js">class Book {
  title = ''
  author = ''

  constructor(title, author) {
    this.title = title
    this.author = author
  }

  toString() {
    return `«${this.title}», автор ${this.author}`
  }
}

const book = new Book('Палата №6', 'А. П. Чехов')
console.log(`Читаю ${book}`)
// Читаю «Палата №6», автор А. П. Чехов
</code></pre>
<p>Если вы предпочитаете работать в функциональном стиле, то придётся создать новый тип объекта и переопределить метод <code>toString</code> в прототипе:</p>
<pre><code class="language-js">function Book(title, author) {
  this.title = title
  this.author = author
}

Book.prototype.toString = function() {
  return `«${this.title}», автор ${this.author}`
}

const book = new Book('Палата №6', 'А. П. Чехов')
console.log(`Читаю ${book}`)
// Читаю «Палата №6», автор А. П. Чехов
</code></pre>
<p>Под капотом JavaScript обе реализации идентичны и отличаются только использованным синтаксисом.</p>
