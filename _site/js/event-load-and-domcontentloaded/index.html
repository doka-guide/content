<h2>Кратко</h2>
<p>Если нужно запустить JavaScript-код после того, как страница загрузилась, то нужно <a href="/js/events/">подписаться на одно из событий</a> у объекта <code>window</code>:</p>
<ul>
<li><code>DOMContentLoaded</code> — событие происходит, когда браузер разобрал HTML-страницу и составил <a href="/js/dom/">DOM-дерево</a>;</li>
<li><code>load</code> — событие происходит, когда загрузилась и HTML страница, и все ресурсы для её отображения пользователю: стили, картинки и так далее.</li>
</ul>
<p><code>DOMContentLoaded</code> всегда происходит раньше, чем <code>load</code>. Чем больше стилей и картинок на странице, тем больше разница во времени между срабатыванием этих событий.</p>
<h2>Как пишется</h2>
<pre><code class="language-js">window.addEventListener(&quot;load&quot;, function () {
  console.log(&quot;load!&quot;)
})

// это событие можно обрабатывать так же и на document
window.addEventListener(&quot;DOMContentLoaded&quot;, function () {
  console.log(&quot;dom loaded!&quot;)
})
</code></pre>
<h2>Как понять</h2>
<p>Для того, чтобы показать пользователю страницу, браузер делает следующие шаги:</p>
<ol>
<li>Запрашивает HTML-страницу с сервера;</li>
<li>Обрабатывает полученный HTML и создаёт <a href="/js/dom/">DOM</a> для взаимодействия между JavaScript и HTML (☝️ в конце этого этапа происходит событие <code>DOMContentLoaded</code>);</li>
<li>Запрашивает у сервера дополнительные файлы, встретившиеся при разборе HTML: картинки, шрифты, CSS- и JS-файлы;</li>
<li>Получив все данные, отображает страницу пользователю (☝️ тут происходит событие <code>load</code>).</li>
</ol>
<p>Событие <code>DOMContentLoaded</code> гарантирует, что DOM готов. Можешь искать узлы по нему и не бояться, что что-то не догрузилось.</p>
<p>Событие <code>load</code> дополнительно гарантирует, что все стили и картинки готовы. В этот момент размеры элементов на страницы посчитаны верно и доступны. <code>DOMContentLoaded</code> таких гарантий не даёт.</p>
<iframe title="Разница между событиями load и DOMContentloaded" src="demos/overloaded/" height="530"></iframe>
