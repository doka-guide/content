<h2>Кратко</h2>
<p>Функция <code>Array.from()</code> создаёт новый массив на основе переданного объекта. Объект должен быть либо массивоподобным (как строка или объект <code>arguments</code>), либо итерируемым (как <code>Set</code> или <code>Map</code>).</p>
<h2>Как пишется</h2>
<p>Функция <code>Array.from()</code> принимает три аргумента, последние два из которых не обязательны:</p>
<ul>
<li>Объект, на основе которого создаётся массив.</li>
<li>Функция преобразования элемента перед его добавлением в массив. Работает как метод <a href="/js/array-map/"><code>.map()</code></a>.</li>
<li>Значение, которое будет использоваться как <code>this</code> в функции из второго параметра.</li>
</ul>
<p>Возвращает новый массив, составленный из элементов переданного объекта.</p>
<h2>Пример</h2>
<h3>Массив из строки</h3>
<pre><code class="language-js">const arr = Array.from('дока')

console.log(arr)
// ['д', 'о', 'к', 'а']
</code></pre>
<h3>Массив из <code>Set</code></h3>
<pre><code class="language-js">const uniqueNumbers = new Set()
uniqueThings.add(1)
uniqueThings.add(2)
uniqueThings.add(3)

const arr = Array.from(uniqueNumbers)
// [1, 2, 3]
</code></pre>
<h3>Массив из <a href="/js/htmlcollection-and-nodelist/">NodeList</a></h3>
<p>Получить URL из всех ссылок на странице:</p>
<pre><code class="language-js">const linkElements = document.getElementsByTagName('a')

const arrLinks = Array.from(linkElements, function(a) { return a.href })
</code></pre>
<h2>Как понять</h2>
<p>В JavaScript и браузерных API есть много объектов, которые очень похожи на массив, но не являются им. Объекты могут выглядеть как массив, но не иметь всех методов массива: <a href="/js/array-foreach/"><code>.forEach()</code></a>, <a href="/js/array-map/"><code>.map()</code></a>, <a href="/js/array-filter/"><code>.filter()</code></a> и так далее.</p>
<p>Такие объекты приходится превращать в массивы для удобства работы с ними или для интеграции с библиотеками. <code>Array.from()</code> создан, чтобы решить проблему конвертации таких объектов в новый массив.</p>
<p><code>Array.from()</code> работает не со всеми объектами. Объект должен обладать одним из двух свойств, чтобы его получилось превратить в массив:</p>
<ul>
<li>Элементы объекта проиндексированы и объект имеет свойство <code>.length</code>. Такие объекты называют <em>массивоподобными</em>, потому что именно эти свойства присущи массиву. Этим свойством обладают объекты <code>arguments</code>, <a href="/js/htmlcollection-and-nodelist/"><code>NodeList</code></a>, <a href="/js/htmlcollection-and-nodelist/"><code>HTMLCollection</code></a>.</li>
<li>Объект итерируемый, то есть реализует интерфейс <code>Iterable</code>. Этим свойством обладают объекты <code>Set</code> и <code>Map</code>.</li>
</ul>
<p><code>Array.from()</code> перебирает каждый элемент и добавляет его в новый массив. Если передан второй аргумент, то перед добавлением происходит преобразование элемента.</p>
<aside>
<p>☝️ При создании массива происходит <a href="/js/shallow-or-deep-clone/">поверхностное копирование (shallow copy) элементов</a>. Если объект, на основе которого создаётся массив, содержит вложенные структуры данных, то эти вложенные структуры скопированы не будут. При их изменении в объекте изменения будут видны и в полученном массиве.</p>
</aside>
