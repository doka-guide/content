<h2>Кратко</h2>
<p>Вызов метода <code>focus</code> на <a href="/js/element/">DOM-элементе</a> устанавливает фокус на этот элемент. Когда элемент находится в фокусе, он перехватывает и обрабатывает события клавиатуры.</p>
<p>Фокус нельзя поставить на элемент, если он заблокирован. Например, если у кнопки или поля ввода стоит атрибут <code>disabled</code>.</p>
<h2>Как пишется</h2>
<p>Метод <code>focus</code> обычно вызывается без аргументов, но в него также можно передать объект со свойством <code>preventScroll</code>:</p>
<pre><code class="language-js">element.focus()
element.focus({ preventScroll: true })
</code></pre>
<p>По умолчанию браузер прокручивает страницу до элемента, на который перемещён фокус. Это так же происходит, если <code>preventScroll</code> установлен в <code>false</code>. Если <code>preventScroll</code> установлен в <code>true</code>, то прокрутки страницы к элементу не произойдёт.</p>
<h2>Пример</h2>
<p>Представим, что мы работаем с веб-страницей с формой:</p>
<pre><code class="language-html">&lt;form action=&quot;/apply&quot; method=&quot;POST&quot;&gt;
  &lt;label&gt;
    Your name:
    &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;
  &lt;/label&gt;

  &lt;label&gt;
    Email:
    &lt;input type=&quot;email&quot; name=&quot;email&quot; id=&quot;email&quot;&gt;
  &lt;/label&gt;

  &lt;button type=&quot;submit&quot;&gt;Подать заявку&lt;/button&gt;
&lt;/form&gt;
</code></pre>
<p>Чтобы программно установить фокус в поле <em>Email</em> нужно получить искомый элемент и вызвать метод <code>focus()</code> на нём:</p>
<pre><code class="language-js">const emailInput = document.getElementById(&quot;email&quot;)
emailInput.focus()
</code></pre>
<p>После выполнения кода поле станет доступно для ввода.</p>
<p>В примере фокус перемещается в зависимости от выбранного элемента в выпадающем списке:</p>
<iframe title="Перенос фокуса на элемент" src="demos/" height="200"></iframe>
<h2>Как понять</h2>
<h3>Что такое фокус?</h3>
<p>Фокус в вебе — это обозначение активного элемента на странице. Такой элемент браузеры чаще всего обозначают голубой полупрозрачной обводкой. С активным элементом можно взаимодействовать, он принимает события клавиатуры. Например, когда мы печатаем значение в поле ввода, это поле ввода находится в фокусе.</p>
<p>Фокус критически важен для людей, которые не могут или не хотят пользоваться мышью. С помощью кнопки <kbd>Tab</kbd> такие пользователи перемещают фокус между интерактивными элементами внутри страницы. Это поведение предоставляется браузером по умолчанию.</p>
<p>На фокус можно влиять с помощью HTML-атрибутов <a href="/html/input/"><code>autofocus</code></a> и <a href="/html/global-attrs/"><code>tabindex</code></a>, а также из JavaScript с помощью вызова методов <code>focus()</code> и <code>blur()</code> у <a href="/js/element/">DOM-элементов</a>.</p>
<p>Когда браузер отображает страницу, то по умолчанию фокус не установлен. При нажатии <kbd>Tab</kbd> фокус установится в первый интерактивный элемент сверху страницы и будет двигаться сверху вниз по порядку в разметке.</p>
<h3>Когда нужен <code>focus()</code>?</h3>
<p>Бывают случаи, когда нужно программно установить фокус на элемент:</p>
<ul>
<li>пользователь нажал на кнопку, которая открывает модальное окно. Нужно переместить фокус в это окно, чтобы пользователь не потерялся.</li>
<li>при выборе значения из списка нужно автоматически переместить фокус на зависимый список.</li>
<li>при реализации кастомных горячих клавиш. Например, хотим перемещаться между элементами формы стрелками.</li>
</ul>
<p>Эти случаи объединяет необходимость перемещать фокус непоследовательно, не так, как браузер делает по умолчанию. Произвольно переместить фокус позволяет метод <code>focus()</code>.</p>
<p>Например, в случае с открытием модального окна нужно переместить фокус на него. Подпишемся на событие <code>click</code> на кнопке открытия окна и вызовем <code>focus()</code> в обработчике:</p>
<pre><code class="language-js">const openModalButton = document.getElementById(&quot;open-modal-button&quot;)
const modalWindow = document.getElementById(&quot;modal-window&quot;)
openModalButton.addEventListener(&quot;click&quot;, function(event) {
  modalWindow.focus()
})
</code></pre>
<p>Полный пример реализации модального окна описан в <a href="https://www.w3.org/TR/wai-aria-practices-1.1/examples/dialog-modal/dialog.html">WAI-ARIA Authoring Practices</a>.</p>
<h3>Не на каждый элемент можно установить фокус</h3>
<p>Фокус — это обозначение активного элемента на странице, но не все элементы могут иметь фокус. Обычно фокус можно выставить интерактивным элементам, с которыми можно взаимодействовать с клавиатуры.</p>
<p>В спецификации HTML описаны <a href="https://html.spec.whatwg.org/multipage/interaction.html#focusable-area">все критерии, которые делают элемент доступным для фокуса</a>. Мы же разберём самые важные.</p>
<p>Если не устанавливать атрибуты, которые влияют на доступность элемента для фокуса, то каждый браузер самостоятельно определяет, какой элемент может иметь фокус. Во всех современных браузерах, следующие элементы могут иметь фокус:</p>
<ul>
<li>ссылки <a href="/html/a/"><code>&lt;a&gt;</code></a> с установленным атрибутом <code>href</code>;</li>
<li>кнопки <a href="/html/button/"><code>&lt;button&gt;</code></a>;</li>
<li>поля ввода <a href="/html/input/"><code>&lt;input&gt;</code></a>, кроме скрытых (<code>type=&quot;hidden&quot;</code>);</li>
<li>выпадающие списки <a href="/html/select/"><code>&lt;select&gt;</code></a>;</li>
<li>поля многостраничного ввода <a href="/html/textarea/"><code>textarea</code></a>;</li>
<li>элементы <a href="/html/details/"><code>&lt;summary&gt;</code></a>;</li>
<li>произвольный элемент, если у него установлен атрибут <code>tabindex</code>.</li>
</ul>
<p>Если у любого из этих элементов установить атрибут <code>disabled</code>, то элемент перестаёт быть доступным для фокуса.</p>
