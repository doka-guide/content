<aside>
<p>üí° –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–≤—è–∑–∞–Ω–∞ —Å –ø–æ–Ω—è—Ç–∏–µ–º <a href="/js/promise/"><code>Promise</code></a>.</p>
</aside>
<h2>–ö—Ä–∞—Ç–∫–æ</h2>
<p>–ú–µ—Ç–æ–¥ <code>race()</code> ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –æ–±—ä–µ–∫—Ç–∞ <code>Promise</code>. –ï–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤ –∏ –¥–æ–∂–¥–∞—Ç—å—Å—è —Ç–æ–≥–æ, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ.</p>
<h2>–ö–∞–∫ –ø–∏—à–µ—Ç—Å—è</h2>
<p><code>Promise.race()</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–æ–º–∏—Å–æ–≤ (—á–∞—â–µ –≤—Å–µ–≥–æ ‚Äî –º–∞—Å—Å–∏–≤) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å.
–û–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –∏–∑ –≤—Å–µ—Ö –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö. –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã –±—É–¥—É—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã.</p>
<h2>–ö–∞–∫ –ø–æ–Ω—è—Ç—å</h2>
<h3>–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ</h3>
<p>–°–æ–∑–¥–∞–¥–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤, –∑–∞–≤–µ—Ä—à–∞—é—â–∏—Ö—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.</p>
<pre><code class="language-js">const slow = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(1), 6000))
const fast = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(2), 3000))
const theFastest = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(3), 1000))
</code></pre>
<p>–ü–µ—Ä–µ–¥–∞–¥–∏–º –º–∞—Å—Å–∏–≤ –∏–∑ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –≤ <code>Promise.race()</code>:</p>
<pre><code class="language-js">Promise.race([slow, fast, theFastest])
  .then((value) =&gt; {
    console.log(value)
    // 3
  })
</code></pre>
<p>–í –∫–æ–Ω—Å–æ–ª—å –∑–∞–ø–∏—à–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è <code>theFastest</code>, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –±—ã—Å—Ç—Ä–µ–µ –≤—Å–µ—Ö.</p>
<h3>–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π</h3>
<p>–°–æ–∑–¥–∞–¥–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤, –≥–¥–µ <code>theFastest</code> –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π.</p>
<pre><code class="language-js">const slow = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(1), 6000))
const fast = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(2), 3000))
const theFastest = new Promise((resolve, reject) =&gt; setTimeout(() =&gt; reject('Some error'), 1000))
</code></pre>
<p>–ü–µ—Ä–µ–¥–∞–¥–∏–º –º–∞—Å—Å–∏–≤ –∏–∑ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –≤ <code>Promise.race()</code>:</p>
<pre><code class="language-js">Promise.race([slow, fast, theFastest])
  .then((value) =&gt; {
    console.log(value)
    // —ç—Ç–∞ —á–∞—Å—Ç—å –±—É–¥–µ—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –±—ã—Å—Ç—Ä–µ–µ –≤—Å–µ—Ö –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –ø—Ä–æ–º–∏—Å —Å –æ—à–∏–±–∫–æ–π
  })
  .catch((error) =&gt; {
    console.log(error)
    // 'Some error'
  })
</code></pre>
<p>–í –∫–æ–Ω—Å–æ–ª—å –∑–∞–ø–∏—à–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è <code>theFastest</code>, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –±—ã—Å—Ç—Ä–µ–µ –≤—Å–µ—Ö.</p>
<h3>–ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–º–∏—Å–æ–≤</h3>
<p>–ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ <code>Promise.race()</code> –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫, —Ç–æ –ø—Ä–æ–º–∏—Å –Ω–∞–≤—Å–µ–≥–¥–∞ –∑–∞–≤–∏—Å–Ω–µ—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ <code>pending</code>:</p>
<pre><code class="language-js">Promise.race([])
  .then((value) =&gt; {
    console.log(value)
    // then –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
  })
  .catch((error) =&gt; {
    console.log(error)
    // catch –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
  })
</code></pre>
<h3>–û—Ç–ª–∏—á–∏–µ –æ—Ç <code>Promise.any()</code></h3>
<p>–ö–∞–∫ –º—ã —É–∂–µ –∑–Ω–∞–µ–º, <code>Promise.race()</code> –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –∏–∑ –≤—Å–µ—Ö –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤. –î–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è <em>—Å –æ—à–∏–±–∫–æ–π</em>.</p>
<p><code>Promise.any()</code> –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ <em>–±–µ–∑ –æ—à–∏–±–∫–∏</em> –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –∏–∑ –≤—Å–µ—Ö –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤.</p>
<p>–°–æ–∑–¥–∞–¥–∏–º –µ—â—ë —Ä–∞–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤, –≥–¥–µ <code>theFastest</code> –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π:</p>
<pre><code class="language-js">const slow = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(1), 6000))
const fast = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(2), 3000))
const theFastest = new Promise((resolve, reject) =&gt; setTimeout(() =&gt; reject('Some error'), 1000))
</code></pre>
<p>–ü–µ—Ä–µ–¥–∞–¥–∏–º –º–∞—Å—Å–∏–≤ –∏–∑ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –≤ <code>Promise.any()</code>:</p>
<pre><code class="language-js">Promise.any([slow, fast, theFastest])
  .then((value) =&gt; {
    console.log(value)
    // 2
  })
  .catch((error) =&gt; {
    console.log(error)
    // –≤ —ç—Ç—É —á–∞—Å—Ç—å –∫–æ–¥–∞ –º—ã –Ω–µ –ø–æ–ø–∞–¥—ë–º
  })
</code></pre>
<p>–í –∫–æ–Ω—Å–æ–ª—å –∑–∞–ø–∏—à–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è <code>fast</code>, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –±—ã—Å—Ç—Ä–µ–µ –≤—Å–µ—Ö –∏ –±–µ–∑ –æ—à–∏–±–∫–∏. –≠—Ç–æ—Ç –∂–µ –ø—Ä–∏–º–µ—Ä, –Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º <code>Promise.race()</code> –ø–æ–ø–∞–¥–∞–µ—Ç –≤ <code>catch</code>.</p>
