---
title: "`env`"
description: "Если 'бровки' и 'чёлки' устройства  заслоняют контент — env придёт на помощь."
authors:
  - anastasiayarosh
related:
  - css/padding
  - css/margin
  - js/bom
tags:
  - doka
---

## Кратко

Функция env() используется для вставки значения переменной среды, определенной юзер-агентом, в ваш CSS. Это почти то же самое, что и var() в CSS, но env() переменные определяются агентом пользователя, не самим пользователем. Эти переменные имеют глобальную область действия.

Свойство поддерживается всеми основными браузерами.

## Пример

```css
.element {
  margin-bottom: env(safe-area-inset-bottom, 16px);
  /* Если переменная не определена, будет использован 16px */
}
```


### Синтаксис

Обратите внимание, что значения свойств env() чувствительны к регистру. Свойство и значение свойства записываются в таком формате:

```css
property: env(переменная, fallback-значение);
```

Где переменная – это имя системной переменной (например, `safe-area-inset-top`). Fallback (опционально) – значение, если переменная недоступна.

```css
/* Использование значений для переменной  */
env(safe-area-inset-top);
env(safe-area-inset-right);

/* Использование значений с фоллбэк-значением */
env(safe-area-inset-top, 20px);
env(safe-area-inset-right, 1em);
```

Переменные `safe-area-inset-*` — это переменные, которые определяют прямоугольник по отступам с разных сторон от края области просмотра. Этот прямоугольник — безопасная зона для контента. На обычных экранах (как у ноутбука) он совпадает с краями, поэтому обрезки нет. Но на нестандартных дисплеях (например, круглых умных часах) контент внутри этого прямоугольника гарантированно будет виден, а всё за его пределами может обрезаться. Размеры зоны задаёт система.

## Подключение

Чтобы сообщить браузеру, что мы хотим использовать все доступное пространство на экране, нам нужно добавить новое метазначение для вьюпорта. Это позволит нам использовать переменные `env()`:

```html
<meta name="viewport" content="viewport-fit=cover" />

```

Потом обозначаем, чего мы хотим добиться, и задаём конкретное расположение с конкретным значением. В приведённом ниже примере элементу body задаются отступы со всех 4 сторон.

```css
body {
  padding: env(safe-area-inset-top, 40px) env(safe-area-inset-right, 40px)
    env(safe-area-inset-bottom, 40px) env(safe-area-inset-left, 40px);
}
```

## Какие проблемы решает env()

Функцию env() можно использовать вместо любой части значения свойства или,например, в правилах медиазапросов.

Значения `safe-area-inset-*` первоначально использовались для браузера iOS. С их помощью разработчики размещают свой контент в безопасной области области просмотра. Эти значения можно использовать для обеспечения видимости контента даже для пользователей с непрямоугольными дисплеями.

Распространенная проблемая, которую решают с помощью env() — проблема уведомлений устройства (пушей), которые закрывают часть пользовательского интерфейса. Если размещать фиксированные элементы с помощью env(), можно гарантировать, что они отображаются в безопасном участке области просмотра.

Env()  можно использовать и для PWA. PWA используют функцию наложения элементов управления окнами для использования всей поверхности окна приложения. Используя значения `titlebar-area-*`, они могут размещать элементы там, где должна была бы находиться строка заголовка. При этом гарантируется, что содержимое не будет попадать на кнопки управления окном.

Переменные `keyboard-inset-*` предоставляют информацию о внешнем виде экранной виртуальной клавиатуры. Они определяют прямоугольник по его верхнему, правому, нижнему и левому отступам от края области просмотра (ширина и высота отступов рассчитываются из других отступов).

Пример использования свойства `titlebar-area-*`. Пишем html-разметку и стили для кастомного хэдера, который корректно отображается в полноэкранном режиме :

```html
<body>
  <header id="titlebar">My Custom Title Bar</header>
  <main>App Content Goes Here</main>
</body>
```

```css
#titlebar {
  position: fixed;
  left: env(titlebar-area-x, 0); /* Позиция по X (если не поддерживается — 0) */
  top: env(titlebar-area-y, 0);  /* Позиция по Y */
  width: env(titlebar-area-width, 100%); /* Ширина заголовка */
  height: env(titlebar-area-height, 40px); /* Высота */
  background: #6200ee;
  color: white;
  display: flex;
  align-items: center;
  padding-left: 16px;
}

/* Сдвигаем основной контент, чтобы он не перекрывался */
main {
  margin-top: env(titlebar-area-height, 40px);
  padding: 16px;
}
```




