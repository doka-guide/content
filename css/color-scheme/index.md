---
title: "`color-scheme`"
description: "Тёмная или светлая тема? Вы сами можете её задать!"
authors:
  - nasty23-star
keywords:
  - цветовые схемы
  - тема сайта
related:
  - css/color
  - css/media
  - ally/prefers-contrast
tags:
  - doka
---

## Кратко

Свойство `color-scheme` позволяет определять и указывать цветовые схемы, которые поддерживает сайт. Браузер может загрузить те или иные стили в зависимости от цветовой схемы, выбранной пользователем. Также это свойство помогает создать более контрастные режимы для пользователей с нарушениями зрения.

## Пример

```css
:root {
  color-scheme: dark;
}
```

## Как пишется

В качестве значения можно указать `normal`, это показывает, что используется значение по умолчанию. Соответственно, `light` и `dark` это только светлая или только тёмная тема. Если установлено значение `light dark`, это означает, что возможен как светлый, так и тёмный режим. Если написать значения в обратном порядке: `dark light`, это означает, что тёмная тема предпочтительна. Применение значения `color-scheme` зависит от значения медиафичи `prefers-color-scheme`. То есть, если у пользователя по умолчанию включен тёмный режим, то он автоматически отобразится на нашем сайте, если мы не пропишем другое значение как преимущественное.

Кроме этих значений, `color-scheme` поддерживает глобальные значения: `initital`, `revert`, `revert-layers`, `unset`.

Если нужно обозначить, что сайт работает только со светлой темой, то нужно добавить ключевое слово `only` — `only light`. И наоборот.

## Поддержка свойства

Свойство `color-scheme` поддерживается во всех основных браузерах, при использовании в старых браузерах поддержку свойства лучше проверить. Также можно использовать метатег `<meta name="color-scheme">`, это позволяет задать несколько цветовых схем через пробел `<meta name="color-scheme" content="light dark">`. Проверить поддержку свойства браузерами можно на `Can I Use` (https://caniuse.com/?search=color-scheme).

Также размещение свойства `color-scheme` в метатеге помогает немедленно загрузить необходимую цветовую схему, не дожидаясь загрузки `CSS`. Если у пользователей возможны проблемы со скоростью интернета, лучше использовать метатег. Работа метатега и свойства, записанного через `:root`, одинакова, разнится только скорость загрузки.

<iframe title="Примеры нативных элементов" src="demos/basic/" height="220" width="400"></iframe>

В приведённом примере можно увидеть, как свойство применяется к нативным элементам html, например, инпуту. В первом случае цветовая схема выбрана со значением `light`, поэтому инпут будет в цветах светлой темы. Во втором случае - `dark`, соответственно, цвет инпута будет в цветах тёмной темы. И в третьем случае свойство выбрано `light dark`, то есть инпут будет соответствовать той теме, которая выбрана у вас в операционной системе. И изменится при смене темы на другую.

## Комфортное взаимодействие

Главное, для чего нужно свойство `color-scheme` — более комфортное взаимодействие с сайтом для пользователей, независимо от их устройства или настроек браузера. При помощи эмуляции нужной темы можно пофиксить контрастность изображений, подобрать приятные для глаз цвета и сделать сайт лучше. Дефолтные значения цветов в разных браузерах могут иметь недостатки в отображении, это нужно учитывать.

Например, синий цвет для ссылок у WebKit выгллядит недостаточно контрастно в тёмной теме, что не сооветвует требованиям `WCAG AA`. Подобные ошибки есть в `Firefox` и `Chrome`. Для решения этой проблемы рекомендуется использовать свойство `prefers-color-scheme`.

Значение по умолчанию для `prefers-color-scheme` - `light` (если пользователь не написал по-другому). Код ниже показывает, как можно поменять значения цветов для большей контрастности, если у пользователя по умолчанию стоит тёмная тема.

```css
@media (prefers-color-scheme: dark) {
  .theme {
    color: #FFFFFF;
    background-color: #000000;
  }
}
```

