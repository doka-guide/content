Функция высшего порядка (Higher Order Function) — это функция, которая принимает в качестве аргумента другие функции и/или возвращает в результате своей работы функцию.

Функции высшего порядка нужны, чтобы создавать более гибкий код, строить абстракции и применять паттерны функционального программирования.

Рассмотрим несколько примеров.

`setTimeout()` — глобальная функция высшего порядка, так как принимает в качестве аргумента функцию, которая выполняется с указанной задержкой:

```js
setTimeout(
  () => {console.log('А вот и я!')},
  5000
)
```

Многие методы массива являются функциями высшего порядка, так как принимают в качестве аргумента колбэк-функции, которые перебирают элементы массива. Например, метод [`.map()`](/js/array-map/) принимает в качестве аргумента функцию, которая преобразовывает каждый элемент в массиве:

```js
const years = [1970, 1990, 1995]

const objects = years.map(item => {
  return {
    year: item
  }
})

console.log(objects)
// [ { year: 1970 }, { year: 1990 }, { year: 1995 } ]
```

Функции высшего порядка используют для реализации подхода «частичное применение функции». В нём функция при первом вызове принимает только часть нужных аргументов и возвращает новую функцию, пока ждёт остальные аргументы. Такой подход строится на механизме замыкания.

Рассмотрим как работает реализация подхода на примере. Создадим простую функцию логирования. Она принимает имя источника сообщения и текст сообщения в качестве аргументов:

```js
const log = (sourceName, message) => {
  console.log(sourceName,':', message)
}
```

Такую функцию не удобно многократно использовать для одного и того же источника сообщений, так как придётся повторно указывать первый аргумент:

```js
log('Модуль A', 'Запуск')
// Модуль A: Запуск

log('Модуль A', 'Проведено тестирование грунта')
// Модуль A: Проведено тестирование грунта
```

Изменим функцию так, чтобы она умела «запоминать» первый аргумент `sourceName`:

```js
// HOF-функция логирования
const log = sourceName => message => {
  console.log(sourceName,':', message)
}
```

Теперь `log()` — это функция высшего порядка, так как она возвращает другую функцию.
Полученная в результате вызова `log()` функция хранит источник сообщений и готова для вызова только с аргументом `message`:

```js
const logAppolo = log('Appolo 13')

logAppolo('Хьюстон…')
// Appolo 13: Хьюстон…

logAppolo('Хьюстон, у нас проблема')
// Appolo 13: Хьюстон, у нас проблема
```
