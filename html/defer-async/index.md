---
title: "Атрибуты `defer` и `async`"
authors:
  - ra1nbow1
keywords:
  - defer
  - async
tags:
  - doka
---

## Кратко

Скрипты с атрибутами `defer` выполняются последовательно, а с `async` – нет. Кроме того, `defer` всегда ждёт, пока весь HTML-документ будет готов, а `async` – нет.

## Атрибут `async`

Скрипт выполняется полностью асинхронно. Это означает, что указанный в атрибуте `src` файл будет выполняться без ожидания загрузки и отображения веб-страницы. При обнаружении `<script async src="...">` браузер не останавливает обработку страницы, а спокойно работает дальше. Когда скрипт будет загружен – он выполнится.

```html
<script src="script1.js" defer></script>
<script src="script2.js" defer></script>
```

Первым выполнится тот скрипт, который быстрее загрузится.

Поддерживается всеми браузерами, кроме IE9-.

## Атрибут `defer`

Скрипт выполнится по порядку подключения в HTML-документе.

```html
<script src="script1.js" defer></script>
<script src="script2.js" defer></script>
```

Первым всегда выполнится `script1.js`, который подключен раньше. Даже если `script2.js` загрузится раньше, он будет выполнен после первого скрипта.

## Применение

На практике `defer` используется для скриптов, которым требуется доступ ко всему DOM и/или важен их относительный порядок выполнения.

А `async` хорош для независимых скриптов, например счётчиков и рекламы, относительный порядок выполнения которых не играет роли.
