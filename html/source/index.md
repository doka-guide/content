---
title: "`<source>`"
description: "Указывает на разные форматы медиа, из которых браузер выбирает оптимальный."
authors:
  - ezhkov
contributors:
  - skorobaeus
editors:
  - tachisis
keywords:
  - адаптивные изображения
  - picture
  - srcset
  - media
related:
  - html/video
  - html/audio
  - html/img
tags:
  - doka
---

## Кратко

При помощи тега `<source>` можно указать несколько источников для видео ([`<video>`](/html/video/)), аудио ([`<audio>`](/html/audio/)) или изображения ([`<picture>`](/html/picture/)). Очень пригождается, когда нужно подключить контент в нескольких форматах для лучшей поддержки в разных браузерах.

## Пример

Пример указания пути до видеофайла в форматах WebM и MP4:

```html
<video controls width="250" height="200" muted>
  <source src="birthday.webm" type="video/webm">
  <source src="birthday.mp4" type="video/mp4">
</video>
```

Пример указания пути до аудиофайла в форматах MP3 и OGG:

```html
<audio controls>
  <source src="song.mp3" type="audio/mpeg">
  <source src="song.ogg" type="audio/ogg">
</audio>
```

Пример использования тега `<source>` для адаптивных изображений. При ширине экрана от 0 до 599 пикселей будет загружено изображение _small.jpg_, на ширине экрана от 600 пикселей будет загружено изображение _big.jpg_:

```html
<picture>
  <source srcset="big.jpg" media="(min-width: 600px)">
  <img src="small.jpg" alt="Абстрактное изображение">
</picture>
```

## Как понять

Когда мы хотим вставить на страницу аудио- или видеофайл, то используем теги [`<audio>`](/html/audio/) и [`<video>`](/html/video/). Если у нас есть несколько одинаковых файлов разного формата (например, один и тот же видеоролик в форматах .mp4 и .webm), то можно использовать тег `<source>`. Он поможет определить, какие форматы поддерживает браузер, и загрузить медиафайл в нужном формате.

С адаптивными изображениями чуть сложнее. Тег `<source>` используется совместно с тегами [`<picture>`](/html/picture/) и [`<img>`](/html/img/), чтобы определить, какое изображение должен загрузить браузер при разных условиях.

## Как пишется

В теге `<source>` могут использоваться атрибуты:

### `src`

Требуется только для использования внутри тегов `<audio>` и `<video>`. В атрибуте указывается путь до медиафайла. Если тег `<source>` находится внутри [`<picture>`](/html/picture/), то атрибут `src` игнорируется.

```html
<audio controls>
  <source src="song.mp3" type="audio/mpeg">
  <source src="song.ogg" type="audio/ogg">
</audio>
```

### `type`

Содержит указание на MIME-тип медиафайла. Если у нас есть несколько одинаковых видеофайлов разного формата, то атрибут `type` помогает выбрать первый поддерживаемый браузером:

```html
<video controls width="250" height="200" muted>
  <source src="birthday.webm" type="video/webm">
  <source src="birthday.mp4" type="video/mp4">
</video>
```

Если браузер поддерживает формат WebM, то будет загружен файл из первого тега `<source>`. Если нет, то из второго. Обычно перечисляют несколько форматов видео или аудио, начиная с самого эффективного по соотношению «размер-качество».

### `media`

Может использоваться в `<source>` только внутри элемента [`<picture>`](/html/picture/). Атрибут содержит медиавыражение для выбора нужного изображения.

```html
<picture>
  <source srcset="big.jpg" media="(min-width: 600px)">
  <img src="small.jpg" alt="Абстрактное изображение">
</picture>
```

При ширине экрана от 600 пикселей будет загружено изображение из тега `<source>`. В других случаях — из тега `<img>`.

### `srcset`

В атрибуте `srcset` через запятую перечисляются строки, которые дают браузеру информацию об изображениях. Каждая строка состоит из следующих частей:

- URL изображения (например,`1024x768.png`);
- целое число, за которым идёт буква _w_ (например, `1024w`). Число указывает на ширину изображения в пикселях;
- число, за которым идёт буква _x_ (например, `1.5x`). Число указывает на плотность пикселей, для которой будет использоваться изображение.

Например, атрибут может выглядеть так:

```html
<source srcset="640x480.png 1x, 1280x960.png 2x">
```

Эта запись означает, что для экранов с обычной плотностью пикселей будет использовано изображение _640x480.png_, а для экранов с удвоенной плотностью пикселей (например, для retina-экранов) — _1280x960.png_.

Другой вариант записи атрибута:

```html
<source srcset="1024x768.png 1024w, 640x480.png 640w">
```

Здесь мы говорим браузеру, что изображение _1024x768.png_ имеет ширину 1024 px, а изображение 640x480.png — 640 px. Эта информация помогает браузеру определить, какое изображение выбрать при разборе соседнего атрибута `sizes`.

### `sizes`

Атрибут `sizes` говорит браузеру, какой ширины нам понадобится изображение из текущего элемента `<source>` при отрисовке страницы. Можно сказать, что браузер определяет **ширину слота** для изображения. Так мы заранее сообщаем браузеру, сколько места на странице «забронировать» под изображение. Значением атрибута может быть либо абсолютное значение (например, `150px` или `30em`), либо относительное от вьюпорта (например, `20vw`). Значения в процентах не разрешены.

Атрибуты `srcset` и `sizes` эффективно работают в паре. Рассмотрим пример:

```html
<source
  srcset="images/600x100.png 600w, images/1000x200.png 1000w"
  sizes="(max-width: 1200px) 50vw, 1000px">
```

Когда браузер разбирает тег `<source>`, он выполняет следующие действия:

- смотрит на текущую ширину окна браузера;
- ищет подходящий вариант из атрибута `sizes`, с учётом плотности пикселей;
- выбирает из атрибута `srcset` подходящую картинку для слота: больше или равную ему.

Как сработает наш пример при разных ширинах:

- **1000 пикселей:** срабатывает условие `(max-width: 1200px)` (1200 пикселей или меньше), и браузер устанавливает ширину слота `50vw` (500 пикселей в нашем случае). Из списка `srcset` браузер выбирает подходящую картинку: на 1x-экране покажется _600x100.png_, на 2x-экране покажется _1000x200.png_ — ближайшие к ширине слота 500 пикселей.
- **1201 пиксель:** не срабатывает условие `(max-width: 1200px)`, и ширина слота выбирается из списка `sizes` — это `1000px`. У браузера в `srcset` самая большая картинка `1000x200.png 1000w` равна ширине слота, а значит и на 1x-, и на 2x-экране будет картинка _1000x200.png_.

<iframe title="Адаптивные изображения" src="demos/adaptive/" height="380"></iframe>
